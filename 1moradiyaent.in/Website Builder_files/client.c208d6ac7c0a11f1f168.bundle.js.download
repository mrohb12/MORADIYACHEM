webpackJsonp([2],[function(e,t,n){e.exports=n(926)},,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={ACTION:"ActionStore",ADDON:"AddonStore",APP:"AppStore",AUTH:"AuthStore",CONFIG:"ConfigStore",DOCUMENT:"DocumentStore",HISTORY:"HistoryStore",NOTIFICATION:"NotificationStore",PAGE:"PageStore",REGISTRY:"RegistryStore",REQUEST:"RequestStore",ROUTE:"RouteStore",SOCIAL:"SocialStore",STOCK_PHOTO:"StockPhotoStore",WEBSITE:"WebsiteStore",WIDGET:"WidgetStore",DOMAIN:"DomainStore",SHOPPER:"ShopperStore"},e.exports=t.default},,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,r){var o=t.filter(h),i=t.filter(m),u=(0,p.default)(i).map((function(e){return d.default[e]})).filter((function(e){return!!e})).map((function(e){return e.stores})).push(o).flatten().uniq().value();return(0,a.connectToStores)(e,u,(function(e,r){var o=t.map((function(t){return h(t)?e.getStore(t):m(t)?(0,c.reduce)(e,t):null}));return n(o,r,e)}),r)}Object.defineProperty(t,"__esModule",{value:!0}),t.subscribeToStores=o;var a=n(68),i=n(3),u=r(i),l=n(39),s=r(l),c=n(471),d=r(c),f=n(2),p=r(f),h=function(e){return p.default.values(u.default).some((function(t){return t===e}))},m=function(e){return!!s.default[e]}},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=r(o);t.default=(0,a.default)({ABOUT_DESCRIPTION_RENDERED2:null,ABOUT_HEADLINE_RENDERED:null,ABOUT_HEADLINE_RENDERED1:null,ABOUT_IMAGE_RENDERED0:null,ABOUT_IMAGE_RENDERED1:null,ABOUT_IMAGE_RENDERED2:null,ABOUT_IMAGE_RENDERED3:null,AUTO_RENEW_BILL_ME:null,AUTO_RENEW_MAYBE_LATER:null,ABOUT_SHARE_GROUP:null,ADD_TO_GALLERY:null,ADD_PAGE_LINK:null,ADD_FILE:null,ADD_PHOTO:null,ADD_SECTION_BUTTON:null,ADD_SECTION_NEW_PAGE:null,ADD_SECTION_PLACEHOLDER:null,ADD_WIDGET_PLUS_ICON:null,ADD_WIDGET_CONFIRMATION:null,ADD_WIDGET_TAB:null,ADD_WIDGET_TAB_ABOUT:null,ADD_WIDGET_TAB_CONTACT:null,ADD_WIDGET_TAB_CONTENT:null,BACK_SETTINGS_MENU:null,BACKGROUND_IMAGE_RENDERED:null,BUTTON:null,CALENDAR_DESC_BEGINNING:null,CALENDAR_DESC_REST:null,CALENDAR_DESC_ELIPSIS:null,CALENDAR_DESC_EXPAND:null,CALENDAR_RENDERED:null,CALENDAR_SHOW_NEXT_EVENTS:null,CALENDAR_SHOW_PREV_EVENTS:null,CANCEL_OLS:null,CAROUSEL_DOT:null,CHECKBOX_FORM_DISABLED:null,CHECKBOX_FORM_ENABLED:null,CHECKBOX_FORM:null,CHEVRON_RIGHT_IMAGE:null,CHEVRON_RIGHT_PRODUCT_DETAILS:null,CHEVRON_RIGHT_SETTINGS:null,CLOSE_X_BUTTON:null,COLORS_SEGMENTED_CONTROL:null,COLLECT_BUSINESS_CATEGORY:null,COLOR_SELECTED:null,COLOR_UNSELECTED:null,CONFIRMATION_BACK:null,CONTENT_DESCRIPTION1_RENDERED:null,CONTENT_DESCRIPTION2_RENDERED:null,CONTENT_DESCRIPTION3_RENDERED:null,CONTENT_HEADLINE1_RENDERED:null,CONTENT_HEADLINE2_RENDERED:null,CONTENT_HEADLINE3_RENDERED:null,CONTENT_IMAGE1_RENDERED:null,CONTENT_IMAGE2_RENDERED:null,CONTENT_IMAGE3_RENDERED:null,CONTENT_SECTION_TITLE_RENDERED:null,DELETE_PAGE_BUTTON:null,CONFIRM_DESC_REND:null,CONTACT_HOURS_TITLE_REND:null,CREATE_PAGE_BTN:null,DELETE_PAGE_ICON:null,DELETE_PAGE_MODAL_CANCEL:null,DELETE_PAGE_MODAL_DELETE:null,DELETE_PIVOT_MODAL_CANCEL:null,DELETE_PIVOT_MODAL_DELETE:null,DELETE_WIDGET_BUTTON:null,DELETE_WIDGET_MODAL_CANCEL:null,DELETE_WIDGET_MODAL_DELETE:null,DOMAIN_MATCH_UPGRADE_BUTTON:null,DOMAINS_DROPDOWN_EXT_ADD:null,DOMAINS_DROPDOWN_EXT_CHANGE:null,DOMAINS_DROPDOWN_SELECT:null,DOMAIN_LIVE_OK:null,DOWNLOAD_FILE_NAME_RENDERED:null,DROPDOWN_MUTATOR_Currency:null,IMAGE_UPLOAD_MODAL_OK:null,DONE_FEEDBACK_MENU:null,DONE_SETTINGS_MENU:null,EDIT_BUTTON:null,EDIT_FIELD_ABOUT:null,EDIT_FIELD_0:null,EDIT_FIELD_1:null,EDIT_FIELD_2:null,EDIT_FIELD_ABOUT_2_GROUP:null,EDIT_FIELD_ABOUT_3_GROUP:null,EDIT_FIELD_CONTENT:null,EDIT_FIELD_CONTENT_TITLE:null,EDIT_FIELD_CONTENT_GROUP_1:null,EDIT_FIELD_CONTENT_GROUP_2:null,EDIT_FIELD_CONTENT_GROUP_3:null,EDIT_FIELD_BACKGROUND:null,EDIT_FIELD_BUSINESS_NAME:null,EDIT_FIELD_BUSINESS_PROFILE:null,EDIT_FIELD_CONTACT_FORM:null,EDIT_FIELD_CONTACT_INFO:null,EDIT_FIELD_COPYRIGHT:null,EDIT_FIELD_DOMAIN:null,EDIT_FIELD_HOURS:null,EDIT_FIELD_INTRO_TEXT:null,EDIT_FIELD_PHONE_NUMBER:null,EDIT_FIELD_PRODUCT_DETAILS:null,EDIT_FIELD_RESET_WEBSITE:null,EDIT_FIELD_SECTION_TITLE:null,EDIT_FIELD_SHARE_BUTTONS:null,EDIT_FIELD_SHOP:null,EDIT_FIELD_TAGLINE:null,EDIT_FIELD_SOCIAL_ACCOUNTS:null,FONTS_SEGMENTED_CONTROL:null,FOOTER_SOCIAL_LINKS:null,GREY_SOCIAL_ICONS:null,SOCIAL_FACEBOOK_LINK:null,EDIT_FIELD:null,EDIT_FIELD_HEADLINE:null,EDIT_FIELD_SETTINGS:null,"EDIT_FIELD_stock-photo-btn":null,EDIT_FIELD_WIDGET_ABOUT:null,EDIT_FIELD_WIDGET_CONTACT:null,EDIT_FIELD_WIDGET_CONTENT:null,EDIT_FIELD_WIDGET_SOCIAL:null,EDIT_FIELD_WIDGET_FOOTER:null,EDIT_FIELD_WIDGET_HEADER:null,EDIT_PANEL_EDIT_ABOUT_ICON:null,EDIT_PANEL_EDIT_CALENDAR_ICON:null,EDIT_PANEL_EDIT_CONTACT_ICON:null,EDIT_PANEL_EDIT_CONTENT_ICON:null,EDIT_PANEL_EDIT_DOWNLOAD_ICON:null,EDIT_PANEL_EDIT_FOOTER_ICON:null,EDIT_PANEL_EDIT_GALLERY_ICON:null,EDIT_PANEL_EDIT_HEADER_ICON:null,EDIT_PANEL_EDIT_PAYMENT_ICON:null,EDIT_PANEL_EDIT_SHOP_ICON:null,EDIT_PANEL_EDIT_SOCIAL_ICON:null,EDIT_PANEL_EDIT_SUBSCRIBE_ICON:null,EDIT_PANEL_EDIT_MENU_ICON:null,EDIT_PANEL_EDIT_VIDEO_ICON:null,EDIT_PANEL:null,EDITOR_ERROR:null,EDITOR_HEADER_BACK_BUTTON:null,EDITOR_HEADER_DONE_BUTTON:null,EDITOR_HEADER_EDIT_BUTTON:null,EDITOR_HEADER_HAMBURGER_ICON:null,EDITOR_HAMBURGER_OPEN:null,EDITOR_HEADER_PREVIEW_BUTTON:null,EDITOR_HEADER_PREVIEW_DESKTOP:null,EDITOR_HEADER_PREVIEW_MOBILE:null,EDITOR_HEADER_PUBLISH_BUTTON:null,EDITOR_HEADER:null,EDITOR_SECTION_TYPE_ABOUT:null,EDITOR_SECTION_TYPE_CONTACT:null,EDITOR_SECTION_TYPE_FOOTER:null,EDITOR_SECTION_TYPE_HEADER:null,EDITOR_SECTION_TYPE:null,EDITOR_SECTION_TYPE_ADDNEWPAGE:null,EDITOR_SECTION_TYPE_SECTIONS:null,FONTS_TAB:null,FOOTER_PUBLISH_SITE:null,FORM_DESC_REND:null,FREE_TRIAL_CHECKOUT:null,FREE_TRIAL_CONTINUE:null,FREE_TRIAL_ERROR:null,FREE_TRIAL_ENDED_PURCHASE_NOW:null,GO_TO_MYA:null,GALLERY_SECTION_TITLE_RENDERED:null,GALLERY_IMAGE0_THUMBNAIL:null,GALLERY_IMAGE0_RENDERED:null,GALLERY_IMAGE1_RENDERED:null,HEADLINE_REND:null,IMAGE_ADD_PHOTO:null,IMAGE_EDIT_PREVIEW:null,IMAGE_ROTATE_RIGHT:null,IMAGE_ROTATE_LEFT:null,IMAGE_SLIDER:null,LAYOUT_SEGMENTED_CONTROL:null,LAYOUT:null,LAYOUT_SELECTION_TITLE:null,NPS_CLOSE:null,NPS_CONTAINER:null,NPS_SCORE:null,NPS_TEXT_AREA:null,NPS_FINISH:null,MANAGEPAGES:null,MANAGE_PAGES_BTN:null,MENU_SECTION_TITLE_RENDERED:null,MENU_SECTION_FOOTNOTE_RENDERED:null,MOBILE:null,MY_LIBRARY_PIVOT:null,NONE_IMAGE_SELECTED:null,PAGE_NAME:null,PAGES_DROPDOWN:null,PAYMENT_DESCRIPTION_RENDERED:null,PAYMENT_IMAGE_RENDERED:null,PAYMENT_ITEM_NAME_RENDERED:null,PAYMENT_PAYPALBUTTON_RENDERED:null,PAYMENT_PRICE_RENDERED:null,PAYMENT_SECTION_TITLE_RENDERED:null,PAYMENT_SHIPPING_RENDERED:null,PUBLISH_CANCEL:null,PUBLISH_NEXT:null,PUBLISH_RADIO_FREE:null,PUBLISH_RADIO_PAID:null,PUBLISH_TRY_AGAIN:null,PUBLISH_YES:null,RADIO_FORM:null,RADIO_GROUP_INPUT:null,RESET_WEBSITE_MODAL_CONFIRM:null,RESET_WEBSITE_MODAL_CANCEL:null,RESET_WEBSITE_SETTINGS_OK:null,SEARCH_BUTTON:null,SEARCH_MORE_DOMAINS:null,SECTION_BACKGROUND:null,SECTION_TITLE_REND:null,SEO_BUTTON:null,SEO_SETTINGS_PAGE_SELECTOR:null,SETUP_EXTERNAL_DOMAIN_LINK:null,SHARE_BUTTONS:null,SHOP_PAGE_LINK_TITLE:null,SITE_COLOR_PACK:null,SITE_COLOR:null,STOCK_PHOTOS_PIVOT:null,SUBSCRIBE_SUBMIT_BUTTON_REND:null,TAB:null,TAB_IMAGE_PICKER:null,TAB_IMAGE_EDITOR:null,TEXTAREA_INPUT_COPYRIGHT:null,TEXTAREA_INPUT_CARDS_0_DESCRIPTION:null,TEXTAREA_INPUT_CARDS_1_DESCRIPTION:null,TEXTAREA_INPUT_CARDS_2_DESCRIPTION:null,TEXTAREA_INPUT_TAGLINE:null,TEXT_DISP_DESC_ABOUT_1_GROUP:null,TEXT_DISP_DESC_ABOUT_2_GROUP:null,TEXT_DISP_DESC_ABOUT_3_GROUP:null,TEXT_DISP_DESC_CONTENT_TITLE:null,TEXT_DISP_DESC_CONTENT_GROUP_1:null,TEXT_DISP_DESC_CONTENT_GROUP_2:null,TEXT_DISP_DESC_CONTENT_GROUP_3:null,TEXT_DISP_DESC_BUSINESS_NAME:null,TEXT_DISP_DESC_CONTACT_FORM:null,TEXT_DISP_DESC_CONTACT_INFO:null,TEXT_DISP_DESC_COPYRIGHT:null,TEXT_DISP_DESC_DOMAIN:null,TEXT_DISP_DESC_HOURS:null,TEXT_DISP_DESC_INTRO_TEXT:null,TEXT_DISP_DESC_PHONE_NUMBER:null,TEXT_DISP_DESC_SECTION_TITLE:null,TEXT_DISP_DESC_SECTIONTITLE:null,TEXT_DISP_DESC_TAGLINE:null,TEXT_DISP_DESC:null,TEXT_DISP_HDLINE_0:null,TEXT_DISP_HDLINE_ABOUT_1_GROUP:null,TEXT_DISP_HDLINE_ABOUT_2_GROUP:null,TEXT_DISP_HDLINE_ABOUT_3_GROUP:null,TEXT_DISP_HDLINE_CONTENT_TITLE:null,TEXT_DISP_HDLINE_CARDIMAGE1:null,TEXT_DISP_HDLINE_CARDIMAGE2:null,TEXT_DISP_HDLINE_CARDIMAGE3:null,TEXT_DISP_HDLINE_DESCRIPTION:null,TEXT_DISP_HDLINE:null,TEXT_DISP_HDLINE_IMAGE:null,TEXT_DISPLAYED_ABOUT_1_GROUP:null,TEXT_DISPLAYED_ABOUT_2_GROUP:null,TEXT_DISPLAYED_ABOUT_3_GROUP:null,TEXT_DISPLAYED_BUSINESS_NAME:null,TEXT_DISPLAYED_CONTACT_FORM:null,TEXT_DISPLAYED_CONTACT_INFO:null,TEXT_DISPLAYED_COPYRIGHT:null,TEXT_DISPLAYED_HOURS:null,TEXT_DISPLAYED_INTRO_TEXT:null,TEXT_DISPLAYED_PHONE_NUMBER:null,TEXT_DISPLAYED_SECTION_TITLE:null,TEXT_DISPLAYED_TAGLINE:null,TEXT_DISPLAYED:null,TEXT_INPUT_ADDRESS:null,TEXT_INPUT_AMOUNT:null,TEXT_INPUT_BUSINESSCATEGORY:null,TEXT_INPUT_BUSINESSNAME:null,TEXT_INPUT_BUTTONLABEL:null,TEXT_INPUT_BUYNOWBUTTONLABEL:null,TEXT_INPUT_COPYRIGHT:null,TEXT_INPUT_DISPLAYNAME:null,TEXT_INPUT_EMAIL:null,TEXT_INPUT_CTA_BUTTON_LABEL:null,TEXT_INPUT_CTA_EXTERNAL_URL:null,TEXT_INPUT_DOMAIN:null,TEXT_INPUT_EXTERNAL_URL:null,TEXT_INPUT_FACEBOOKPROFILE:null,TEXT_INPUT_FOOTNOTE:null,TEXT_INPUT_FORMEMAIL:null,TEXT_INPUT_FORMTITLE:null,TEXT_INPUT_HEADLINE:null,TEXT_INPUT_HEADLINE1:null,TEXT_INPUT_HEADLINE2:null,TEXT_INPUT_HEADLINE3:null,TEXT_INPUT_HOURSTITLE:null,TEXT_INPUT_INFOTITLE:null,TEXT_INPUT_ICALURL:null,TEXT_INPUT_ITEMNAME:null,TEXT_INPUT_PAGE_NAME:null,TEXT_INPUT_PHONE:null,TEXT_INPUT_PHONENUMBER:null,TEXT_INPUT_PRICE:null,TEXT_INPUT_POWEREDBY:null,TEXT_INPUT_RAWVIDEOURL:null,TEXT_INPUT_SECTIONTITLE:null,TEXT_INPUT_SHIPPING:null,TEXT_INPUT_TAGLINE:null,TEXT_INPUT_TITLE:null,TEXT_INPUT_TWITTERPROFILE:null,TEXT_INPUT_VIDEOURL:null,TEXT_INPUT:null,TEXT_LOADING_OLS:null,TEXTAREA_INPUT_DESCRIPTION:null,TEXTAREA_INPUT_DESCRIPTION1:null,TEXTAREA_INPUT_DESCRIPTION2:null,TEXTAREA_INPUT_DESCRIPTION3:null,TEXTAREA_INPUT_CONTENTCARDS_0_DESCRIPTION:null,TEXTAREA_INPUT_CONTENTCARDS_1_DESCRIPTION:null,TEXTAREA_INPUT_CONTENTCARDS_2_DESCRIPTION:null,TEXT_INPUT_CATEGORY:null,TEXTAREA_INPUT_HOURSFIELDSET_HOURS:null,TEXTAREA_INPUT_INFO:null,TEXTAREA_INPUT:null,THEME_BUTTON:null,TRY_AGAIN_OLS:null,TURN_ON_OLS:null,UPGRADE_MODAL_DESKTOP_IMG:null,UPGRADE_MODAL_TITLE:null,USER_PANEL_DOMAIN_CHANGE:null,USER_PANEL_DOMAIN_NAME:null,USER_PANEL_FEEDBACK:null,USER_PANEL_GOCENTRAL:null,USER_PANEL_HELP:null,USER_PANEL_GEM:null,USER_PANEL_MY_ACCOUNT:null,USER_PANEL_ONLINE_STORE:null,USER_PANEL_PUBLISH_SITE:null,USER_PANEL_SEO:null,USER_PANEL_SETTINGS:null,USER_PANEL_SIGN_OUT:null,VIDEO_DESCRIPTION_RENDERED:null,VIDEO_IFRAME_RENDERED:null,VIDEO_SECTION_TITLE_RENDERED:null,VIEW_SITE_PUBLISH:null,VIEW_FACEBOOK_PUBLISH:null,WIDGET_ADD_ITEM_BUTTON:null,WIDGET_REMOVE_ITEM_BUTTON:null,SOCIAL_MODAL_GOT_IT:null,PAGE_LIMIT_MODAL_GOT_IT:null,PRODUCT_GROUP_RENDERED:null,DOMAIN_UPGRADE_BUTTON:null,CHEVRON_RIGHT:null,EXTERNAL_DOMAIN_TEXT_FIELD:null,HELP_LINK_FOR_EXTERNAL_DOMAIN:null,MODAL_CLOSE_BUTTON:null}),e.exports=t.default},function(e,t,n){"use strict";function r(e,t){return(0,a.mapValues)(t,(function(t,n){return(0,a.mapValues)(t,(function(t,r){return[e,n,r,t].join(".")}))}))}Object.defineProperty(t,"__esModule",{value:!0}),t.TRAFFIC_PREFIX=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(2),i="click",u="swipe",l="scroll",s="impression",c="error",d=t.TRAFFIC_PREFIX="pandc.vnext",f={buy_your_website_modal:s,buy_your_website_modal_checkout_button:i,buy_your_website_modal_close_with_x:i,auto_renew_modal:s,auto_renew_modal_charge_me_after_trial_button:i,auto_renew_modal_may_be_later_button:i,auto_renew_modal_close_with_x:i,auto_renew_failure_modal:s,auto_renew_failure_modal_continue_to_cart_button:i,auto_renew_failure_modal_close_with_x:i,you_are_good_to_go_modal_close_button:i,you_are_good_to_go_modal_close_with_x:i};t.default=r(d,{domain_attach:o({domain_attach_after_purchase_success:s,domain_attach_after_purchase:c},f),edit_layout:{select_widget_on_desktop:i},edit_site:{edit_tab:i,edit_facebook_tab:i,styles_tab:i,styles_tab_new:i,preview_button_on_desktop:i,click_section_to_edit:i,click_pencil_icon_to_edit:i,shop_page_link:i,add_page_form_add_button:i,manage_pages_cog_wheel:i,manage_pages_add_page_button:i,manage_pages_drag_page_item:i,manage_pages_rename_page:i,manage_shop_button_on_desktop:i,manage_sections_drag_section_item:i,close_icon_on_manage_pages_editor:i,add_widget_button:i,add_first_page_widget_button:i,select_a_section:i,click_add_section_upgrade_promo:i,add_section_confirmation_button:i,select_a_layout_to_add:i,close_add_section_window:i,delete_page_trash_icon:i,delete_section_trash_icon:i,cancel_button_on_delete_confirmation:i,cancel_button_on_warning_confirmation:i,cancel_button_on_delete_page_confirmation:i,close_icon_on_delete_confirmation:i,close_icon_on_warning_confirmation:i,close_icon_on_delete_page_confirmation:i,delete_button_on_delete_confirmation:i,delete_button_on_warning_confirmation:i,delete_button_on_delete_page_confirmation:i,close_icon_on_page_limit_notification:i,gotit_button_on_page_limit_notification:i,desktop_view_header_navigation_link:i,mobile_view_header_navigation_link:i,ok_button_on_upload_image_confirmation:i,close_icon_on_upload_image_confirmation:i,page_dropdown_open:i,page_dropdown_close:i,page_dropdown_add_page:i,page_dropdown_manage_pages:i,create_page_button:i,create_link_button:i,show_page_in_nav:i,hide_page_in_nav:i,manage_pages_add_page:i,manage_pages_add_link:i,manage_pages_remove_page:i},edit_styles:{theme_switch:i,theme_reset:i,colors_tab:i,fonts_tab:i,select_color_from_squares:i,select_paint_job:i,select_font_from_spectrum:i},edit_widget:{swipe_widget_design:u,use_carousel_dots_to_change_design:i,cancel_button_on_delete_pivot_confirmation:i,close_icon_on_delete_pivot_confirmation:i,delete_button_on_delete_pivot_confirmation:i,delete_pivot_button:i,edit_image_launch:i,edit_image_rotate:i,edit_image_zoom:i,edit_image_pan:i,edit_background_launch:i,edit_background_rotate:i,edit_background_position:i,edit_image_array_drag_image_item:i,file_upload_button:i},edit_widget_background:{add_photo_button:i,select_none:i},editor_preview:{desktop_preview_on_mobile:i,mobile_preview_on_mobile:i,edit_link_on_mobile:i,publish_site_button_on_mobile:i,edit_button_on_desktop:i,publish_button_on_desktop:i,use_mobile_preview_on_desktop:l,submit_form_in_desktop_preview_on_desktop:i,submit_form_in_mobile_preview_on_desktop:i,use_social_buttons_in_desktop_preview_on_desktop:i,use_social_buttons_in_mobile_preview_on_desktop:i,desktop_view_header_navigation_link:i,mobile_view_header_navigation_link:i},editor_publish_modal:o({domain_chooser_none:s,domain_chooser_one:s,domain_chooser_multi:s,close_publish_modal_with_x:i,domain_live_ok_button:i,publish_site_button:i,publish_with_free_domain:i,publish_with_godaddy_domain:i,publish_with_external_domain:i,cancel_button:i,view_my_site_button:i,publish_try_again_button:i,close_button:i,publish_error_close_button:i,successful_publish:s,publish_success_setup_external_domain_link:i},f),editor_publish_modal_domain_recommendations:o({buy_domain_button:i,buy_cctld_domain_button:i,buy_external_domain_button:i,domain_recommendations_success:s,domain_recommendations:c,domain_recommendations_timeout:c,domain_recommendations_buy_button:i,search_for_more_domains_link:i,domain_search_modal_back_link:i,domain_search_success:s,domain_search_timeout:c,domain_search:c,domain_search_magnifying_glass:i,domain_search_buy_button:i},f),editor_side_menu:{open_side_menu:i,user_hamburger_to_close_side_menu:i,click_outside_to_close_side_menu:i,publish_site_from_side_menu:i,launch_settings:i,launch_business_profile_settings:i,launch_seo_settings:i,launch_domain_settings:i,launch_social_account_settings:i,select_gdsites_subdomain:i,select_custom_gd_domain:i,launch_uservoice_feedback:i,launch_gd_help:i,launch_gem:i,launch_google_analytics_settings:i,launch_reset_website_settings:i,launch_gocentral_home:i,go_back_to_mya:i,logout_from_app:i,change_business_name:i,change_business_email:i,change_business_address:i,change_business_phone:i,change_business_category:i,change_seo_settings:i,change_tracking_id:i,open_shop_from_side_menu:i,redirect_to_ga_signup:i,redirect_to_find_tracking_id:i,change_facebook_profile:i,change_twitter_profile:i,change_instagram_profile:i,change_pinterest_profile:i,change_linkedin_profile:i,change_youtube_profile:i,change_googleplus_profile:i,seo_upgrade_learn_more:i,sev_upgrade_modal:i,clear_all_content_button:i},external_domain_modal:{external_domain_modal_impression:s,publish_site_button:i,published_on_external_domain:i,back_button:i,cancel_button:i,publish_success_impression:s,help_dns_setup:i,view_my_site_button:i},free_trial_banner:o({impression:s,learn_more_button:i,close_with_x:i},f),lifecycle_email:o({},f),logo_editing:{upload_logo:i,image_edit_logo:i,delete_logo:i},misc:{shopper_payment_methods_auth_failure:c},nps_dialog:{trigger_nps:i,selected_rating_0:i,selected_rating_1:i,selected_rating_2:i,selected_rating_3:i,selected_rating_4:i,selected_rating_5:i,selected_rating_6:i,selected_rating_7:i,selected_rating_8:i,selected_rating_9:i,selected_rating_10:i,type_feedback:i,click_on_finish_button:i,close_dialog_by_clicking_x:i},reset_website:{modal_impression:s,modal_confirm_start_over_button:i,modal_cancel_start_over_button:i,modal_close_with_x:i},suspension:{free_trial_live_suspension_modal_impression:s,free_trial_live_suspension_modal_goto_mya_link:i,free_trial_live_suspension_modal_purchase_now_button:i,free_trial_website_deletion_modal_impression:s,free_trial_website_deletion_modal_goto_mya_link:i,free_trial_website_deletion_modal_purchase_now_button:i,paid_suspension_go_to_mya_link:null,default_suspension_go_to_mya_link:null},upgrade_modal:{close_icon_on_commerce_modal:i,close_icon_on_business_modal:i}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=r(o);t.default=(0,a.default)({ADD_SECTION:null,LAUNCH:null,SELECT_WEBSITE:null,PREVIEW_MOBILE:null,PREVIEW_DESKTOP:null,EDIT:null,EDIT_ADD_SECTION:null,EDIT_ADD_SECTION_TYPE:null,EDIT_WIDGET:null,EDIT_WIDGET_MUTATOR:null,EDIT_WIDGET_PROPS:null,EDIT_WIDGET_DATA:null,EDIT_WIDGET_STOCK_PHOTOS:null,EDIT_WIDGET_PROP_STOCK_PHOTOS:null,EDIT_WIDGET_PROP_MY_PHOTOS:null,EDIT_WIDGET_MY_PHOTOS:null,EDIT_WIDGET_EDIT_BG:null,EDIT_WIDGET_PROP_EDIT_BG:null,EDIT_WIDGET_EDIT_IMG:null,EDIT_WIDGET_PROP_EDIT_IMG:null,EDIT_WIDGET_PROP:null,EDIT_LAYOUTS:null,EDIT_ADD:null,EDIT_ORDER:null,EDIT_STYLES:null,EDIT_COLORS:null,EDIT_FONTS:null,FULL_PAGE:null,REDIRECT:null,REDIRECT_LOCALE:null,SETTINGS:null,STYLE_GUIDE:null,WEBSITE:null}),e.exports=t.default},,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=r(o);t.default=(0,a.default)({DELETE_PAGE:null,DELETE_PAGE_WIDGET:null,GENERATE_WEBSITE:null,GET_ACCOUNT_WEBSITE:null,GET_CONFIG:null,GET_DOCUMENTS:null,GET_DOMAINS:null,GET_DOMAIN_SEARCH:null,GET_DOMAIN_SUGGESTIONS:null,GET_DOMAIN_WEBSITE:null,GET_PAGE:null,GET_PAGES:null,GET_PAGE_WIDGETS:null,GET_PRICE_CATALOG:null,GET_SHOPPER_PAYMENT_METHODS:null,GET_SHOPPER_SUBSCRIPTION:null,GET_STOCK_PHOTOS:null,GET_USER:null,GET_WEBSITE:null,GET_WEBSITES:null,GET_WEBSITE_WIDGETS:null,PATCH_WEBSITE:null,POST_AUTO_RENEW:null,POST_DOCUMENTS:null,POST_PAGE:null,POST_PAGE_WIDGET:null,POST_RENEW:null,POST_SOCIAL_FACEBOOK:null,PUBLISH_WEBSITE:null,RESET_WEBSITE:null,SAVE:null,SAVE_AND_PUBLISH:null}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.getStore(l.default.ROUTE),r=(0,i.makeRelativeRoutePayload)(n,t);return e.executeAction(a.navigateAction,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(126),i=n(256),u=n(3),l=r(u);e.exports=t.default},,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),c=n(1),d=r(c),f=["button","reset","submit"],p=(function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),s(t,[{key:"render",value:function(){var e=this.props,n=e.type.split(" "),r=t.getType(n[0]);return n.length>1&&r===n[0]&&n.shift(),d.default.createElement("button",l({},e,{type:r,className:t.getClassName(n,e.className).join(" ")}),e.children)}}]),t})(c.Component);t.default=p,p.getType=function(e){return e=e.toLowerCase(),~f.indexOf(e)?e:f[0]},p.getClassName=function(e,t){var n=["btn"];return e=e||[],n.push.apply(n,o(e.map((function(e){return p.classNames[e]})))),n.push(t),n.filter(Boolean)},p.defaultProps={type:"button"},p.classNames={base:"",button:"btn-primary",canvas:"btn-canvas",content:"btn-content",danger:"btn-danger",dark:"btn-dark",default:"btn-default",defaultDark:"btn-default-dark",defaultLight:"btn-default-light",defaultPurchase:"btn-default-purchase",info:"btn-info",link:"btn-link",primary:"btn-primary",purchase:"btn-purchase",submit:"btn-primary",success:"btn-success",tertiary:"btn-tertiary",tertiaryInline:"btn-tertiary-inline",warning:"btn-warning"},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t={};return e&&(t["x-shopper-id"]=e),t}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.getStore(l.default.CONFIG),r=e.getStore(l.default.AUTH),a=!0,u=n.get("api.retries",{}),s=n.getApiURL(),d=o(r.getShopperId());return(0,c.default)(e,i({enableReauth:a,retries:u},t,{headers:d,baseUrl:s}))}Object.defineProperty(t,"__esModule",{value:!0}),t.getHeaders=t.default=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(3),l=r(u),s=n(252),c=r(s);t.default=a,t.getHeaders=o},,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="/accounts",r=n+"/{accountId}",o=r+"/website",a="/websites",i=a+"/{websiteId}",u=i+"/actions/publish",l=i+"/actions/reset",s=i+"/pages",c=s+"/{pageId}",d=i+"/pages/00000000-0000-0000-0000-000000000000/widgets",f=c+"/widgets",p=f+"/{widgetId}",h=i+"/documents",m="/stockPhotos",g="/domains",_=g+"?availableOnly=true&accountId={accountId}",y=g+"/{domain}/website",b="/config",v=r+"/subscription",E="/catalog",T=E+"/{pfid}/price",O=r+"/enableautorenew",P=r+"/renew",w="/shoppers",I=w+"/{shopperId}",S=I+"/paymentMethods",C="/users";t.default={ACCOUNT_WEBSITE:o,AUTORENEW:O,AVAILABLE_DOMAINS:_,CONFIG:b,DOCUMENTS:h,DOMAIN_WEBSITE:y,DOMAINS:g,PAGE:c,PAGE_WIDGETS:f,PAGE_WIDGET:p,PAGES:s,PUBLISH:u,RESET:l,RENEW:P,STOCK_PHOTOS:m,WEBSITE:i,WEBSITE_WIDGETS:d,WEBSITES:a,SUBSCRIPTION:v,PRICE_CATALOG:T,PAYMENT_METHODS:S,USERS:C},e.exports=t.default},,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(5),f=r(d),p=n(7),h=r(p),m=n(8),g=r(m),_=n(3),y=r(_),b=n(6),v=(function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.shouldComponentUpdate=f.default.shouldComponentUpdate.bind(e),e._onBackClick=e._onBackClick.bind(e),e}return i(t,e),l(t,[{key:"_onBackClick",value:function(){var e=this.props.handleBackClick;e()}},{key:"render",value:function(){var e,t=this.props,n=t.title,r=t.handleBackClick,o=t.description,a=t.children,i=t.className,u=t.isMobile,l=this.context.getIntlString;e=Array.isArray(o)?u?o.join(" "):o.map((function(e){return c.default.createElement("div",null,e)})):l(o)||o;var s=r&&c.default.createElement("div",{className:"confirmation-modal-back-button flex",onClick:this._onBackClick,"data-aid":g.default.CONFIRMATION_BACK},c.default.createElement("div",{className:"uxicon uxicon-large uxicon-chevron-left"}),c.default.createElement("div",{className:"confirmation-modal-back"},l("back")));return c.default.createElement("div",{className:(0,h.default)("modal-container","flex","flex--column",i)},s,c.default.createElement("div",{className:"modal-heading-title-container"},c.default.createElement("div",{className:(0,h.default)("modal-title",{"mt-20":!!r})},l(n)||n),e&&c.default.createElement("div",{className:"modal-description"},e)),a)}}]),t})(s.Component);v.defaultProps={title:"",description:"",isMobile:!1},v.contextTypes={getIntlString:s.PropTypes.func.isRequired},t.default=(0,b.subscribeToStores)(v,[y.default.APP],(function(e){var t=u(e,1),n=t[0];return{isMobile:n.isMobile()}})),e.exports=t.default},,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(5),f=r(d),p=n(7),h=r(p),m=n(21),g=r(m),_=n(6),y=n(3),b=r(y),v=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=f.default.shouldComponentUpdate.bind(n),n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.forceTablet,n=e.isMobile,r=e.onClick,o=e.label,a=e.dataAid,i=e.className,u=e.theme,l=e.trafficId,s=e.disabled,d=this.context.getIntlString,f=(n&&!t?"btn-block":"btn")+" btn-boing";return c.default.createElement(g.default,{type:u,className:(0,h.default)(f,i),"data-aid":a,"data-traffic2":l,onClick:r,disabled:s},d(o))}}]),t})(s.Component);v.defaultProps={className:"",disabled:!1,theme:"primary"},v.contextTypes={getIntlString:s.PropTypes.func.isRequired},t.default=(0,_.subscribeToStores)(v,[b.default.APP],(function(e){var t=u(e,1),n=t[0];return{isMobile:n.isMobile()}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=r(o);t.default=(0,a.default)({APP_INITIALIZED:null,APP_SET_DEVICE:null,APP_SET_DEVICE_AND_ORIENTATION:null,APP_SET_NAME:null,APP_SET_ORIENTATION:null,APP_SET_SCALE:null,APP_SET_FULL_ERROR_PAGE:null,APP_TOGGLE_ADD_PAGE_PANEL:null,APP_TOGGLE_CONTROL_PANEL:null,APP_TOGGLE_EMAIL_MARKETING:null,APP_TOGGLE_ERROR_PAGE:null,APP_TOGGLE_FEEDBACK_PANEL:null,APP_TOGGLE_MANAGE_PAGES_PANEL:null,APP_TOGGLE_NET_PROMOTER_SCORE:null,APP_TOGGLE_SHOW_FREE_TRIAL_BANNER:null,APP_PUBLISH_TO_NEW_EXT_DOMAIN:null,APP_TOGGLE_EDIT_PAGE_PANEL:null,APP_TOGGLE_ADD_LINK_PANEL:null,APP_TOGGLE_EDIT_LINK_PANEL:null}),e.exports=t.default},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(7),p=r(f),h=(function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(e),e}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className;return s.default.createElement("div",{className:(0,p.default)("flex--row flex--wrap modal-buttons",n)},t)}}]),t})(l.Component);t.default=h,e.exports=t.default},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return e.dispatch(i.default.SET_MODAL,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(81),i=r(a);e.exports=t.default},,,function(e,t,n){"use strict";
function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(5),f=r(d),p=(n(4),n(2)),h=n(7),m=r(h),g=n(17),_=r(g),y=n(8),b=r(y),v=n(979),E=r(v),T=n(976),O=r(T),P=n(442),w=r(P),I=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=f.default.shouldComponentUpdate.bind(n),n.onClick=n.onClick.bind(n),n}return i(t,e),l(t,[{key:"onClick",value:function e(t){var n=this.props,r=n.disabled,e=n.onClick,o=n.route,a=n.item;return r?(t.preventDefault(),t.stopPropagation(),null):(o&&this.context.executeAction(_.default,"object"===("undefined"==typeof o?"undefined":u(o))?{routeName:o.name,params:o.params||{},preserveScrollPosition:!0}:{routeName:o,preserveScrollPosition:!0}),void e(t,a))}},{key:"render",value:function(){var e=this.props,t=e.capitalize,n=e.className,r=e.description,o=e.disableArrow,a=e.disabled,i=e.handleMouseDown,u=e.handleTouchStart,l=e.href,d=e.icon,f=e.id,p=e.ignoreArrow,h=e.isEditField,g=e.isMovable,_=e.isMovableSet,y=e.progress,v=e.showInternalIcon,T=e.tagContent,P=e.title,I=e.target,S=e.trafficId,C=e.progressError,x=e.renderedInNav,k="text-ellipsis normalize-white-space flex flex--row",D=(t?"text-capitalize ":"no-capitalized-text ")+k,A=c.default.createElement("div",{className:D,key:"title","data-aid":b.default.TEXT_DISP_HDLINE+"_"+f},c.default.createElement("div",{className:!x&&"pivot-nav-not-rendered"},P),T?c.default.createElement("div",{className:"pivot-btn-tag"},T):null,x?null:c.default.createElement("div",{className:"uxicon uxicon-eye-close",style:{marginLeft:"10px",paddingTop:"2px"}})),M=c.default.createElement("div",{className:"text-no-transform text-ellipsis pivot-btn-description",key:"description","data-aid":b.default.TEXT_DISP_DESC+"_"+f},r),N=y>0?c.default.createElement("div",null,c.default.createElement(w.default,{completed:y,height:2})):null,R=y===-1?c.default.createElement("div",{className:"text-no-transform text-ellipsis pivot-btn-description progress-error",key:"error","data-aid":b.default.TEXT_DISP_DESC+"_"+f},C):null,j=d?(0,s.isValidElement)(d)&&d||c.default.createElement(E.default,{icon:d,showInternal:v}):null,L=(0,m.default)("list-group-item","btn","pivot-btn","pivotbtn",{"pivot-btn-draggable":_,disabled:a}),U=o?" disabled":"",G=U?"_"+U.trim("").toUpperCase():"",B=h?b.default.EDIT_FIELD+"_"+f+G:b.default[f],W=this.props.content||c.default.createElement("div",{className:"pivot-btn-content flex flex--column flex--middle"},A,M,N,R);return c.default.createElement("a",{role:"button",className:L+" "+n,onClick:this.onClick,"data-traffic2":S,"data-aid":B,href:l,target:I},_&&c.default.createElement(O.default,{isMovable:g,handleMouseDown:i,handleTouchStart:u}),j,W,!p&&c.default.createElement("div",{className:"list-group-item-icon-right flex flex--center uxicon uxicon-chevron-right"+U,"data-aid":b.default.CHEVRON_RIGHT+"_"+f}))}}]),t})(s.Component);t.default=I,I.defaultProps={isEditField:!0,onClick:p.noop,capitalize:!0,renderedInNav:!0},I.contextTypes={executeAction:s.PropTypes.func.isRequired},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=r(o);t.default=(0,a.default)({GET_NAVIGATION_PAGES:null,GET_SECTION_TYPES:null,GET_SECTION_TYPE_GROUPS:null,GET_STOCK_PHOTOS:null,GET_WIDGET_TO_ADD_INDEX:null,GET_WIDGET_RENDER_DATA:null,GET_LAYOUT_RENDER_DATA:null,GET_ORDERED_WIDGETS:null}),e.exports=t.default},,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n}return i(t,e),u(t,[{key:"render",value:function(){return s.default.createElement("div",{className:"pivot-list ux-editor"},this.props.children)}}]),t})(l.Component);t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(7),p=r(f),h=n(446),m=r(h),g=(function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(e),e}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,r=e.showCloseOnTop,o=e.closeOnTopClick,a=e.onCloseTrafficId;return s.default.createElement("div",{className:(0,p.default)("ux-editor","confirmation-modal",t)},r&&s.default.createElement(m.default,{onCloseTrafficId:a,onClick:o}),n)}}]),t})(l.Component);g.defaultProps={showCloseOnTop:!0},t.default=g,e.exports=t.default},,,,function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=o(s),d=n(94),f=o(d),p=n(1014),h=o(p),m=n(1013),g=o(m),_=n(2),y=n(7),b=o(y),v=n(1012),E=o(v),T=(function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:e.value,isFocused:!1},n.handleFocus=n.handleFocus.bind(n),n.handleBlur=n.handleBlur.bind(n),n.handleChange=n.handleChange.bind(n),n.handleClear=n.handleClear.bind(n),n}return u(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){!this.props.autoLoadNewValue||this.state.isFocused&&this.state.value&&!this.props.alwaysUpdateValue||this.setState({value:e.value})}},{key:"handleFocus",value:function(e){this.setState({isFocused:!0});var t=this.props.autoSelectAll;t&&e.target&&e.target.select(),this.props.onFocus(e)}},{key:"trimPrefixAndTrailingSlashes",value:function(e){var t=this.props.prefix,n=e.lastIndexOf(t),r=e;return n!==-1&&(r=e.substring(n+t.length)),r.replace(/\/+$/,"")}},{key:"handleBlur",value:function(e){var t=this.trimPrefixAndTrailingSlashes(e.target.value);this.props.onBlur(t,e),this.setState({isFocused:!1})}},{key:"handleChange",value:function(e){var t=this,n=e.target.value;this.setState({value:n}),r((function(){return t.props.onChange(n,e)}))}},{key:"handleClear",value:function(e){var t=this,n="";this.setState({value:n}),r((function(){return t.props.onChange(n,e)})),e.preventDefault()}},{key:"getErrors",value:function(e){var t=this.props,n=t.errors,r=t.maxCount;return r&&e&&e.length>r&&!n.find((function(e){return"characterLimitExceeded"===e}))?n.concat(["characterLimitExceeded"]):n.filter((function(e){return"characterLimitExceeded"!==e}))}},{key:"render",value:function(){var e=this.props,t=e.fieldType,n=e.id,r=e.onKeyPress,o=e.className,a=e.automationId,i=e.label,u=e.labelClassNames,l=e.placeholder,d=e.prefix,p=e.dataRoute,m=e.hint,_=e.description,y=e.minHeight,v=e.disabled,T=e.autoFocus,O=e.useAltCount,P=e.link,w=e.editingId,I=e.maxCount,S=e.tag,C=e.showSubText,x=e.subText,k=e.subTextLink,D=e.showTag,A=e.subTextLinkLabel,M=e.isRequired,N=this.state,R=N.value,j=N.isFocused,L=R;if("richtext"===t)try{var U=JSON.parse(R).blocks;L=U.reduce((function(e,t){return e+t.text}),"")}catch(e){}var G=this.getErrors(L),B=0!==G.length,W=void 0;return"richtext"===t&&(W=(0,s.createElement)(E.default,{id:n,disabled:v,maxCount:I,editingId:w,dataRoute:p,value:R,automationId:a,onFocus:this.handleFocus,onBlur:this.handleBlur,onChange:this.handleChange})),"text"!==t&&"textarea"!==t||(W=(0,s.createElement)("text"===t?h.default:g.default,{id:n,prefix:d,disabled:v,minHeight:y,className:o,autoFocus:T,onKeyPress:r,placeholder:l,dataRoute:p,automationId:a,isFocused:j,isInvalid:B,value:R,subText:x,subTextLink:k,subTextLinkLabel:A,showTag:D,onFocus:this.handleFocus,onBlur:this.handleBlur,onChange:this.handleChange,onClear:this.handleClear,countExceeded:Boolean(I&&L&&L.length>I)})),c.default.createElement(f.default,{label:i,inputId:n,className:(0,b.default)({focused:j,empty:!R}),labelClassNames:u,disabled:v,maxCount:I,tag:S,showTag:D,isFocused:j,hint:m,description:_,errors:G,count:L&&L.length||0,useAltCount:O,link:P,subText:x,showSubText:C,isInvalid:B,isRequired:M},c.default.createElement("div",{className:"pos-relative"},W),this.props.children)}}]),t})(s.Component);T.defaultProps={onBlur:_.noop,onFocus:_.noop,onChange:_.noop,fieldType:"text",value:"",id:"",disabled:!1,autoFocus:!1,errors:[],autoLoadNewValue:!0,autoSelectAll:!1,isRequired:!1},t.default=T,e.exports=t.default}).call(t,n(49).setImmediate)},,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=r(o);t.default=(0,a.default)({SET_CURRENT_WEBSITE_ID:null,SET_WEBSITE:null,SET_WEBSITE_PROPERTIES:null,SET_WEBSITE_DATA:null,SET_WEBSITE_OPTIONS:null,SET_WEBSITE_DOMAIN:null,SET_WEBSITE_THEME:null,CLEAR_WEBSITE:null,PATCH_WEBSITE:null}),e.exports=t.default},function(e,t){var n=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=function(e){var t=e.children,n=e.className;return a.default.createElement("div",{className:"editor-panel-content flex--grow flex--basis-100 "+n},t)};i.defaultProps={className:""},t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),c=n(1),d=r(c),f=n(5),p=r(f),h=n(126),m=n(256),g=n(6),_=n(17),y=r(_),b=n(3),v=r(b),E=n(21),T=r(E),O=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n.navigateAction=n.navigateAction.bind(n),n}return i(t,e),s(t,[{key:"navigateAction",value:function(){this.context.executeAction(y.default,l({},this.props))}},{key:"render",value:function(){var e=this.props,t=e.renderAsButton,n=e.children;if(!this.props.href)return null;var r=t?d.default.createElement(T.default,l({className:"btn-dark btn-sm",type:"primary dark",onClick:this.navigateAction},this.props),n):d.default.createElement(h.NavLink,this.props);return r}}]),t})(c.Component);O.contextTypes={executeAction:c.PropTypes.func.isRequired},t.default=(0,g.subscribeToStores)(O,[v.default.ROUTE],(function(e,t){var n=u(e,1),r=n[0],o=(0,m.makeRelativeRoutePayload)(r,t);return{href:o.url}})),e.exports=t.default},,,function(e,t,n){"use strict";function r(e,t){e.dispatch(o.PATCH_WEBSITE,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(53);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(7),u=r(i),l=function(e,t){var n=e.description,r=e.titleEnabled,o=e.title,i=e.theme,l=t.getIntlString,s=(0,u.default)("text-title-case","text-h3","text-"+i),c=o&&r&&a.default.createElement("p",{className:s},a.default.createElement("strong",null,l(o)||o)),d=n?a.default.createElement("div",{className:"section-header-description"},l(n)||n):null,f=c||d?a.default.createElement("div",{className:"section-header ux-editor"},c,d):null;return f};l.defaultProps={title:"",description:"",theme:"default",titleEnabled:!1},l.contextTypes={getIntlString:o.PropTypes.func.isRequired},t.default=l,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={ACCOUNT_ID:"accountId",ADDRESS:"address",BUSINESS_CATEGORY:"businessCategory",BUSINESS_NAME:"businessName",COLOR_PACK:"colorPack",COLOR_PACK_CATEGORY:"colorPackCategory",CREATE_DATE:"createDate",DOMAIN_NAME:"domainName",DPS_SUBDOMAIN:"dpsSubdomain",EMAIL:"email",EXTERNAL_DOMAIN_NAME:"externalDomainName",FACEBOOK_PROFILE:"facebookProfile",FIRST_PUBLISH_DATE:"firstPublishUtcDateTime",FONT_PACK:"fontPack",GA_TRACKING_ID:"gaTrackingID",GOOGLEPLUS_PROFILE:"googlePlusProfile",HOMEPAGE_ID:"homepageId",INSTAGRAM_PROFILE:"instagramProfile",LAST_PUBLISH_FAILURE_DATE:"lastPublishFailureUtcDateTime",LAST_PUBLISH_SUCCESS_DATE:"lastPublishSuccessUtcDateTime",LAT:"lat",LAYOUT:"layout",LINKEDIN_PROFILE:"linkedinProfile",LNG:"lng",NPS_COMPLETE:"npsComplete",NPS_LAST_DISMISSED:"npsLastDismissed",OLS_STATUS:"olsStatus",PHONE:"phoneNumber",PINTEREST_PROFILE:"pinterestProfile",PLAN_TYPE:"planType",RESELLER_ID:"resellerId",SHOPPER_ID:"shopperId",STATUS:"status",THEME_PACK:"theme",TWITTER_PROFILE:"twitterProfile",UPDATE_DATE:"updateDate",WEBSITE_ID:"currentWebsiteId",YOUTUBE_PROFILE:"youtubeProfile"},e.exports=t.default},,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(60),p=r(f),h=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.route,r="uxicon uxicon-large uxicon-x editor-panel-header-cancel-button",o=void 0;return o=n?s.default.createElement(p.default,{preserveScrollPosition:!0,routeName:n},s.default.createElement("div",{className:r,"data-aid":"CLOSE_X_BUTTON"})):s.default.createElement("div",{className:r,onClick:t,"data-aid":"CLOSE_X_BUTTON"}),s.default.createElement("div",{className:"editor-panel-header-icon-container flex--abs-center"},o)}}]),t})(l.Component);t.default=h,e.exports=t.default},,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=i.default.v4(),n=function(){e.dispatch(f.default.REQUEST_STARTED,{id:t,type:h.default.SAVE});var n=e.getStore(g.default.HISTORY),r=n.getQueuedHistoryCount(),o=r&&n.getQueuedDiff();return r?Promise.all(o.map((function(t){return e.executeAction(l.default,{website:t})}))).then((function(){e.dispatch(c.default.APPLY_QUEUED_HISTORY,r)})):Promise.resolve()};return _=_.then(n,n).then((function(){e.dispatch(f.default.REQUEST_SUCCEEDED,{id:t})})).catch((function(n){return e.dispatch(f.default.REQUEST_FAILED,{id:t,error:n}),Promise.reject(n)}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(75),i=r(a),u=n(1193),l=r(u),s=n(463),c=r(s),d=n(146),f=r(d),p=n(16),h=r(p),m=n(3),g=r(m),_=Promise.resolve();e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className;return s.default.createElement("div",{className:"editor-panel-header flex--no-grow flex--basis-auto ux-editor "+(n||"")},t)}}]),t})(l.Component);t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n}return i(t,e),u(t,[{key:"render",value:function(){var e=this.context.getIntlString,t=this.props,n=t.bypassI18N,r=t.title,o=r&&"EDITOR_SECTION_TYPE_"+r.toUpperCase()||"";return s.default.createElement("div",{className:"editor-panel-header-title flex--abs-center","data-aid":o},s.default.createElement("div",{className:"text-capitalize"},n?r:e(r)))}}]),t})(l.Component);t.default=f,f.contextTypes={getIntlString:l.PropTypes.func.isRequired},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=r(o);t.default=(0,a.default)({CHANGE:null,BLUR:null,REMOVE:null}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(2),d=n(8),f=r(d),p=n(93),h=r(p),m=(function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.onBackClick;return s.default.createElement("div",{className:"settings-header"},s.default.createElement("div",{className:"settings-header-text-container"},s.default.createElement("a",{className:"back-button",role:"button",onClick:n,"data-aid":f.default.BACK_SETTINGS_MENU},s.default.createElement(h.default,{size:"medium",icon:"arrow",className:"back-arrow-icon"})),s.default.createElement("h3",{className:"settings-title text-uppercase"},t),s.default.createElement("div",{className:"right-spacer"})))}}]),t})(l.Component);t.default=m,m.defaultProps={onBackClick:c.noop},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=r(o);t.default=(0,a.default)({NOTIFICATION_SEND:null,NOTIFICATION_DISMISS:null,SET_MODAL:null}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=r(o);t.default=(0,a.default)({ADD_PAGE:null,DELETE_PAGE:null,SET_PAGES:null,SET_CURRENT_PAGE_ID:null,SET_PAGE_AND_WIDGETS:null,UPDATE_PAGE:null}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=r(o);t.default=(0,a.default)({ADD_WIDGET:null,SET_PREVIEW_WIDGET:null,SET_SHARED_WIDGETS:null,SET_WIDGET_ID:null,UPDATE_CATEGORIES:null,UPDATE_WIDGET:null,DELETE_PAGE_WIDGET:null,REARRANGE_WIDGETS:null}),e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={DEFAULT_RENDERING_SCALE:.6,TABLET_EDITOR_PANEL_SCALE:.175,REPRESENTED_DESKTOP_WIDTH:1440,REPRESENTED_MOBILE_WIDTH:320,GRID_XSMALL_MIN:320,GRID_SMALL_MIN:768,GRID_MEDIUM_MIN:1024,GRID_LARGE_MIN:1200},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)return{};var t={},n=!0,r=!1,o=void 0;try{for(var a,i=e.keys()[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var u=a.value;t[u]=e.get(u)}}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return t},e.exports=t.default},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(266)("wks"),o=n(185),a=n(86).Symbol,i="function"==typeof a,u=e.exports=function(e){return r[e]||(r[e]=i&&a[e]||(i?a:o)("Symbol."+e))};u.store=r},,function(e,t,n){var r;(function(e,o){!(function(a){function i(e){throw new RangeError(A[e])}function u(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function l(e,t){var n=e.split("@"),r="";n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(D,".");var o=e.split("."),a=u(o,t).join(".");return r+a}function s(e){for(var t,n,r=[],o=0,a=e.length;o<a;)t=e.charCodeAt(o++),t>=55296&&t<=56319&&o<a?(n=e.charCodeAt(o++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--)):r.push(t);return r}function c(e){return u(e,(function(e){var t="";return e>65535&&(e-=65536,t+=R(e>>>10&1023|55296),e=56320|1023&e),t+=R(e)})).join("")}function d(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:E}function f(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function p(e,t,n){var r=0;for(e=n?N(e/w):e>>1,e+=N(e/t);e>M*O>>1;r+=E)e=N(e/M);return N(r+(M+1)*e/(e+P))}function h(e){var t,n,r,o,a,u,l,s,f,h,m=[],g=e.length,_=0,y=S,b=I;for(n=e.lastIndexOf(C),n<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&i("not-basic"),m.push(e.charCodeAt(r));for(o=n>0?n+1:0;o<g;){for(a=_,u=1,l=E;o>=g&&i("invalid-input"),s=d(e.charCodeAt(o++)),(s>=E||s>N((v-_)/u))&&i("overflow"),_+=s*u,f=l<=b?T:l>=b+O?O:l-b,!(s<f);l+=E)h=E-f,u>N(v/h)&&i("overflow"),u*=h;t=m.length+1,b=p(_-a,t,0==a),N(_/t)>v-y&&i("overflow"),y+=N(_/t),_%=t,m.splice(_++,0,y)}return c(m)}function m(e){var t,n,r,o,a,u,l,c,d,h,m,g,_,y,b,P=[];for(e=s(e),g=e.length,t=S,n=0,a=I,u=0;u<g;++u)m=e[u],m<128&&P.push(R(m));for(r=o=P.length,o&&P.push(C);r<g;){for(l=v,u=0;u<g;++u)m=e[u],m>=t&&m<l&&(l=m);for(_=r+1,l-t>N((v-n)/_)&&i("overflow"),n+=(l-t)*_,t=l,u=0;u<g;++u)if(m=e[u],m<t&&++n>v&&i("overflow"),m==t){for(c=n,d=E;h=d<=a?T:d>=a+O?O:d-a,!(c<h);d+=E)b=c-h,y=E-h,P.push(R(f(h+b%y,0))),c=N(b/y);P.push(R(f(c,0))),a=p(n,_,r==o),n=0,++r}++n,++t}return P.join("")}function g(e){return l(e,(function(e){return x.test(e)?h(e.slice(4).toLowerCase()):e}))}function _(e){return l(e,(function(e){return k.test(e)?"xn--"+m(e):e}))}var y=("object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof o&&o);y.global!==y&&y.window!==y&&y.self!==y||(a=y);var b,v=2147483647,E=36,T=1,O=26,P=38,w=700,I=72,S=128,C="-",x=/^xn--/,k=/[^\x20-\x7E]/,D=/[\x2E\u3002\uFF0E\uFF61]/g,A={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},M=E-T,N=Math.floor,R=String.fromCharCode;b={version:"1.4.1",ucs2:{decode:s,encode:c},decode:h,encode:m,toASCII:_,toUnicode:g},r=function(){return b}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))})(this)}).call(t,n(160)(e),(function(){return this})())},,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(1),i=r(a),u=n(977),l=r(u),s={small:32,medium:40,large:48},c=function(e){var t=e.icon,n=e.size,r=e.className,a=e.dataAid,u=e.onClick,c=e.viewBox,d=e.width,f=e.height,p={viewBox:c,width:d?d:s[n],height:f?f:s[n],fill:"currentColor"},h=l.default[t];return i.default.createElement("svg",o({},p,{"data-aid":a,className:r,onClick:u}),i.default.createElement(h,null))};c.defaultProps={viewBox:"0 0 32 32"},t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(2),d=n(7),f=r(d),p=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getErrorMessage=n.getErrorMessage.bind(n),n}return i(t,e),u(t,[{key:"getErrorMessage",value:function(){var e=this.props.errors,t=this.context.getIntlString;if(0!==e.length)return t(e[0])}},{key:"getMessage",value:function(){var e=this.props.hint,t=this.getErrorMessage(),n=void 0,r=void 0;return t?(n="error",r=t):e&&(n="hint",r=e),n&&r&&s.default.createElement("div",{className:"text-input-label-message text-input-label-"+n},r)}},{key:"getSubText",value:function(){var e=this.props,t=e.showSubText,n=e.subText;return t&&n&&s.default.createElement("div",{
className:"text-input-label disabled sub-text"},n)}},{key:"render",value:function(){var e=this.props,t=e.label,n=e.inputId,r=e.className,o=e.labelClassNames,a=e.disabled,i=e.isFocused,u=e.count,l=e.useAltCount,c=e.link,d=e.forceCount,p=e.showMaxCount,h=e.errors,m=e.tag,g=e.showTag,_=e.isRequired,y=this.props.maxCount!==-1?this.props.maxCount:null,b=u>y,v=c.href,E=c.onClick,T=c.text,O=(0,f.default)(o,"text-input-label",{"group-label":o,disabled:a}),P=m&&(0,f.default)(o,"text-input-label-with-tag",{"group-label":o,disabled:a}),w=(0,f.default)("text-input-label-char-count",{"text-input-label-char-count-right":l,"flex flex--abs-center":l,"text-input-label-char-count-exceeded":b}),I=this.props.description?s.default.createElement("div",{className:"text-input-label-description text-input-label-hint"},this.props.description):null;return s.default.createElement("div",{className:"labeled-input ux-form-group "+r},s.default.createElement("div",{className:"flex flex--space-between"},t&&s.default.createElement("label",{htmlFor:n},s.default.createElement("span",{className:g?P:O},t,_&&s.default.createElement("sup",{className:"text-input-required-field"},"*")),g&&s.default.createElement("span",{className:"mutator-btn-tag"},m)),T&&s.default.createElement("a",{href:v,onClick:E},T),y&&(i||b||d)&&s.default.createElement("label",{className:w},p?u+"/"+y:y-u)),I,this.props.children,!l&&h&&this.getMessage(),this.getSubText())}}]),t})(l.Component);t.default=p,p.contextTypes={getIntlString:l.PropTypes.func.isRequired},p.defaultProps={className:"",onClear:c.noop,link:{text:""},errors:[],maxCount:-1,isRequired:!1},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=r(o);t.default=(0,a.default)({SET_DOMAINS:null,SET_DOMAIN_SUGGESTIONS:null,SET_DOMAIN_SEARCH:null,SET_DOMAIN_AVAILABLE:null}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return e.get(f.default.DPS_SUBDOMAIN_HOST,h.default.DEFAULT_DPS_SUBDOMAIN_HOST)}function a(e,t,n){var r=o(e),a=(0,c.default)(t,n)||(0,m.v4)().substring(24);return(a+"."+r).toLowerCase()}function i(e,t){var n=o(e);return t.substr(t.length-n.length)===n}function u(e){var t=/^[a-zA-Z0-9][a-zA-Z0-9-]{1,61}[a-zA-Z0-9]\.[a-zA-Z]{2,}$/;return t.test(e)}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(g,"")}Object.defineProperty(t,"__esModule",{value:!0}),t.getDpsSubdomain=o,t.generateDpsDomain=a,t.isDpsSubdomain=i,t.isValidDomain=u,t.removeProtocol=l;var s=n(687),c=r(s),d=n(1155),f=r(d),p=n(1157),h=r(p),m=n(75),g=/^((https?:)?\/\/)/},function(e,t,n){e.exports=!n(121)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(86),o=n(54),a=n(507),i=n(122),u="prototype",l=function(e,t,n){var s,c,d,f=e&l.F,p=e&l.G,h=e&l.S,m=e&l.P,g=e&l.B,_=e&l.W,y=p?o:o[t]||(o[t]={}),b=y[u],v=p?r:h?r[t]:(r[t]||{})[u];p&&(n=t);for(s in n)c=!f&&v&&void 0!==v[s],c&&s in y||(d=c?v[s]:n[s],y[s]=p&&"function"!=typeof v[s]?n[s]:g&&c?a(d,r):_&&v[s]==d?(function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t[u]=e[u],t})(d):m&&"function"==typeof d?a(Function.call,d):d,m&&((y.virtual||(y.virtual={}))[s]=d,e&l.R&&b&&!b[s]&&i(b,s,d)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(120),o=n(509),a=n(268),i=Object.defineProperty;t.f=n(97)?Object.defineProperty:function(e,t,n){if(r(e),t=a(t,!0),r(n),o)try{return i(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(510),o=n(259);e.exports=function(e){return r(o(e))}},,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.accountId,r=t.domainName,o=t.fallbackModal,i=t.traffic2Prefix,s=e.getStore(c.default.SHOPPER),d=e.getStore(c.default.CONFIG),p=e.getStore(c.default.WEBSITE),m=e.getStore(c.default.ROUTE);n||(n=p.getCurrentWebsiteAccountId());var _=d.getFeatureFlag("enableAutoRenew");if(!_)return a(e,o);var b=function(){return e.dispatch(l.SET_MODAL,{modal:null})},E=function(){e.executeAction(g.default,{accountId:n,traffic2Prefix:i})},T=function(){e.executeAction(h.default)};return Promise.resolve().then((function(){return e.executeAction(f.default,{accountId:n}).catch((function(){}))})).then((function(){var t=s.getShouldRenew(),n=s.getTotalSubscriptionCharge(),c=s.getMonthlySubscriptionCharge();if(!t||!n||!c)return a(e,o);var d=m.getCurrentRoute().params.locale||"en-US",f=s.getExpirationDate().toLocaleDateString(d),p=s.getExpirationDateAfterRenewal().toLocaleDateString(d),h=Math.max(1,s.getDaysLeftFromExpiry()),g=s.getIsPaymentProfileAvailable(),_=s.isYearlyRenewal(),O=g?u.default.createElement(y.default,{expirationDate:f,days:h,totalPrice:n,monthlyPrice:c,domainName:r,handleMaybeLaterClick:b,handleBillMeClick:E,traffic2Prefix:i,isYearlyRenewal:_}):u.default.createElement(v.default,{onCheckout:T,days:h,totalPrice:n,monthlyPrice:c,expirationDateAfterRenewal:p,traffic2Prefix:i,isYearlyRenewal:_});return e.dispatch(l.SET_MODAL,{modal:O,forceModal:!0})}))}function a(e,t){return t?e.dispatch(l.SET_MODAL,{modal:t,forceModal:!0}):Promise.resolve()}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),u=r(i),l=n(81),s=n(3),c=r(s),d=n(230),f=r(d),p=n(396),h=r(p),m=n(956),g=r(m),_=n(1102),y=r(_),b=n(1104),v=r(b);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(28),f=r(d),p=n(7),h=r(p),m=n(94),g=r(m),_=n(2),y=n(9),b=r(y),v=n(11),E=(function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={selected:"undefined"==typeof e.value?{label:e.placeholder,value:""}:e.value,isOpen:!1},n.mounted=!0,n.handleDocumentClick=n.handleDocumentClick.bind(n),n.fireChangeEvent=n.fireChangeEvent.bind(n),n.handleMouseDown=n.handleMouseDown.bind(n),n}return u(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){var t="undefined"!=typeof e.value;t&&e.value!==this.state.selected?this.setState({selected:e.value}):!t&&e.placeholder&&this.setState({selected:{label:e.placeholder,value:""}})}},{key:"componentWillMount",value:function(){n(1360)}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.isOpen;n!==t.isOpen&&(n?(document.addEventListener("click",this.handleDocumentClick,!0),document.addEventListener("touchend",this.handleDocumentClick,!0)):(document.removeEventListener("click",this.handleDocumentClick,!0),document.removeEventListener("touchend",this.handleDocumentClick,!0)))}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"handleMouseDown",value:function(e){this.props.disabled||"mousedown"===e.type&&0!==e.button||(document.activeElement&&document.activeElement.blur(),e.preventDefault(),this.setState({isOpen:!this.state.isOpen}),(0,v.logEvent)({code:this.state.isOpen?b.default.edit_site.page_dropdown_close:b.default.edit_site.page_dropdown_open,domEvent:e}))}},{key:"setValue",value:function(e,t,n){var r={selected:{value:e,label:t},isOpen:!1};this.fireChangeEvent(r),this.setState(r),this.context.handleOptionClick&&this.context.handleOptionClick(n)}},{key:"fireChangeEvent",value:function(e){!(0,_.isEqual)(e.selected,this.state.selected)&&this.props.onChange&&this.props.onChange(e.selected)}},{key:"handleSubMenuItemClick",value:function(){this.setState({isOpen:!1})}},{key:"renderOption",value:function(e){var t,n=this.props.dataAidPrefix,r=(0,h.default)((t={},o(t,this.props.baseClassName+"-option",!0),o(t,"is-selected",e===this.state.selected),t)),a="undefined"!=typeof e.value,i=a?e.value:e.label||e,u=e.label||(a?e.value:e),l=e.index;return c.default.createElement("div",{key:i,"data-aid":n+"_"+u,className:r,onMouseDown:this.setValue.bind(this,i,u,l),onClick:this.setValue.bind(this,i,u,l)},u)}},{key:"buildMenu",value:function(){var e=this,t=this.props,n=t.options,r=t.baseClassName,o=t.noneSelected,a=o?n.slice(0,n.length-1):n,i=a.filter((function(e){return!e.isExternalUrl})).map((function(t){if("group"===t.type){var n=c.default.createElement("div",{className:r+"-title"},t.name),o=t.items.map((function(t){return e.renderOption(t)}));return c.default.createElement("div",{className:r+"-group",key:t.name},n,o)}return e.renderOption(t)}));return i.length?c.default.createElement("div",null,c.default.createElement("div",{className:r+"-options"},i),this.buildSubmenu()):c.default.createElement("div",{className:r+"-noresults"},"No options found")}},{key:"buildSubmenu",value:function(){var e=this,t=this.props.submenuItems;if(t){var n=(0,h.default)("flex","flex--space-between","flex--center",o({},this.props.baseClassName+"-submenu",!0));return c.default.createElement("div",{className:n},t.map((function(t,n){return c.default.createElement("div",{key:n,onClick:e.handleSubMenuItemClick.bind(e,n)},t)})))}}},{key:"handleDocumentClick",value:function(e){this.mounted&&(f.default.findDOMNode(this).contains(e.target)||(e.preventDefault(),this.setState({isOpen:!1})))}},{key:"render",value:function(){var e,t=this.props,n=t.baseClassName,r=t.isInNavBar,a=t.options,i=t.label,u=t.theme,l=t.isMutator,s=t.hasAdjacentLink,d=t.disabled,f=t.noneSelected,p=this.state,m=p.isOpen,_=p.selected,y=this.context.getIntlString;if(!a||!a.length)return null;var b="string"==typeof _?_:_.label,v=f?y("defaultDropdownLabel"):b,E=l?"":"Dropdown-absolute",T=f?.5:null,O=c.default.createElement("div",{className:n+"-placeholder",style:{opacity:T}},v),P=(0,h.default)(n+"-menu",E,{open:m,nav:r}),w=c.default.createElement("div",null,c.default.createElement("div",{className:P},m&&this.buildMenu())),I=(0,h.default)([n+"-root"],[n+"-"+u],(e={},o(e,n+"-is-open",m),o(e,n+"-with-adjacent-link",s),o(e,n+"-nav",r),o(e,"disabled",d),e)),S=c.default.createElement("div",{className:I},c.default.createElement("div",{className:n+"-control flex",onMouseDown:this.handleMouseDown,onTouchEnd:this.handleMouseDown,"data-aid":"DROPDOWN_MUTATOR_"+i},O,c.default.createElement("span",{className:n+"-arrow"})),w);return"inline"===u?S:c.default.createElement(g.default,{label:i,disabled:d},S)}}]),t})(s.Component);t.default=E,E.defaultProps={baseClassName:"Dropdown",theme:"default",isMutator:!1,hasAdjacentLink:!1,disabled:!1,noneSelected:!1},E.contextTypes={handleOptionClick:s.PropTypes.func,getIntlString:s.PropTypes.func},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c={SM:{size:18,strokeWidth:2},MD:{size:36,strokeWidth:4},LG:{size:72,strokeWidth:6},XLG:{size:144,strokeWidth:8}},d=(function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"componentWillMount",value:function(){n(1359)}},{key:"render",value:function(){var e=this.props.icon,t=void 0,n=void 0;switch(this.props.size){case"small":case"sm":t=c.SM;break;case"large":case"lg":t=c.LG,n="larger";break;case"xlarge":case"xlg":t=c.XLG,n="largest";break;default:t=c.MD}var r=t,o=r.size,a=r.strokeWidth,i=o/2,u=i-a,l=e?"#f3f3f3":"none",d=e?s.default.createElement("div",{className:"ux-spinner-icon uxicon uxicon-"+n+" uxicon-"+e,style:{height:o,width:o}}):null;return s.default.createElement("div",{className:this._spinnerClasses},s.default.createElement("div",{className:"ux-spinner-container"},s.default.createElement("svg",{width:o,height:o,viewBox:"0 0 "+o+" "+o},s.default.createElement("circle",{fill:l,r:u,cx:i,cy:i}),s.default.createElement("circle",{fill:"none",r:u,cx:i,cy:i,strokeLinecap:"round"})),d),this._labelElement)}},{key:"_labelElement",get:function(){return this.props.label?s.default.createElement("label",null,this.props.label):null}},{key:"_spinnerClasses",get:function(){var e=["ux-spinner"];switch(e.push("ux-spinner-"+this.props.shade),this.props.inline&&e.push("ux-spinner-inline"),this.props.size){case"small":case"sm":e.push("ux-spinner-sm");break;case"large":case"lg":e.push("ux-spinner-lg");break;case"xlarge":case"xlg":e.push("ux-spinner-xlg");break;default:e.push("ux-spinner-md")}return e.join(" ")}}]),t})(l.Component);d.defaultProps={shade:"primary",size:"md"},t.default=d,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(5),f=r(d),p=n(235),h=r(p),m=n(2),g=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=f.default.shouldComponentUpdate.bind(n),n}return i(t,e),l(t,[{key:"handleGenerator",value:function(e,t){if(e)return function(n,r,o){if(t.get("validation")){var a=new RegExp(t.get("validation"));a.test(r)&&e(n,r,o)}else e(n,r,o)}}},{key:"generateFormGroups",value:function(e){var t=this,n=this.props,r=n.onChange,o=n.onBlur,a=n.disabled;return e.map((function(n,i){if(c.default.isValidElement(n))return c.default.createElement("div",{key:i}," ",n," ");var l=n.get("displayedOn"),s=!l||e.find((function(e){return e.get("property")===l})).get("value");if(!s)return null;var d=n.get("enabledOn"),f=a||d&&!e.find((function(e){return e.get("property")===d})).get("value")||!1;return c.default.createElement(h.default,u({},t.props,{key:i,onChange:t.handleGenerator(r,n),onBlur:t.handleGenerator(o,n),field:n,disabled:f}))}))}},{key:"render",value:function(){var e=this.props,t=e.fields,n=e.fieldSetName,r=n;return c.default.createElement("div",{"data-aid":(0,m.snakeCase)(r).toUpperCase()},this.generateFormGroups(t))}}]),t})(s.Component);t.default=g,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),c=n(1),d=r(c),f=n(5),p=r(f),h=n(2),m=n(3),g=r(m),_=n(6),y=n(17),b=r(y),v=700,E=(function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onChangeCapture=e.onChangeCapture.bind(e),e.onBlurCapture=e.onBlurCapture.bind(e),e.onFocusCapture=e.onFocusCapture.bind(e),e._removeUrlHighlightInfo=e._removeUrlHighlightInfo.bind(e),e._fields=[],e._clearTimeout=null,e.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(e),e}return i(t,e),s(t,null,[{key:"getFieldElements",value:function(e,t){var n='.x .widget[id="'+t+'"]',r=[n+' [data-field="'+e+'"]',n+' [data-field-id="'+e+'"]',n+' [data-field-group="'+e+'"]'].join(", ");return Array.from(document.querySelectorAll(r))}},{key:"getHighlightedElementsByRoute",value:function(e,t){var n='.x .widget[id="'+t+'"]',r=n+' [data-route="'+e+'"]';return Array.from(document.querySelectorAll(r))}},{key:"toggleSelection",value:function(e,t){e.forEach((function(e){return e.classList[t]("ux-editor-field-highlight")}))}},{key:"triggerChange",value:function(e,n){return t.toggleSelection(e,"add"),clearTimeout(n),setTimeout((function(){return t.toggleSelection(e,"remove")}),v)}}]),s(t,[{key:"onChangeCapture",value:function(){this._clearTimeout=t.triggerChange(this._fields,this._clearTimeout)}},{key:"onBlurCapture",value:function(e){t.toggleSelection(this._fields,"remove"),this._fields=[],this._removeUrlHighlightInfo(e.target.getAttribute("data-route"))}},{key:"onFocusCapture",value:function(e){var n=this.props.editingId,r=e.target.id,o=e.target.getAttribute("data-route");this._fields=o?t.getHighlightedElementsByRoute(o,n):t.getFieldElements(r,n),t.toggleSelection(this._fields,"add")}},{key:"componentWillUnmount",value:function(){t.toggleSelection(this._fields,"remove"),clearTimeout(this._clearTimeout)}},{key:"_removeUrlHighlightInfo",value:function(e){var t=this.props,n=t.queryProp,r=t.url,o=r.indexOf(e)>-1,a=e&&o?{params:{mutatorPath:(0,h.dropRight)(e.split("/"))}}:{};(n||o)&&this.context.executeAction(b.default,a)}},{key:"render",value:function(){var e=this.props,t=e.enableClickToEdit,n=e.children,r=e.className,o=this.onChangeCapture,a=this.onBlurCapture,i=this.onFocusCapture,u=t?{onChangeCapture:o,onBlurCapture:a,onFocusCapture:i}:{};return d.default.createElement("div",l({className:r},u),n)}}]),t})(c.Component);E.defaultProps={className:""},E.contextTypes={executeAction:c.PropTypes.func.isRequired},t.default=(0,_.subscribeToStores)(E,[g.default.ROUTE],(function(e){var t=u(e,1),n=t[0],r=n.getCurrentRoute(),o=r.navigate,a=void 0===o?{}:o,i=r.url,l=a.query;l=void 0===l?{}:l;var s=l.prop;return{queryProp:s,url:i}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=function(e){var t=e.children,n=e.className;return a.default.createElement("div",{className:"editor-panel-footer flex--no-grow flex--basis-auto "+n},t)};t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=r(o);t.default=(0,a.default)({SET_DOCUMENTS:null,ADD_DOCUMENTS:null,EDIT_DOCUMENTS:null,UPDATE_PROGRESS:null}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=r(o);t.default=(0,a.default)({SET_REGISTRY:null,UPDATE_REGISTRY:null,SET_WIDGET_MANIFEST:null}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=r(o);t.default=(0,a.default)({PREVIEW_RENDER_MODE:null,STYLE_RENDER_MODE:null,EDIT_RENDER_MODE:null,DESKTOP_RENDER_DEVICE:null,TABLET_RENDER_DEVICE:null,MOBILE_RENDER_DEVICE:null}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=null;return function(){var n=e.apply(void 0,arguments);return i.default.is(n,t)?t:(t=n,n)}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),i=r(a);t.default=o,e.exports=t.default},function(e,t,n){var r=n(148);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(100),o=n(183);e.exports=n(97)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(515),o=n(260);e.exports=Object.keys||function(e){return r(e,o)}},,,,,function(e,t,n){e.exports=n(1520)},,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return e.executeAction(i.default,{modal:null})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(35),i=r(a);e.exports=t.default},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=e.getStore,o=e.executeAction,a=t.url,i=t.isResolved,l=a;return i||(l=n(d.default.CONFIG).getURL(a,n(d.default.AUTH).getResellerId())),r.window?(window.location.href=l,Promise.resolve()):o(u.default,{routeName:s.default.REDIRECT,query:{url:l}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=n(17),u=o(i),l=n(10),s=o(l),c=n(3),d=o(c);e.exports=t.default}).call(t,(function(){return this})())},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.onClick,n=e.route,r=i.default.createElement(c.default,{size:"medium",icon:"arrow",className:"back-arrow-icon",onClick:t,dataAid:f.default.EDITOR_HEADER_BACK_BUTTON}),o=void 0;return o=n?i.default.createElement(l.default,{routeName:n,activeClass:"",preserveScrollPosition:!0},r):r,i.default.createElement("div",{className:"editor-panel-back-button flex flex--center"},o)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=r(a),u=n(60),l=r(u),s=n(93),c=r(s),d=n(8),f=r(d);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(2),f=n(8),p=r(f),h=n(15),m=n(94),g=r(m),_=n(114),y=r(_),b=h.constants.toggleTypes,v=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._getInputName=n._getInputName.bind(n),n._getInputIcon=n._getInputIcon.bind(n),n._getLabelClassName=n._getLabelClassName.bind(n),n.handleChange=n.handleChange.bind(n),n._highlightChange=n._highlightChange.bind(n),n._highlightTimer=null,n}return i(t,e),l(t,[{key:"handleChange",value:function(e){var t=this.props.highlightChange;t&&this._highlightChange(),this.props.handleChange(e.target.checked,e)}},{key:"_highlightChange",value:function(){var e=this.props,t=e.editingId,n=e.fieldSetName,r=y.default.getFieldElements(n,t);this._highlightTimer=y.default.triggerChange(r,this._highlightTimer)}},{key:"_getInputName",value:function(){var e=this.props,t=e.className,n=e.property;return t+"-toggle-"+n}},{key:"_getInputIcon",value:function(){var e=this.props.subtype,t=this._getInputName(),n=e===b.CHECKBOX?"uxicon uxicon-larger uxicon-ok toggle-checkbox-icon":"";return c.default.createElement("label",{htmlFor:t,className:n},c.default.createElement("label",{htmlFor:t}))}},{key:"_getLabelClassName",value:function(){var e=this.props,t=e.subtype,n=e.labelClassNames,r=n;return r+=t===b.CHECKBOX?" checkbox-label":" slider-label"}},{key:"render",value:function(){var e=this.props,t=e.defaultValue,n=e.handleBlur,r=e.subtype,o=e.label,a=e.property,i=e.dataRoute,l=this._getInputName(),s=a+"_"+p.default.CHECKBOX_FORM+"_"+(t?"ENABLED":"DISABLED"),d=r===b.CHECKBOX?"toggle-checkbox":"slider";return c.default.createElement(g.default,{className:"inline-group flex flex--center flex--space-between",label:o,inputId:a,labelClassNames:this._getLabelClassName(),isValid:!0,isRequired:!1},c.default.createElement("div",{className:d},c.default.createElement("input",u({},this.props,{type:"checkbox",id:l,"data-aid":s,name:l,checked:t,onChange:this.handleChange,"data-route":i,onBlur:function(e){return n(e.target.checked,e)}})),this._getInputIcon()))}}]),t})(s.Component);t.default=v,v.defaultProps={handleChange:d.noop,handleBlur:d.noop,highlightChange:!0},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getClassNames=t.getLabelClassNames=void 0;var o=n(7),a=r(o),i=function(e){return(0,a.default)("group-label","text-capitalize",{"label-disabled":Boolean(e.disabled)})},u=function(e){return(0,a.default)("ux-form-control",{"ux-form-control-disabled":Boolean(e.disabled)})};t.getLabelClassNames=i,t.getClassNames=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(5),f=r(d),p=n(126),h=(n(4),n(256)),m=n(6),g=n(3),_=r(g),y=n(10),b=r(y),v=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=f.default.shouldComponentUpdate.bind(n),n}return i(t,e),l(t,[{key:"render",value:function(){return this.props.href?c.default.createElement(p.NavLink,this.props):null}}]),t})(s.Component);t.default=(0,m.subscribeToStores)(v,[_.default.ROUTE],(function(e,t){var n=u(e,1),r=n[0],o={routeName:b.default.EDIT_WIDGET_MUTATOR,params:{mutatorPath:t.mutatorRoute}},a=(0,h.makeRelativeRoutePayload)(r,o),i=a.url;return{href:i}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(5),f=r(d),p=n(7),h=r(p),m=n(443),g=r(m),_=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=f.default.shouldComponentUpdate.bind(n),n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.context.getIntlString,t=this.props,n=t.isInitial,r=t.scale,o=t.className,a=t.style,i=t.lineThickness,l=t.textMessage,s="scale("+r+","+r+")",d=r?u({},a,{transform:s,WebkitTransform:s,msTransform:s}):a,f=(0,h.default)(o,"ux-editor","loading-progress-wheel",{initial:n});return c.default.createElement("div",{className:f,style:d},c.default.createElement("div",{className:"progress-wheel-text"},e(l)),c.default.createElement("div",{className:"progress-wheel-container"},c.default.createElement(g.default,{isIndeterminate:!0,lineThickness:i})))}}]),t})(s.Component);t.default=_,
_.contextTypes={getIntlString:s.PropTypes.func.isRequired},_.defaultProps={className:"",style:{},textMessage:"onboardSiteGenerationProgressText"},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(2),d=(function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this.props.throttle;this.forEachHandler((function(t,n){n=e<=0?n:(0,c.throttle)(n,e),window.addEventListener(t,n)}))}},{key:"componentWillUnmount",value:function(){this.forEachHandler((function(e,t){window.removeEventListener(e,t)}))}},{key:"forEachHandler",value:function(e){var t=this;Object.keys(this.props).filter((function(e){return/^on/.test(e)&&t.props[e]})).forEach((function(n){var r=n.substr(2).replace(/^./,(function(e){return e.toLowerCase()}));e(r,t.props[n])}))}},{key:"render",value:function(){return null}}]),t})(s.default.Component);t.default=d,d.defaultProps={throttle:0},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(452),f=r(d),p=n(456),h=r(p),m=n(10),g=r(m),_=n(6),y=n(3),b=r(y),v=(function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.arePagesEnabled,n=e.left,r=e.leftClassName,o=e.center,a=e.right,i=e.rightClassName,u=e.children,l=e.route,s=e.isShopPageLinkEnabled,d=e.shopPage,p=e.currentPageId,m=this.context.getIntlString,_=t&&l===g.default.EDIT,y=s&&d&&p!==d.get("id"),b=o?c.default.createElement("div",{className:"navbar-brand text-capitalize"},m(o)):null;return c.default.createElement("nav",{className:"navbar navbar-default"},c.default.createElement("div",{className:"container-fluid"},b,c.default.createElement("ul",{className:"nav navbar-nav navbar-left pull-left flex"},c.default.createElement("li",{className:r},n),_&&c.default.createElement(f.default,{hasAdjacentLink:y}),_&&y&&c.default.createElement("li",{className:"flex flex--center"},c.default.createElement(h.default,{shopPage:d}))),c.default.createElement("ul",{className:"nav navbar-nav navbar-right pull-right"},c.default.createElement("li",{className:i},a))),c.default.createElement("div",{className:"clearfix"}),u)}}]),t})(s.Component);v.contextTypes={getIntlString:s.PropTypes.func.isRequired},t.default=(0,_.subscribeToStores)(v,[b.default.CONFIG,b.default.PAGE],(function(e){var t=u(e,2),n=t[0],r=t[1];return{arePagesEnabled:n.getFeatureFlag("enablePages")&&n.getPlanFeature("multiPage"),isShopPageLinkEnabled:n.getFeatureFlag("enableShopPageLink")&&n.getPlanFeature("commerce"),shopPage:r.getPageByRoutePath("/shop"),currentPageId:r.getCurrentPageId()}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=r(o);t.default=(0,a.default)({REQUEST_STARTED:null,REQUEST_SUCCEEDED:null,REQUEST_FAILED:null}),e.exports=t.default},,function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},,function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var a=this[o][0];"number"==typeof a&&(r[a]=!0)}for(o=0;o<t.length;o++){var i=t[o];"number"==typeof i[0]&&r[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),e.push(i))}},e}},,,,,,,,,function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=d[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(u(r.parts[a],t))}else{for(var i=[],a=0;a<r.parts.length;a++)i.push(u(r.parts[a],t));d[r.id]={id:r.id,refs:1,parts:i}}}}function o(e){for(var t=[],n={},r=0;r<e.length;r++){var o=e[r],a=o[0],i=o[1],u=o[2],l=o[3],s={css:i,media:u,sourceMap:l};n[a]?n[a].parts.push(s):t.push(n[a]={id:a,parts:[s]})}return t}function a(){var e=document.createElement("style"),t=h();return e.type="text/css",t.appendChild(e),e}function i(){var e=document.createElement("link"),t=h();return e.rel="stylesheet",t.appendChild(e),e}function u(e,t){var n,r,o;if(t.singleton){var u=g++;n=m||(m=a()),r=l.bind(null,n,u,!1),o=l.bind(null,n,u,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=i(),r=c.bind(null,n),o=function(){n.parentNode.removeChild(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(),r=s.bind(null,n),o=function(){n.parentNode.removeChild(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}function l(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=_(t,o);else{var a=document.createTextNode(o),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}function s(e,t){var n=t.css,r=t.media;if(t.sourceMap,r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function c(e,t){var n=t.css,r=(t.media,t.sourceMap);r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(o),a&&URL.revokeObjectURL(a)}var d={},f=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},p=f((function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())})),h=f((function(){return document.head||document.getElementsByTagName("head")[0]})),m=null,g=0;e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=p());var n=o(e);return r(n,t),function(e){for(var a=[],i=0;i<n.length;i++){var u=n[i],l=d[u.id];l.refs--,a.push(l)}if(e){var s=o(e);r(s,t)}for(var i=0;i<a.length;i++){var l=a[i];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete d[l.id]}}}};var _=(function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}})()},,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return e.dispatch(i.default.APP_TOGGLE_CONTROL_PANEL,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(31),i=r(a);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return e.dispatch(i.default.APP_TOGGLE_MANAGE_PAGES_PANEL,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(31),i=r(a);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.navigateParams;return n?e.executeAction(l.default,n).then((function(){e.dispatch(i.default.UPDATE_WIDGET,t)})):e.dispatch(i.default.UPDATE_WIDGET,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(83),i=r(a),u=n(17),l=r(u);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=r(a),u=n(370),l=r(u),s=function e(){o(this,e),this.App=new l.default(i.default),this.Component=this.App.getComponent(),this.context=this.App.createContext(),this.componentContext=this.context.getComponentContext()};t.default=s,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(5),f=r(d),p=n(28),h=n(4),m=n(1003),g=r(m),_=n(3),y=r(_),b=n(39),v=r(b),E=n(233),T=r(E),O=n(255),P=r(O),w=n(239),I=r(w),S=n(240),C=r(S),x=n(144),k=r(x),D=n(6),A=new h.Map({properties:new h.Map}),M=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={scrollParams:null},n.shouldComponentUpdate=f.default.shouldComponentUpdate.bind(n),n.scrollToSelected=n.scrollToSelected.bind(n),n.handleClick=n.handleClick.bind(n),n.handleScrollIncrement=n.handleScrollIncrement.bind(n),n}return i(t,e),l(t,null,[{key:"childContextTypes",get:function(){return{getRenderContext:s.PropTypes.func}}}]),l(t,[{key:"getChildContext",value:function(){var e=this;return{getRenderContext:function(){return e.props.renderContext}}}},{key:"componentDidMount",value:function(){this.scrollToSelected()}},{key:"componentDidUpdate",value:function(){this.scrollToSelected()}},{key:"scrollToSelected",value:function(){var e=this;this.props.scrollToView&&window.requestAnimationFrame((function(){e.setState({scrollParams:e.calculateScrollParams()})}))}},{key:"calculateScrollParams",value:function(){var e=this.state.scrollParams,t=(0,p.findDOMNode)(this.refs.renderer),n=t?t.querySelector(".widget-selection-box.selected"):null;if(!n)return null;var r=(0,P.default)(n),o=r.container,a=r.pos,i=r.isInView;if(i)return null;var u=o.scrollTop,l=o.clientHeight,s=o.scrollHeight,c=Math.max(0,Math.min(a-this.props.scrollPadding,s-l));return c===u?null:e&&e.to===c?e:{container:o,from:u,to:c}}},{key:"handleScrollIncrement",value:function(e){var t=this.state.scrollParams;t.container=t.container||{},t.container.scrollTop=e,this.setState({scrollParams:t})}},{key:"handleClick",value:function(e,t){var n=this.props.onSelect;n&&n({widget:e}),t.preventDefault()}},{key:"_getWidgetLayoutLabels",value:function(e){return e&&this.context.getIntlString("widgetLayoutLabels."+e)}},{key:"render",value:function(){var e=this.props,t=e.hasAddSectionWidgetId,n=e.website,r=e.widgets,o=e.selectedWidgetId,a=e.renderCss,i=e.className,u=e.scale,l=e.renderHydratedCallback,s=e.route,d=e.renderMode,f=e.layout,p=e.autoScale,m=e.widgetTitleType,g=this.state.scrollParams,_=this._getWidgetLayoutLabels(m),y=this.props.page||new h.Map({id:"dummy-page",rootWidgets:r.map((function(e){return e.get("id")}))}),b=this.props.pages||new h.List([y]);return c.default.createElement("div",{className:"widget-list-box "+i},c.default.createElement(k.default,{onResize:this.scrollToSelected}),g?c.default.createElement(C.default,{duration:500,from:g.from,to:g.to,onFrame:this.handleScrollIncrement}):null,c.default.createElement(I.default,{scale:u,auto:p},c.default.createElement(T.default,{ref:"renderer",desktopPreview:!0,renderClass:"desktop",website:n,layout:f,page:y,pages:b,widgets:r,route:s,renderMode:d,wrapperContext:{hasAddSectionWidgetId:t,selectedWidgetId:o,onSelect:this.handleClick,widgetLayoutLabels:_},onUpdate:this.scrollToSelected,renderHydratedCallback:l,scale:u,renderCss:a})))}}]),t})(s.Component);M.defaultProps={website:A,widgets:new h.List,selectedWidgetId:null,wrapperContext:{},className:"",scrollPadding:0,scale:1,autoScale:!1,scrollToView:!0,renderCss:!0,selectedIndex:0},M.contextTypes={getIntlString:s.PropTypes.func.isRequired},t.default=(0,D.subscribeToStores)(M,[y.default.WEBSITE,v.default.GET_LAYOUT_RENDER_DATA],(function(e,t){var n=u(e,2),r=n[0],o=n[1],a=t.widgets,i=t.layout,l=t.selectedIndex;if((!i||!i.has("Component"))&&o&&o.has("Component")){var s=a.getIn([0,"type"]),c=r.getColorPackCategory(),d=o.get("Component");i=new h.Map({Component:(0,g.default)(d,s,c,l)})}return{layout:i}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){var r=e.executeAction,o=e.getStore,s=n.widget,c=n.mutatorType,f=n.extension,p=n.dataPath,g=n.newValue,y=n.overwrite,b=n.navigateParams,v=n.domEvent,E=n.mapToStorage,T=t===_.default.REMOVE,O=T?null:(0,m.normalizeData)(g),P=T?(0,m.applyDeletionToWidgetState)(p,s):(0,m.mergeInNewWidgetState)(O,p,s,E),w=!T&&u(t,c);if(P){var I=f&&f.get("name"),S=f&&f.get("field"),C=f&&f.get("defaultOnly");if(I&&S&&!C)o(d.default.REGISTRY).getManifestExtensions().get(I).get("writeExtensionData")(S,g);else{var x={widgetId:s.get("id"),ignoreHistory:w,overwrite:!!y,params:P,navigateParams:b};r(h.default,x)}T?(0,l.logEvent)(i({widget:s,dataPath:p,domEvent:v})):w||"undefined"==typeof O||(0,l.logEvent)(a(O,{widget:s,dataPath:p,mutatorType:c,domEvent:v}))}}function a(e,t){var n=t.widget,r=t.dataPath,o=t.mutatorType,a=t.domEvent,i=r.toJS().join("."),u=(f.TRAFFIC_PREFIX+".edit_widget_"+n.get("type")+"."+i).toLowerCase();u+=""===e?".clear":".change";var l={code:u,domEvent:a};return(0,s.includes)(b,o)&&(l.newValue=""+e),l}function i(e){var t=e.widget,n=e.dataPath,r=e.domEvent,o=n.toJS().join(".");return{code:(f.TRAFFIC_PREFIX+".edit_widget_"+t.get("type")+"."+o+".removeItem").toLowerCase(),domEvent:r}}function u(e,t){return e===_.default.CHANGE&&(0,s.includes)(y,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var l=n(11),s=n(2),c=n(3),d=r(c),f=n(9),p=n(169),h=r(p),m=n(439),g=n(79),_=r(g),y=["MULTILINE","TEXT","ADDRESS","EMAIL","VIDEOURL","CTABUTTONCOMPOSER","EXTERNALLINKDROPDOWN"],b=["TOGGLE","RADIO","COLOR"];e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(137),p=r(f),h=n(44),m=r(h),g=n(30),_=r(g),y=n(27),b=r(y),v=n(33),E=r(v),T=n(11),O=(function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._handleDelete=e._handleDelete.bind(e),e._onClose=e._onClose.bind(e),e._onCancel=e._onCancel.bind(e),e.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(e),e}return i(t,e),u(t,[{key:"_onClose",value:function(e){this.context.executeAction(p.default),(0,T.logEvent)({code:this.props.closeTrafficEvent,domEvent:e})}},{key:"_onCancel",value:function(e){this.context.executeAction(p.default),(0,T.logEvent)({code:this.props.cancelTrafficEvent,domEvent:e})}},{key:"_handleDelete",value:function(e){this.context.executeAction(p.default),this.props.handleDelete(e)}},{key:"render",value:function(){var e=this.props,t=e.description,n=e.buttonLabel,r=e.title,o=e.deleteButtonDataAid,a=e.cancelButtonDataAid;return s.default.createElement(m.default,{className:"delete-page-modal",showCloseOnTop:!0,closeOnTopClick:this._onClose},s.default.createElement(b.default,{theme:"danger",title:r,description:t},s.default.createElement(E.default,null,s.default.createElement(_.default,{theme:"danger",label:n,dataAid:o,onClick:this._handleDelete}),s.default.createElement(_.default,{label:"cancel",theme:"defaultDark",onClick:this._onCancel,dataAid:a}))))}}]),t})(l.Component);t.default=O,O.contextTypes={executeAction:l.PropTypes.func.isRequired},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(44),p=r(f),h=n(30),m=r(h),g=n(27),_=r(g),y=n(33),b=r(y),v=n(11),E=n(8),T=r(E),O=n(9),P=r(O),w=n(137),I=r(w),S=(function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(e),e.generateInvalidFileNames=e.generateInvalidFileNames.bind(e),e}return i(t,e),u(t,[{key:"_handleClose",value:function(e,t){var n=e?P.default.edit_site.ok_button_on_upload_image_confirmation:P.default.edit_site.close_icon_on_upload_image_confirmation;this.context.executeAction(I.default),(0,v.logEvent)({code:n,domEvent:t})}},{key:"generateInvalidFileNames",value:function(){var e=this.props.invalidFilesArray,t=this.context.getIntlString;return e.length?t("selectNewImageInvalidFiles")+e.join(", "):""}},{key:"render",value:function(){var e=this.props,t=e.modalTitle,n=e.modalDescription,r=e.invalidDimensions,o=e.widthContext,a=e.listItems,i=this.context.getIntlString,u=i(n,o);return Array.isArray(u)||(u+=r),s.default.createElement(p.default,{className:"image-upload-modal",showCloseOnTop:!0,closeOnTopClick:this._handleClose.bind(this,!1)},s.default.createElement(_.default,{theme:"danger",title:t,description:u,className:a?"list-modal-container":""},a,s.default.createElement("div",{className:"list-modal-button"},s.default.createElement(b.default,{className:"list-modal"},s.default.createElement(m.default,{theme:a?"primary":"danger",label:a?"close":"ok",dataAid:T.default.IMAGE_UPLOAD_MODAL_OK,onClick:this._handleClose.bind(this,!0)})))))}}]),t})(l.Component);t.default=S,S.contextTypes={getIntlString:l.PropTypes.func.isRequired,executeAction:l.PropTypes.func.isRequired},S.defaultProps={modalTitle:"anotherImage",modalDescription:"imageTypeNotSupported",invalidFilesArray:[],invalidDimensions:""},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(7),p=r(f),h=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showChildren:!0},n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n}return i(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.show&&!e.show&&(setTimeout((function(){t.setState({showChildren:!1})}),500),setTimeout((function(){t.setState({showChildren:!0})}),510))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.show,r=this.state.showChildren,o=(0,p.default)("ux-editor",{"editor-sheet":!0,"editor-sheet-visible":n,"editor-sheet-hidden":!n});return s.default.createElement("div",{className:o},r&&t)}}]),t})(l.Component);t.default=h,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=r(o);t.default=(0,a.default)({AUTH_SET_INFO:null,AUTH_SET_TOKENINFO:null,AUTH_REMOVE_INFO:null}),e.exports=t.default},359,function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return"number"==typeof e?""+e:e}function a(e,t){if((0,i.isObject)(e)){var n={};if("undefined"!=typeof e.value&&(n[t.property]=o(e.value)),t.additionalPropMapping&&(n=(0,i.reduce)(t.additionalPropMapping,(function(t,n,r){return"undefined"!=typeof e[r]&&(t[n]=o(e[r])),t}),n)),Object.keys(n).length>0)return n}return"undefined"!=typeof e?r({},t.property,o(e)):null}Object.defineProperty(t,"__esModule",{value:!0}),t.convertDataToFieldProperties=a;var i=n(2)},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(1223),a=r(o);t.default=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,a.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})()},function(e,t){e.exports={}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(259);e.exports=function(e){return Object(r(e))}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return e.dispatch(i.default.APP_TOGGLE_ADD_PAGE_PANEL,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(31),i=r(a);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return e.dispatch(i.default.APP_TOGGLE_FEEDBACK_PANEL,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(31),i=r(a);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return f=f||e.executeAction(u.default).then((function(t){var n=window||{},r=n.location;r=void 0===r?{}:r;var o=r.search,i=void 0===o?"":o;return t=i.replace("?","").split("&").reduce((function(e,t){var n=t.split("="),r=a(n,2),o=r[0],i=r[1],u=null;if(d.test(o))u=o.replace(d,"");else{if(!c.test(o))return e;u="featureFlags."+o.replace(c,"")}var l=u.split(".");return l.reduce((function(e,t,n){if(n!==l.length-1)return t in e?e[t]:{};var r=decodeURIComponent(i);try{r=JSON.parse(r)}catch(e){}e[t]=r}),e),e}),t),e.dispatch(s.default.CONFIG_LOADED,{config:t}),t}))}Object.defineProperty(t,"__esModule",{value:!0});var a=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})();t.default=o;var i=n(1173),u=r(i),l=n(245),s=r(l),c=/^override-/,d=/^o:/,f=null;e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return p||(p=e.executeAction(i.default).then((function(t){return e.executeAction(l.default,{config:t})})).then((function(){return e.executeAction(f.default,{force:!0})})).then((function(){return e.dispatch(c.default.APP_INITIALIZED)})))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(225),i=r(a),u=n(393),l=r(u),s=n(31),c=r(s),d=n(395),f=r(d),p=null;e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.forceImmediate,r=t.isDomainSettings,o=e.getStore(h.default.ROUTE),a=o.getCurrentRoute().name,u=a===f.default.PREVIEW_MOBILE||a===f.default.PREVIEW_DESKTOP,s=e.getStore(h.default.CONFIG),d=e.getStore(h.default.WEBSITE),p=d.getNPSSurveyStatus(),m=s.getFeatureFlag("enableNPS")&&!p;if(m){var _=d.getNpsSurveyLastDismissed();if(_ instanceof Date){var y=Math.abs((new Date).getTime()-_.getTime()),b=y/864e5,v=s.get("nps.dismissalDays");b<v&&(m=!1)}}var E=e.getStore(h.default.DOMAIN),T=E.getAvailableDomainNames().isEmpty(),O=d.getExternalDomainName(),P=n||!r&&T&&!O,w=function(){e.executeAction(c.default)};return e.executeAction(l.default,{modal:i.default.createElement(g.default,{enableNPS:m&&u,onClose:w,modalProps:{isDomainSettings:r},isImmediatePublish:P}),forceModal:!0})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(1),i=r(a),u=n(35),l=r(u),s=n(137),c=r(s),d=n(10),f=r(d),p=n(3),h=r(p),m=n(974),g=r(m);e.exports=t.default},function(e,t,n){"use strict";function r(e,t){return e.dispatch(o.UPDATE_PAGE,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(82);e.exports=t.default},function(e,t,n){"use strict";function r(e,t){var n=t.accountId,r=e.getStore(o.CONFIG),a=e.getStore(o.AUTH).getResellerId();n||(n=e.getStore(o.WEBSITE).getCurrentWebsiteAccountId());var i=window.location.search||"";if(!/[?&]account_uid=/.test(i)){var u=i?"&":"?";i+=u+"account_uid="+n}return window.location.href=r.getURL("onboarding.url",a)+"launch"+i,new Promise(function(){})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(3);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.accountId;return P||(P=e.executeAction(d.default,{accountId:n}).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.paymentProfileId,r=t.renewAuto,o=t.subscriptionId,i=t.product;i=void 0===i?{}:i;var l=i.renewalPfid,c=t.billing;c=void 0===c?{}:c;var d=c.commitment,f=t.expiresAt;return l?e.executeAction(s.default,{pfid:l}).then((function(t){var i=t.listPrice,s=t.currency,c=t.listPriceFormatted,h=t.monthlyListPriceFormatted,g=t.periodUnit,y=t.numberOfTerms;if(!i)return Promise.resolve();var v={currency:s,expiresAt:f,renewAuto:r,renewalPfid:l,subscriptionId:o,paymentProfileId:n,renewalPeriodUnit:g,renewalPeriodLength:y,subscriptionStatus:d,listPriceFormatted:c,monthlyListPriceFormatted:h,listPrice:i/Math.pow(10,6)};e.dispatch(b.default.SHOPPER_SET_SUBSCRIPTION_DETAILS,v);var T=e.getStore(E.default.SHOPPER),P=T.getShouldRenew();if(!P)return Promise.resolve();if(e.dispatch(m.default.APP_TOGGLE_SHOW_FREE_TRIAL_BANNER,{showFreeTrialBanner:!0}),T.getIsPaymentProfileAvailable())return Promise.resolve();var w=e.getStore(E.default.AUTH);return e.executeAction(p.default,{shopperId:w.getShopperId()}).then((function(t){var n=t&&t.paymentMethods||[];return t.authFailure&&e.executeAction(u.default).then((function(t){e.dispatch(_.default.AUTH_SET_TOKENINFO,t),(0,a.logEvent)({code:O.default.misc.shopper_payment_methods_auth_failure,message:"JWT IAT does not meet Ecomm requirements",tokenAge:w.getTokenAgeInMsec()})})),e.dispatch(b.default.SHOPPER_SET_PAYMENT_METHOD_DETAILS,{isPaymentProfileAvailable:!!n.length}),Promise.resolve()})).catch((function(){}))})):Promise.resolve()})))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(11),i=n(1191),u=r(i),l=n(1185),s=r(l),c=n(1187),d=r(c),f=n(1186),p=r(f),h=n(31),m=r(h),g=n(176),_=r(g),y=n(246),b=r(y),v=n(3),E=r(v),T=n(9),O=r(T),P=null;e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.website,r=n.accountId,o=n.homepageId,a=n.status;return a!==i.default.INITIALIZED&&o&&"00000000-0000-0000-0000-000000000000"!==o?Promise.resolve():e.executeAction(l.default,{accountId:r})}Object.defineProperty(t,"__esModule",{value:!0});var a=n(470),i=r(a),u=n(229),l=r(u);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.domainName,r=i.default.v4(),o=e.getStore(h.default.WEBSITE),a=o.getCurrentWebsiteId(),u=e.getStore(h.default.REGISTRY).getTestWidget();return Promise.resolve().then((function(){e.dispatch(y.default.REQUEST_STARTED,{
id:r,type:v.default.SAVE_AND_PUBLISH})})).then((function(){if(n)return e.executeAction(l.default,n)})).then((function(){return e.executeAction(f.default)})).then((function(){return e.executeAction(c.default,{websiteId:a,testWidget:u})})).then((function(t){var n=o.getCurrentWebsite().toJS();n.domainName=t.domainName,Object.assign(n.properties,t.properties),e.dispatch(g.default.SET_WEBSITE,{website:n})})).then((function(){e.dispatch(y.default.REQUEST_SUCCEEDED,{id:r})})).catch((function(t){e.dispatch(y.default.REQUEST_FAILED,{id:r,error:t})}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(75),i=r(a),u=n(400),l=r(u),s=n(1194),c=r(s),d=n(76),f=r(d),p=n(3),h=r(p),m=n(53),g=r(m),_=n(146),y=r(_),b=n(16),v=r(b);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(5),f=r(d),p=n(50),h=r(p),m=n(4),g=n(15),_=n(170),y=r(_),b=n(1217),v=r(b),E=n(2),T=n(6),O=n(3),P=r(O),w=n(118),I=n(143),S=r(I),C=n(1085),x=r(C),k=(function(e){function t(e,n){var r=n.getRenderContext,i=void 0===r?function(){return null}:r;o(this,t);var u=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));u.shouldComponentUpdate=f.default.shouldComponentUpdate.bind(u);var l=i()||new y.default;return u.state={renderContext:l,hydrateRenderer:l.componentContext.getAction("HYDRATE")},u}return i(t,e),l(t,null,[{key:"childContextTypes",get:function(){return{getStore:c.default.PropTypes.func,getAction:c.default.PropTypes.func,executeAction:c.default.PropTypes.func}}}]),l(t,[{key:"loadExtensions",value:function(){var e=this.props.renderMode,t=g.constants.renderModes.ADD;if(e===t){var n=this.context.getStore(P.default.REGISTRY),r=n.getManifestExtensions().toJS();(0,E.isEqual)(r,{})&&n.loadManifestExtensions(this.context,this.getChildContext())}}},{key:"isLoaded",value:function(){var e=this.props,t=e.website,n=e.page,r=e.layout;return t&&n&&r}},{key:"getChildContext",value:function(){return this.state.renderContext.componentContext}},{key:"componentWillMount",value:function(){this._hydrate(),this.loadExtensions()}},{key:"componentDidUpdate",value:function(){this._hydrate()}},{key:"_hydrate",value:function(){if(this.isLoaded()){var e=this.props,t=e.layout,n=e.page,r=e.pages,o=e.website,a=e.locale,i=e.env,u=e.featureFlags,l=e.renderHydratedCallback,s=e.renderMode,c=e.viewDevice,d=e.route,f=this.state,p=f.renderContext,h=f.hydrateRenderer,m=this._getWrappedWidgets();p.componentContext.executeAction(h,{layout:t,page:n&&n.get("id"),pages:r||[n],widgets:m,website:o,config:{env:i,locale:a,featureFlags:u,renderMode:s,viewDevice:c,route:d},afterHydrate:l})}}},{key:"_getWrappedWidgets",value:function(){var e=this,t=this.props,n=t.widgets,r=t.wrapperContext,o=t.route,a=t.viewDevice;return n.map((function(t){return(0,v.default)(t,(0,E.assign)({},e.context,r),o,a)}))}},{key:"render",value:function(){var e=this.props,t=e.website,n=e.id,r=e.className,o=e.desktopPreview,a=e.scale,i=e.renderCss,u=this.state.renderContext,l=t&&t.get("properties").get("colorPack");"undefined"==typeof h.default.colors.getPackById(l)&&(l=t&&h.default.colors.getDefaultPack().id);var s=t&&t.get("properties").get("fontPack",h.default.fonts.getDefaultPack().id),d=1/a;return this.isLoaded()?c.default.createElement(x.default,{desktopPreview:o},(function(e){return c.default.createElement(u.Component,{id:n,className:r,colors:[l],fonts:[s],force:e,renderCss:i,context:u.componentContext})})):c.default.createElement(S.default,{scale:d})}}]),t})(s.Component);k.defaultProps={className:"",widgets:new m.List,desktopPreview:!1,wrapperContext:{},viewDevice:w.TABLET_RENDER_DEVICE,scale:1,renderCss:!0},k.contextTypes={getStore:s.PropTypes.func.isRequired,executeAction:s.PropTypes.func.isRequired,getRenderContext:s.PropTypes.func},t.default=(0,T.subscribeToStores)(k,[P.default.CONFIG,P.default.ROUTE],(function(e){var t=u(e,2),n=t[0],r=t[1];return{env:n.get("env"),featureFlags:n.get("featureFlags"),locale:r.getCurrentRoute().params.locale||"en-US"}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=(function(e){function t(e){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.children,r=e.name,o=e.value,a=e.dataAid,i=e.trafficId,u=e.defaultChecked,l=e.checked,c=e.style,d=e.onChange;return s.default.createElement("div",{style:Object.assign({marginBottom:"10px"},c)},s.default.createElement("label",{htmlFor:t},s.default.createElement("input",{type:"radio",className:"radio-root",id:t,name:r,value:o,onChange:d,defaultChecked:u,checked:l,"data-aid":a,"data-traffic2":i}),s.default.createElement("span",null,n)))}}]),t})(l.Component);t.default=c,c.defaultProps={onChange:function(){}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(2),f=n(7),p=r(f),h=n(5),m=r(h),g=n(15),_=n(236),y=r(_),b=n(6),v=n(3),E=r(v),T=n(10),O=n(8),P=n(421),w=r(P),I=n(43),S=r(I),C=n(114),x=r(C),k=n(496),D=r(k),A=g.constants.editors,M=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=m.default.shouldComponentUpdate.bind(n),n}return i(t,e),l(t,[{key:"isFieldEnabled",value:function(e){var t=e.get("behindFeatureFlag"),n=this.props.configStore;return!t||n.get("featureFlags."+t)!==!1}},{key:"renderInputField",value:function(e){var t=this.props,n=t.disabled,r=t.onChange,o=t.onBlur,a=t.className,i=t.fieldSetName,u=t.subText,l=t.showSubText,s=t.route,f=t.editingId,h=t.linkToDataObjectProperty,m=t.configStore,g=e.type,_=e.value,y=e.property,b=e.additionalPropMapping,v=e.isWebsiteProperty,E=e.websitePropertyName,T=e.placeholder,P=e.validationErrorMsg,I=(0,d.isFunction)(e.validate)?e.validate:D.default[e.validate],S=(0,p.default)("group-label",{"label-disabled":n}),C=m.get("mutatorSettings.updateDelay",200),k=m.getFeatureFlag("enableClickToEdit"),M=(0,d.merge)({},e,{defaultValue:_,className:(n?"ux-form-control-disabled ":"")+"ux-form-control "+a,handleChange:(0,d.debounce)(r.bind(null,(0,d.omitBy)({property:y,additionalPropMapping:b,isWebsiteProperty:v,websitePropertyName:E,fieldType:g},d.isUndefined)),C),handleBlur:o.bind(null,(0,d.omitBy)({property:y,additionalPropMapping:b,isWebsiteProperty:v,websitePropertyName:E,fieldType:g},d.isUndefined)),subText:u,showSubText:l,disabled:n,labelClassNames:S,fieldSetName:i,route:s,linkToDataObjectProperty:h,editingId:f,placeholder:T,validate:I,validationErrorMsg:P,enableClickToEdit:k});if(M.type){var N=w.default[M.type]||w.default.TEXT;return M.type===A.SOCIALEDITOR&&(M.handleBlur=o,M.handleChange=r),c.default.createElement(x.default,{editingId:f,enableClickToEdit:k},c.default.createElement(N,M))}return c.default.createElement("div",{className:"editor-error","data-aid":O.EDITOR_ERROR,"data-error":"Invalid mutator type specified for fieldset "+i+" property "+y})}},{key:"render",value:function(){var e=this.props,t=e.field,n=e.disabled,r=e.route,o=e.routeParams,a=t.toJS(),i=a.type;if(r===T.EDIT_WIDGET_STOCK_PHOTOS&&i!==A.IMAGE&&i!==A.BACKGROUND)return null;if((r===T.EDIT_WIDGET_PROP||r===T.EDIT_WIDGET_PROP_STOCK_PHOTOS||r===T.EDIT_WIDGET_PROP_EDIT_BG||r===T.EDIT_WIDGET_PROP_EDIT_IMG||r===T.EDIT_WIDGET_PROP_MY_PHOTOS)&&o.prop!==a.property)return null;if(!this.isFieldEnabled(t))return null;if(i===A.LINKBUTTON){var u=a.description,l=a.icon,s=a.linkToDataObjectProperty,d=a.label;return c.default.createElement(S.default,null,c.default.createElement(y.default,{id:s,label:d,description:u,icon:l,disabled:n,linkToDataObjectProperty:s}))}return c.default.createElement("div",{className:"mutator-input-field"},this.renderInputField(a))}}]),t})(s.Component);M.defaultProps={onChange:d.noop,onBlur:d.noop,disabled:!1,className:""},M.contextTypes={getStore:s.PropTypes.func.isRequired},t.default=(0,b.subscribeToStores)(M,[E.default.CONFIG],(function(e){var t=u(e,1),n=t[0];return{configStore:n}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(4),d=n(10),f=r(d),p=n(38),h=r(p),m=(function(e){function t(e){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.description,r=e.icon,o=e.id,a=e.disabled,i=e.linkToDataObjectProperty,u={name:f.default.EDIT_WIDGET_DATA,params:{dataObjectProperty:i}};return s.default.createElement(h.default,{id:o,title:t,description:n,icon:(0,c.fromJS)({value:r}),disabled:a,route:u})}}]),t})(l.Component);t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(15),c=n(4),d=n(5),f=r(d),p=n(1),h=r(p),m=n(113),g=r(m),_=n(465),y=r(_),b=n(138),v=r(b),E=n(3),T=r(E),O=n(6),P=n(65),w=r(P),I=n(64),S=r(I),C=s.constants.editors,x=s.constants.socialLinksPrefix,k=(function(e){function t(e,n){o(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.shouldComponentUpdate=f.default.shouldComponentUpdate.bind(r),r.handleCreateFacebookPageClick=r.handleCreateFacebookPageClick.bind(r),r}return i(t,e),l(t,[{key:"handleCreateFacebookPageClick",value:function(){var e=this.context.getIntlString,t={market:this.context.getStore(T.default.ROUTE).getCurrentRoute().params.locale,appName:this.props.appName,returnToAppText:e("backToApp",{appName:e("appName")})},n=this.context.getStore(T.default.SOCIAL).getSocialConnectUrl(t);this.context.executeAction(v.default,{url:n,isResolved:!0})}},{key:"trimSocialLinksPrefix",value:function(e){var t=e.substring("https://".length);return t.includes("www.")&&(t=t.substring(4)),t}},{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.handleBlur,r=e.handleChange,o=this.convertPropsToFields();return h.default.createElement("div",{className:"ux-form mutator-form"},h.default.createElement(S.default,{description:"socialLinksWarning"}),h.default.createElement(g.default,{fields:o,onBlur:n,onChange:r,disabled:t}))}},{key:"convertPropsToFields",value:function(){var e=this.props,t=e.facebookProfile,n=e.twitterProfile,r=e.instagramProfile,o=e.pinterestProfile,a=e.linkedinProfile,i=e.youtubeProfile,u=e.googlePlusProfile,l=e.hasSocialConnectInPlan,s=this.context,d=s.getIntlString,f=s.getStore,p=f(T.default.CONFIG).getFeatureFlag("enableSocialFacebookCreate"),h=p&&l?{href:"#",onClick:this.handleCreateFacebookPageClick,text:d("createFacebookPageLink")}:{text:""};return c.List.of((0,c.Map)({type:C.TEXT,label:d("facebook"),prefix:this.trimSocialLinksPrefix(x.FACEBOOK),property:w.default.FACEBOOK_PROFILE,value:t,autoLoadNewValue:!1,isWebsiteProperty:!0,link:h}),(0,c.Map)({type:C.TEXT,label:d("twitter"),prefix:this.trimSocialLinksPrefix(x.TWITTER),property:w.default.TWITTER_PROFILE,value:n,autoLoadNewValue:!1,isWebsiteProperty:!0}),(0,c.Map)({type:C.TEXT,label:d("instagram"),prefix:this.trimSocialLinksPrefix(x.INSTAGRAM),property:w.default.INSTAGRAM_PROFILE,value:r,autoLoadNewValue:!1,isWebsiteProperty:!0}),(0,c.Map)({type:C.TEXT,label:d("pinterest"),prefix:this.trimSocialLinksPrefix(x.PINTEREST),property:w.default.PINTEREST_PROFILE,value:o,autoLoadNewValue:!1,isWebsiteProperty:!0}),(0,c.Map)({type:C.TEXT,label:d("linkedIn"),prefix:this.trimSocialLinksPrefix(x.LINKEDIN),property:w.default.LINKEDIN_PROFILE,value:a,autoLoadNewValue:!1,isWebsiteProperty:!0}),(0,c.Map)({type:C.TEXT,label:d("youTube"),prefix:this.trimSocialLinksPrefix(x.YOUTUBE),property:w.default.YOUTUBE_PROFILE,value:i,autoLoadNewValue:!1,isWebsiteProperty:!0}),(0,c.Map)({type:C.TEXT,label:d("googlePlus"),prefix:this.trimSocialLinksPrefix(x.GOOGLEPLUS),property:w.default.GOOGLEPLUS_PROFILE,value:u,autoLoadNewValue:!1,isWebsiteProperty:!0}))}}]),t})(p.Component);k.contextTypes={executeAction:p.PropTypes.func.isRequired,getIntlString:p.PropTypes.func.isRequired,getStore:p.PropTypes.func.isRequired},t.default=(0,O.subscribeToStores)(k,[T.default.APP,T.default.CONFIG,T.default.WEBSITE],(function(e){var t=u(e,3),n=t[0],r=t[1],o=t[2];return{appName:n.getAppName(),hasSocialConnectInPlan:r.getPlanFeature(y.default.SOCIAL_MEDIA_MANAGER),facebookProfile:o.getFacebookProfile(),twitterProfile:o.getTwitterProfile(),instagramProfile:o.getInstagramProfile(),pinterestProfile:o.getPinterestProfile(),linkedinProfile:o.getLinkedinProfile(),youtubeProfile:o.getYoutubeProfile(),googlePlusProfile:o.getGooglePlusProfile()}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.bypassI18N,r=this.context.getIntlString;return s.default.createElement("div",{className:"section-divider"},!n&&r(t)||t)}}]),t})(l.Component);t.default=f,f.contextTypes={getIntlString:l.PropTypes.func.isRequired},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(2),d=n(144),f=r(d),p=n(84),h=r(p),m=n(930),g=r(m),_=n(1204),y=r(_),b={xs:h.default.GRID_XSMALL_MIN,sm:h.default.GRID_SMALL_MIN,md:h.default.GRID_MEDIUM_MIN,lg:h.default.GRID_LARGE_MIN},v=["lg","md","sm","xs"],E={"100v":1,xl:.9,lg:.75,"75v":.75,md:.5,"50v":.5,sm:.25,xs:.1},T={"50v":.5,"75v":.75,"100v":1},O=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return n._uniqueId=(0,c.uniqueId)("ux-editor-scaler"),n.handleRender=n.handleRender.bind(n),n.handleResize=n.handleResize.bind(n),n.state={scale:e.scale,vw100:!1,vh100:!1,force:null},n}return i(t,e),u(t,[{key:"getChildContext",value:function(){return{scalerId:this._uniqueId}}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.waitForRender((function(){t.mounted&&(t.setState(t.getState(e)),t.resetTimer(e))}))}},{key:"updateStoreScale",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state;this.props.enabled&&this.state.scale!==e.scale&&this.context.executeAction(g.default,{id:this._uniqueId,scale:e.scale})}},{key:"componentWillUpdate",value:function(e,t){this.updateStoreScale(t)}},{key:"handleRender",value:function(e){var t=this;this._wrapper||(this.updateStoreScale(),this.mounted=!0,this._wrapper=e,this.waitForRender((function(){t.handleResize()})))}},{key:"handleResize",value:function(){this.mounted&&(this.setState(this.getState()),this.resetTimer())}},{key:"getRender",value:function(){return this._wrapper&&this._wrapper.querySelector(".x")}},{key:"waitForRender",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(n>=500||!this.mounted||!this._wrapper||"undefined"==typeof window)return void e();var r=this.getRender()||{},o=r.offsetWidth,a=void 0===o?0:o,i=r.offsetHeight,u=void 0===i?0:i;return a&&u?void setTimeout((function(){e()}),1):void window.requestAnimationFrame((function(){t.waitForRender(e,n+1)}))}},{key:"getState",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=t.auto;if(!n||!this._wrapper||"undefined"==typeof window||"undefined"==typeof document)return this.state;if(this._container=this._container||Array.from(document.querySelectorAll(".widget-list-box, .viewport, #render-container")).find((function(t){return t.contains(e._wrapper)})),!this._container)return this.state;var r=window.getComputedStyle(this._container),o=parseInt(r.width,10),a=parseInt(r.height,10),i=this.getRender();if(!i)return this.state;var u=(Array.from(i.classList).find((function(e){return/^x-force-/.test(e)}))||"").substr(-2)||"md",l=b[u]||b.md,s=o>=l?1:o/l,c=o/s,d=a/s;return{scale:s,vw100:c,vh100:d,force:u}}},{key:"resetTimer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;this._delay=20,this._maxDelay=e.maxSizePollingDelay,this.setTimer(e.afterClipping)}},{key:"setTimer",value:function(e){var t=this;clearTimeout(this._timer),this.mounted&&(this._timer=setTimeout((function(){var n=t._wrapper&&t._wrapper.lastChild,r=n&&parseInt(window.getComputedStyle(n).height,10);if(r){var o=r*t.state.scale;o!==t._previousHeight&&(t._previousHeight=o,"mobilePreviewOnDesktop"!==t.props.type&&(t._wrapper.style.height=o+"px"),t.setState(t.getState()),e&&e(r),(0,y.default)())}t._delay=Math.min(2*t._delay,t._maxDelay),t.setTimer()}),this._delay))}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.resetTimer()}},{key:"getViewStyles",value:function(){var e=this,t=this.state,n=t.vw100,r=t.vh100,o=t.force,a=[],i=o&&v.indexOf(o),u=i>=0&&v.slice(i);return n&&(u&&Object.keys(E).forEach((function(t){u.forEach((function(r){a.push("."+e._uniqueId+" .x .x-w-"+t+"-bp"+r+" { width: "+n*E[t]+"px !important; }")}))})),Object.keys(T).forEach((function(t){a.push("."+e._uniqueId+" .x .x-w-min-"+t+" { min-width: "+n*T[t]+"px !important; }"),a.push("."+e._uniqueId+" .x .x-w-max-"+t+" { max-width: "+n*T[t]+"px !important; }")}))),r&&(u&&Object.keys(E).forEach((function(t){u.forEach((function(n){a.push("."+e._uniqueId+" .x .x-h-"+t+"-bp"+n+" { height: "+r*E[t]+"px !important; }")}))})),Object.keys(T).forEach((function(t){a.push("."+e._uniqueId+" .x .x-h-min-"+t+" { min-height: "+r*T[t]+"px !important; }"),a.push("."+e._uniqueId+" .x .x-h-max-"+t+" { max-height: "+r*T[t]+"px !important; }")}))),a}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.display,r=e.enabled,o=this.state.scale,a=r?{display:n,transform:"scale("+o+")",WebkitTransform:"scale("+o+")",width:100/o+"%",transformOrigin:"top left",WebkitTransformOrigin:"top left"}:{},i=r?this.getViewStyles():[],u=r?{overflow:"hidden"}:{};return s.default.createElement("div",{ref:this.handleRender,style:u},r&&s.default.createElement(f.default,{onResize:this.handleResize}),i.length?s.default.createElement("style",{dangerouslySetInnerHTML:{__html:i.join("\n")}}):null,s.default.createElement("div",{className:"ux-scaled "+this._uniqueId,style:a},t))}}]),t})(l.Component);O.defaultProps={auto:!0,afterClipping:c.noop,scale:1,enabled:!0,maxSizePollingDelay:1e3,display:"inline-block"},O.contextTypes={executeAction:l.PropTypes.func},O.childContextTypes={scalerId:l.PropTypes.string},t.default=O,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(2),p=n(491),h=r(p),m=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.animationState={frameRequest:null},n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n.animate=n.animate.bind(n),n}return i(t,e),u(t,[{key:"componentDidMount",value:function(){this.startAnimation()}},{key:"componentDidUpdate",value:function(){this.startAnimation()}},{key:"componentWillUnmount",value:function(){this.stopAnimation()}},{key:"startAnimation",value:function(){this.stopAnimation();var e=this.props,t=e.startTime,n=void 0===t?Date.now():t,r=e.duration,o=e.from,a=e.to,i=e.spline;return o===a||r<=0?void this.props.onDone():void(this.animationState={startTime:n,duration:r,from:o,to:a,spline:i,frameRequest:window.requestAnimationFrame(this.animate)})}},{key:"stopAnimation",value:function(){this.animationState.frameRequest&&(window.cancelAnimationFrame(this.animationState.frameRequest),this.animationState.frameRequest=null)}},{key:"animate",value:function(){var e=this.props.repeat,t=this.animationState,n=t.startTime,r=t.duration,o=t.from,a=t.to,i=t.spline,u=Date.now()-n,l=null;r<=0?l=1:(l=u/r,l=e?l%1:Math.min(1,l));var s=l>=0,c=i(l),d=o+(a-o)*c;s&&this.props.onFrame(d),this.animationState.frameRequest=l<1?window.requestAnimationFrame(this.animate):null,s&&null===this.animationState.frameRequest&&this.props.onDone()}},{key:"render",value:function(){return null}}]),t})(s.default.Component);t.default=m,m.defaultProps={repeat:!1,spline:h.default,onDone:f.noop},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=(n(4),n(5)),f=r(d),p=n(7),h=r(p),m=n(35),g=r(m),_=n(11),y=n(9),b=r(y),v=n(8),E=r(v),T=n(3),O=r(T),P=n(21),w=r(P),I=n(6),S=(function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._handleClick=e._handleClick.bind(e),e.shouldComponentUpdate=f.default.shouldComponentUpdate.bind(e),e}return i(t,e),l(t,[{key:"_handleClick",value:function(e){var t=this.props,n=t.modalComponent,r=t.widgetId,o=t.widget;this.context.executeAction(g.default,{modal:c.default.createElement(n,{widgetId:r}),forceModal:!0}),(0,_.logEvent)({code:b.default.edit_site.delete_section_trash_icon,domEvent:e,widgetType:o.get("type")})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.buttonType,r=this.context.getIntlString,o=(0,h.default)(t,"uxicon","uxicon-large","uxicon-trash","delete-widget-btn");return"icon"===n?c.default.createElement("div",{className:o,"data-aid":E.default.DELETE_WIDGET_BUTTON,onClick:this._handleClick}):c.default.createElement(w.default,{className:"delete-widget-btn btn-sm",type:"danger dark","data-aid":E.default.DELETE_WIDGET_BUTTON,onClick:this._handleClick},r("removeSectionButton"))}}]),t})(s.Component);S.defaultProps={buttonType:"icon"},S.contextTypes={executeAction:s.PropTypes.func.isRequired,getIntlString:s.PropTypes.func.isRequired},t.default=(0,I.subscribeToStores)(S,[O.default.WIDGET],(function(e,t){var n=u(e,1),r=n[0],o=t.widgetId,a=o&&r.getWidgetById(o);return{widget:a}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(8),u=r(i),l=n(167),s=r(l),c=n(9),d=r(c),f=n(7),p=r(f),h=function(e,t){function n(e){i(s.default),e.preventDefault()}var r=e.inverse,o=e.showControlPanel,i=t.executeAction,l=(0,p.default)({uxicon:!0,"uxicon-large":!0,"uxicon-x spinForward":o,"uxicon-grid-horizontal spinBackward":!o,inverse:r});return a.default.createElement("a",{href:"#","data-traffic2":d.default.editor_side_menu.open_side_menu,onClick:n},a.default.createElement("span",{className:l,"data-aid":o?u.default.EDITOR_HAMBURGER_OPEN:u.default.EDITOR_HEADER_HAMBURGER_ICON}))};h.contextTypes={executeAction:o.PropTypes.func.isRequired},t.default=h,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");
}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(5),f=r(d),p=n(2),h=(n(4),n(11)),m=n(968),g=r(m),_=n(3),y=r(_),b=n(9),v=r(b),E=n(8),T=r(E),O=n(6),P=n(173),w=r(P),I=(function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._handleDelete=e._handleDelete.bind(e),e.shouldComponentUpdate=f.default.shouldComponentUpdate.bind(e),e}return i(t,e),l(t,[{key:"_handleDelete",value:function(e){var t=this.props.widget;this.context.executeAction(g.default,{widget:t&&t.toJS()}),(0,h.logEvent)({code:v.default.edit_site.delete_button_on_delete_confirmation,domEvent:e,widgetId:t.get("id"),widgetType:t.get("type")})}},{key:"render",value:function(){var e=this.props.widget,t=this.context.getIntlString,n=t(e.get("type")).split(" ").map((function(e){return(0,p.capitalize)(e)})).join(" "),r=t("deleteWidgetConfirmation",{widgetType:n});return c.default.createElement(w.default,{title:"deleteSection",buttonLabel:"removeSectionButton",description:r,deleteButtonDataAid:T.default.DELETE_WIDGET_MODAL_DELETE,cancelButtonDataAid:T.default.DELETE_WIDGET_MODAL_CANCEL,closeTrafficEvent:v.default.edit_site.close_icon_on_delete_confirmation,cancelTrafficEvent:v.default.edit_site.cancel_button_on_delete_confirmation,handleDelete:this._handleDelete})}}]),t})(s.Component);I.contextTypes={getIntlString:s.PropTypes.func.isRequired,executeAction:s.PropTypes.func.isRequired},t.default=(0,O.subscribeToStores)(I,[y.default.WIDGET],(function(e,t){var n=u(e,1),r=n[0],o=t.widgetId;return{widget:r.getWidgetById(o)}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=r(o);t.default=(0,a.default)({OLS:null}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=r(o);t.default=(0,a.default)({CONFIG_LOADED:null,CONFIG_SET_CONFIG:null}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=r(o);t.default=(0,a.default)({SHOPPER_SET_SUBSCRIPTION_DETAILS:null,SHOPPER_SET_PAYMENT_METHOD_DETAILS:null,SHOPPER_SET_AUTORENEW:null}),e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={IMAGE_SELECTOR_THUMBNAIL_SIZE:83,LIST_ITEM_HEIGHT:70},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={RIGHT_GUTTER_WIDTH:65},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={MAX_PAGE_NAME_LENGTH:25},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(55),a=r(o),i="client",u="local";t.default=(0,a.default)("vnext-editor:"+i+":"+u),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.error,r=t.message,o=t.type,a=t.meta,u=void 0===a?{}:a;n=n||{};try{var s=e.getStore(c.default.CONFIG),f=e.getStore(c.default.AUTH),p={level:"error",type:o||"Generic client error",message:r||n.message||"Unknown error",stack:n.stack,meta:u,date:(new Date).toJSON()};return"local"===window.APP_ENV?void(0,l.default)("error log: %o",p):(0,i.default)({url:s.getApiURL()+"/logs",method:"post",withCredentials:!0,headers:(0,d.getHeaders)(f.getShopperId()),data:p}).catch((function(e){return(0,l.default)("error during log request: %o",e),Promise.resolve()}))}catch(e){return(0,l.default)("error while posting log: %o",e),Promise.resolve()}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(109),i=r(a),u=n(250),l=r(u),s=n(3),c=r(s),d=n(22);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.urlPattern,n=e.segments;return t.replace(v,(function(e,t){return encodeURIComponent(n[t])}))}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.metadata,r=void 0===n?{}:n,a=t.method,l=void 0===a?"get":a,c=t.baseUrl,d=void 0===c?"":c,f=t.url,h=void 0===f?"":f,g=t.headers,y=void 0===g?{}:g,v=t.enableRetries,E=void 0===v||v,T=t.enableReauth,O=void 0!==T&&T,P=t.retries,w=void 0===P?{}:P,I=t.segments,S=void 0===I?{}:I,C=t.params,x=void 0===C?{}:C,k=t.data,D=void 0===k?null:k,A=t.fullResponse,M=void 0!==A&&A,N=t.formatURL,R=void 0===N||N,j=t.timeout,L=void 0===j?null:j,U=R?o({urlPattern:h,segments:S}):h;U=d+U;var G=(0,u.defaultsDeep)(w,{attempts:3,delay:{ms:1e3,multiplier:2}}),B=G.attempts,W=G.delay,F=W.ms,H=W.multiplier,V=r.id||s.default.v4(),q=(0,u.assign)({id:V},r),Y=function(t,n){if(n.total){var r=n.loaded/n.total;e.dispatch(m.default.UPDATE_PROGRESS,{filename:t,percentage:r})}},z={method:l,url:U,params:x,data:D,headers:y,timeout:L,withCredentials:!0,progress:t.updateProgress?Y.bind(null,x.basePath?x.basePath+"/"+t.filename:t.filename):u.noop};return e.dispatch(p.default.REQUEST_STARTED,q),i({attempts:B,delay:F,multiplier:H,enableRetries:E},z).then((function(t){return e.dispatch(p.default.REQUEST_SUCCEEDED,{id:V}),M?t:t.data})).catch((function(t){var n=t.response;n=void 0===n?{}:n;var r=n.status;throw b.has(r)&&O&&e.dispatch(_.default.AUTH_REMOVE_INFO),e.dispatch(p.default.REQUEST_FAILED,{id:V,error:t}),t}))}function i(e,t){var n=e.attempts,r=e.delay,o=e.multiplier,a=e.enableRetries;return(0,d.default)(t).catch((function(e){var u=e.response;u=void 0===u?{}:u;var l=u.status;if(n--,!a||n<=0||!y.has(l))throw e;return new Promise(function(e){return setTimeout(e,r)}).then((function(){return i({attempts:n,delay:r*o,multiplier:o,enableRetries:a},t)}))}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var u=n(2),l=n(75),s=r(l),c=n(109),d=r(c),f=n(146),p=r(f),h=n(116),m=r(h),g=n(176),_=r(g),y=new Set([500,502,503,504]),b=new Set([401,403]),v=/\{(.*?)}/g;e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=n(3),i=r(a);t.default=(0,o.reduce)(i.default,(function(e,t){return e[t]=n(617)("./"+t),e}),{}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(2),i=r(a),u=n(616),l=r(u);t.default=function(e,t){var n=[],r=[],a=e&&e.meta||{};e&&e.meta&&Object.keys(a).forEach((function(e){var t=a[e];t&&t.name&&t.url&&(n.push(t.url),r.push(t.name))}));var u={classes:!1,events:!0,custom:{urls:n,families:r}};return t?void l.default.load(o({},u,{active:i.default.unary(t)})):new Promise(function(e){l.default.load(o({},u,{active:i.default.unary(e)}))})},e.exports=t.default},function(e,t){"use strict";function n(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.leeway,o=void 0===n?0:n,a=e.parentNode,i=e.offsetParent,u=e.offsetTop,l=void 0===u?0:u,s=e.offsetHeight,c=void 0===s?0:s;a;){var d=window.getComputedStyle(a),f=d.overflowY,p=d.transform,h=r(p);l*=h,c*=h;var m=a===document.body,g=m||"auto"===f||"scroll"===f;if(g){var _=m?window.innerHeight:a.clientHeight,y=m?window.pageYOffset||window.scrollY||0:a.scrollTop;return{isInView:l>=y&&l+c<=y+_,isPartiallyInView:l+c>=y-o&&l<=y+_+o,container:a,currentPos:y,clientHeight:_,pos:l,height:c}}a===i&&(l+=a.offsetTop||0,i=i.offsetParent),a=a.parentNode}}function r(e){var t=o.exec(e)||a.exec(e);return t?parseFloat(t[1]):1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var o=/^scale\((.*)\)$/,a=/^matrix\(\s*(.*)\s*,\s*(.*)\s*,\s*(.*)\s*,\s*(.*)\s*,\s*(.*)\s*,\s*(.*)\s*\)$/;e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.mutatorPath;return n||e!==d.default.EDIT_WIDGET_MUTATOR?e:d.default.EDIT_WIDGET}function a(e,t){var n=e.getCurrentRoute(),r=(0,i.extend)({},n.params,t.params),a=!0,l=!1,c=void 0;try{for(var d,h=Object.keys(r)[Symbol.iterator]();!(a=(d=h.next()).done);a=!0){var m=d.value,g=r[m];"string"==typeof g?r[m]=decodeURI(g):(Array.isArray(g)||u.List.isList(g))&&(r[m]=g.join(f))}}catch(e){l=!0,c=e}finally{try{!a&&h.return&&h.return()}finally{if(l)throw c}}var _=o(t.routeName||n.name,r),y=e.makePath(_,r)||"/",b=y.replace(p,"/"),v=(0,i.assign)((0,i.pick)(n.query,["testWidget"]),r.query,t.query);b=(0,s.default)(b,v);var E=(0,i.assign)({},t,{url:b,routeName:_,params:r});return E}Object.defineProperty(t,"__esModule",{value:!0}),t.makeRelativeRoutePayload=a;var i=n(2),u=n(4),l=n(177),s=r(l),c=n(10),d=r(c),f="slash_replacement_slug",p=new RegExp(f,"g")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(1226),a=r(o),i=n(1225),u=r(i),l="function"==typeof u.default&&"symbol"==typeof a.default?function(e){return typeof e}:function(e){return e&&"function"==typeof u.default&&e.constructor===u.default&&e!==u.default.prototype?"symbol":typeof e};t.default="function"==typeof u.default&&"symbol"===l(a.default)?function(e){return"undefined"==typeof e?"undefined":l(e)}:function(e){return e&&"function"==typeof u.default&&e.constructor===u.default&&e!==u.default.prototype?"symbol":"undefined"==typeof e?"undefined":l(e)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){e.exports=!0},function(e,t,n){var r=n(120),o=n(1253),a=n(260),i=n(265)("IE_PROTO"),u=function(){},l="prototype",s=function(){var e,t=n(508)("iframe"),r=a.length,o="<",i=">";for(t.style.display="none",n(1246).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(o+"script"+i+"document.F=Object"+o+"/script"+i),e.close(),s=e.F;r--;)delete s[l][a[r]];return s()};e.exports=Object.create||function(e,t){var n;return null!==e?(u[l]=r(e),n=new u,u[l]=null,n[i]=e):n=s(),void 0===t?n:o(n,t)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(100).f,o=n(99),a=n(87)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},function(e,t,n){var r=n(266)("keys"),o=n(185);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t,n){var r=n(86),o="__core-js_shared__",a=r[o]||(r[o]={});e.exports=function(e){return a[e]||(a[e]={})}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(148);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(86),o=n(54),a=n(261),i=n(270),u=n(100).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=a?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||u(t,e,{value:i.f(e)})}},function(e,t,n){t.f=n(87)},,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"calendar.272dcf758de4c5a02b6490b19c2559d4.svg"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1227),a=r(o),i=n(257),u=r(i),l=n(503),s=r(l),c=n(179),d=r(c),f=n(506),p=r(f),h=n(180),m=r(h),g=n(505),_=r(g),y=n(631),b=n(1),v=r(b),E=n(630),T=r(E),O=n(322),P=n(626),w=r(P),I=n(632),S=r(I),C=function(){},x=b.PropTypes.bool,k=b.PropTypes.element,D=b.PropTypes.func,A=b.PropTypes.object,M=b.PropTypes.oneOfType,N=b.PropTypes.number,R=b.PropTypes.string,j={autoFocus:x,className:R,containerClasses:R,dropdownClasses:R,inputClasses:R,inputId:R,inputName:R,limitResults:N,logUserInputsEvent:D,market:R,minInputLength:N,noResultsText:R,onBlur:D,onChange:D,onFocus:D,onInputClick:D,onOptionClick:D,onOptionChange:D,onOptionEnter:D,otherNameFormat:R,placeholder:R,showOtherOption:x,showOtherOptionDelay:N,spinner:k,autoSelectExactMatch:x,value:M([A,R]),uxcore:x},L={limitResults:5,logUserInputsEvent:C,market:"en-US",minInputLength:null,onChange:C,onInputClick:C,onOptionClick:C,onOptionChange:C,onOptionEnter:C,otherNameFormat:O.OTHER_NAME_FORMAT,showOtherOption:!1,showOtherOptionDelay:0,value:"",autoSelectExactMatch:!1,spinner:null,uxcore:!1},U=(function(e){function t(e,n){(0,d.default)(this,t);var r=(0,p.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e,n)),o=e.market;return r.onChange=r._onChange.bind(r),r.onOptionChange=r._onOptionChange.bind(r),r.onOptionClick=r._onOptionClick.bind(r),r.onOptionEnter=r._onOptionEnter.bind(r),r.lastInput="",r.lastResults=null,r.showOtherOptionTimeout=null,r.hasEdited=!1,r.inputs=[],r.state={inputValue:"",showOtherOption:!1,options:[],filter:null,minInputLength:r.props.minInputLength},(0,y.getData)(o).then((function(e){var n=e.verticals||e.godaddyVerticals,o=r.props.minInputLength?r.props.minInputLength:e.trie.minInputLength?e.trie.minInputLength:O.MIN_INPUT_LENGTH;r.setState({options:n,minInputLength:o,filter:t.createFilter(r.props,r.state,e)}),r._setDefaultValue(r.props.value)})),r}return(0,_.default)(t,e),(0,m.default)(t,null,[{key:"isOtherOptionValue",value:function(e){return!(!e||"function"!=typeof e.indexOf)&&0===e.indexOf(O.OTHER_ID_PREFIX)}},{key:"getNameForValue",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US",r=arguments[2];return(0,y.getData)(n).then((function(n){var o=n.verticals||n.godaddyVerticals;return t.nameFromValue(e,o,r)}))}},{key:"nameFromValue",value:function(e,n,r){if(t.isOtherOptionValue(e))return r.replace("{name}",e.slice(O.OTHER_ID_PREFIX.length));var o=n.find((function(t){return t.str_id===e}));return o&&o.name}},{key:"createFilter",value:function(e,t,n){var r=e.limitResults,o=e.otherNameFormat,a=new S.default(r,t.minInputLength,o,n);return a.setShowOtherOption(t.showOtherOption),a}}]),(0,m.default)(t,[{key:"componentWillMount",value:function(){this._setDefaultValue(this.props.value)}},{key:"componentWillUnmount",value:function(){this.showOtherOptionTimeout&&clearTimeout(this.showOtherOptionTimeout)}},{key:"componentWillReceiveProps",value:function(e){var t=e.value;t===this.props.value||this.hasEdited||this._setDefaultValue(t)}},{key:"componentWillUpdate",value:function(e,t){var n=t.showOtherOption;n!==this.state.showOtherOption&&(this.state.filter&&this.state.filter.setShowOtherOption(n),this.lastResults=null,this._filterOptions(this.lastInput))}},{key:"_setDefaultValue",value:function(e){var n="";"string"==typeof e?n=t.nameFromValue(e,this.state.options,this.props.otherNameFormat):e&&"object"===("undefined"==typeof e?"undefined":(0,u.default)(e))&&(n=e.name),this._setInput(n)}},{key:"_filterOptions",value:function(e){return e===this.lastInput&&this.lastResults&&!this.state.filter?this.lastResults:(this.lastInput=e,this.lastResults=[],this.state.filter?this.lastResults=this.state.filter.fuzzyFilter(e):e&&(this.lastResults=this.state.options.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))),void this.setState({options:this.lastResults}))}},{key:"_setInput",value:function(e){this._filterOptions(e),this.setState({inputValue:e})}},{key:"_recordUserInputs",value:function(e){if(e.length>=this.state.minInputLength){var t=this.inputs[this.inputs.length-1];t&&e.startsWith(t)?this.inputs[this.inputs.length-1]=e:t&&t.startsWith(e)||this.inputs.push(e)}}},{key:"_logUserInputs",value:function(e,t,n,r){if(this.inputs.length){var o=this.inputs.slice();this.inputs=[],this.props.logUserInputsEvent({code:"pandc.vnext.vertical_picker.select",domEvent:e,str_id:t,market:n,inputs:o,index:r})}}},{key:"_onChange",value:function(e){var t=this;this.showOtherOptionTimeout||(this.showOtherOptionTimeout=setTimeout((function(){return t.setState({showOtherOption:!0})}),this.props.showOtherOptionDelay));var n=e.target.value;this._setInput(n),this._recordUserInputs(n),this.hasEdited=!0,this.props.onChange(e,n)}},{key:"_onOptionChange",value:function(e,t,n){this.setState({inputValue:t.name}),this.lastInput=t.name,this.props.onOptionChange(e,t,n)}},{key:"_onOptionClick",value:function(e,t,n){this._setInput(t.name),this._logUserInputs(e,t.str_id,this.props.market,n),this.props.onOptionClick(e,t,n)}},{key:"_onOptionEnter",value:function(e,t){this._logUserInputs(e,t.str_id,this.props.market),this.props.onOptionEnter(e,t)}},{key:"clear",value:function(){this._setInput("")}},{key:"render",value:function(){return v.default.createElement(w.default,(0,a.default)({},this.props,{inputValue:this.state.inputValue,options:this.state.options,optionTemplate:T.default,onChange:this.onChange,onOptionChange:this.onOptionChange,onOptionClick:this.onOptionClick,onOptionEnter:this.onOptionEnter,showSpinner:!this.state.filter&&!!this.state.inputValue}))}}]),t})(b.Component);U.displayName="VerticalPicker",U.propTypes=j,U.defaultProps=L,t.default=U},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OTHER_ID_PREFIX="_other_",t.OTHER_NAME_FORMAT="Other: {name}",t.MIN_INPUT_LENGTH=1},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={};return n.forEach((function(n){e[n]&&(t[n]=e[n])})),t};var n=["autoComplete","autoFocus","data-route","disabled","form","formAction","formEncType","formMethod","formNoValidate","formTarget","height","id","inputMode","maxLength","name","pattern","placeholder","readOnly","required","size","spellCheck","tabIndex"]},,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return e.dispatch(i.default.APP_TOGGLE_ADD_LINK_PANEL,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(31),i=r(a);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return e.dispatch(i.default.APP_TOGGLE_EDIT_LINK_PANEL,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(31),i=r(a);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return e.dispatch(i.default.APP_TOGGLE_EDIT_PAGE_PANEL,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(31),i=r(a);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return e.dispatch(i.default.APP_TOGGLE_NET_PROMOTER_SCORE,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(31),i=r(a);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.showFreeTrialBanner;return e.dispatch(i.default.APP_TOGGLE_SHOW_FREE_TRIAL_BANNER,{showFreeTrialBanner:n})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(31),i=r(a);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return e.dispatch(i.default.CONFIG_SET_CONFIG,{config:t})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(245),i=r(a);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.getStore(l.default.DOCUMENT).getDocuments();if(t.size>0)return Promise.resolve(null);var n=e.getStore(l.default.WEBSITE).getCurrentWebsiteId(),r={websiteId:n};return e.executeAction(c.default,r).then((function(t){t=t||[],e.dispatch(i.default.SET_DOCUMENTS,{documents:t})}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(116),i=r(a),u=n(3),l=r(u),s=n(1174),c=r(s);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.requestId,r=t.data,o=t.uri,a=t.filename,u=t.basePath,s=t.dimensions,d=t.widgetId,p=t.widgetMatcher,m=e.getStore(f.default.WEBSITE).getCurrentWebsiteId(),_={requestId:n,data:r,websiteId:m,filename:a,updateProgress:!0,basePath:u},y={createdDate:(new Date).toString(),lastModified:(new Date).toString(),uri:o||null,filename:u?u+"/"+a:a,requestId:n,dimensions:s};return e.dispatch(l.default.ADD_DOCUMENTS,{documents:[y]}),e.executeAction(h.default,_).then((function(t){return e.dispatch(l.default.EDIT_DOCUMENTS,{documents:t,basePath:u,widgetId:d,widgetMatcher:p})})).catch((function(){e.dispatch(c.default.SET_MODAL,{modal:i.default.createElement(g.default,{modalTitle:"genericErrorTitle2",modalDescription:"imageUploadError"}),forceModal:!0})}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(1),i=r(a),u=n(116),l=r(u),s=n(81),c=r(s),d=n(3),f=r(d),p=n(1175),h=r(p),m=n(174),g=r(m);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.domain,r=n.get("name"),o=n.get("purchasable");if(!o){var a=e.getStore(l.default.CONFIG).getURL("domains.crossSellSearch"),u=a.replace("{domainName}",encodeURIComponent(r));return void window.open(u,"_blank")}return e.executeAction(i.default,{domain:r}).then((function(e){var t=e.Success,n=e.NextStepUrl;t&&(window.location=n)}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(1198),i=r(a),u=n(3),l=r(u);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.searchQuery,r=e.getStore(c.default.WEBSITE),o=e.getStore(c.default.WIDGET),u=e.getStore(c.default.CONFIG),s=u.getFeatureFlag("enableForceNonPurchasable"),d={subdomain:r.getDpsSubdomain(),siteName:r.getBusinessName(),siteTagline:o.getHeader().getIn(["properties","tagline"],""),siteCategory:r.getBusinessCategory(),address:r.getAddress(),createDate:r.getCreateDate(),phoneNumber:r.getPhone()};return e.executeAction(h.default,{data:d,searchQuery:n}).then((function(t){var r=t.data,o=r.RecommendedDomains.map((function(e){return g(e,s)})),i=r.ExactMatch?g(r.ExactMatch,s):null;n?((0,a.logImpression)(m.domain_search_success),e.dispatch(l.default.SET_DOMAIN_SEARCH,{alternatives:o,exactMatch:i})):((0,a.logImpression)(m.domain_recommendations_success),e.dispatch(l.default.SET_DOMAIN_SUGGESTIONS,{suggestions:o}))})).catch((function(e){var t=void 0,r=void 0,o=void 0;(0,i.includes)(e.message,"timeout")?(t=n?m.domain_search_timeout:m.domain_recommendations_timeout,o=e.message):(t=n?m.domain_search:m.domain_recommendations,e.response?(r=e.response.status,o=e.response.data):o=e.message),(0,a.logEvent)({code:t,status:r,message:o})}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(11),i=n(2),u=n(95),l=r(u),s=n(3),c=r(s),d=n(9),f=r(d),p=n(1199),h=r(p),m=f.default.editor_publish_modal_domain_recommendations,g=function(e,t){return{name:e.Fqdn,listPriceDisplay:e.ListPriceDisplay,currentPriceDisplay:e.CurrentPriceDisplay,available:1e3===e.AvailabilityStatus,purchasable:!t&&e.IsPurchasable!==!1}};e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.config,r=e.getStore(d.default.ROUTE).getCurrentRoute()||{},o=r.query;o=void 0===o?{}:o;var i=o.testWidget,l=void 0===i?null:i,c=e.getStore(d.default.CONFIG).get("env"),f=new a.Registry(n,{testWidget:l,localProxy:"local"===c&&"/registryProxy"}),p=u.default.bind(null,e,f);return new Promise(function(e,t){f.getWidgets((function(n,r){return n?t(n):void e(r)}))}).then((function(t){return Promise.all(Object.keys(t).map((function(e){return Object.keys(t[e].layouts).forEach((function(n){var r=t[e].layouts[n];r.Component=r.Component||p(e,n)})),Promise.resolve()}))).then((function(){e.dispatch(s.default.SET_REGISTRY,{Registry:f,registry:t,testWidget:l})}))}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(360),i=n(1215),u=r(i),l=n(117),s=r(l),c=n(3),d=r(c);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.type,r=t.preset,o=t.data,a=t.manifest;return e.dispatch(i.default.UPDATE_REGISTRY,{type:n,preset:r,data:o,manifest:a}),Promise.resolve()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(117),i=r(a);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!e.getStore(i.default.APP).isInitialized()&&!t.force)return Promise.resolve();var n=t.params?t:e.getStore(i.default.ROUTE).getCurrentRoute(),r=n.params,o=void 0===r?{}:r,a=n.url;return a&&(0,u.logPageView)(a),Promise.all(Object.keys(l).map((function(t){var n=o[t];return n?e.executeAction(l[t],{param:n}):Promise.resolve()})))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(3),i=r(a),u=n(11),l={websiteId:n(952),pageId:n(951),widgetId:n(953)};e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.getStore(d.default.CONFIG),n=e.getStore(d.default.WEBSITE),r=e.getStore(d.default.SHOPPER),o=r.getRenewalPfid(),i=n.getCurrentWebsiteAccountId(),l=t.getURL("vCart.url"),c=t.get("vCart.appName"),f=r.getSubscriptionId().split(":").map((function(e){return parseInt(e,10)})),p=a(f,1),h=p[0],m={cart:{items:[{pfid:o,subscriptionId:h}],tracking:{itemTrackingCode:"app_vnext_free_trial_banner_renewal",clientIp:"127.0.0.1"}},navigation:{keepWorking:{isHidden:!1,app:c,path:"/launch?account_uid="+i+"&purchaseComplete=1",description:"Let’s continue building the site",buttonText:"Continue"},manageProduct:{isHidden:!0}}};return(0,u.default)(l,{postData:(0,s.default)(m)}),Promise.resolve()}Object.defineProperty(t,"__esModule",{value:!0});var a=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),i=n(1212),u=r(i),l=n(1211),s=r(l),c=n(3),d=r(c);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.category,r=u.test(n);return r?e.executeAction(i.default,{category:"generic"}):e.executeAction(i.default,{category:n,fetchParents:!0}).then((function(t){if(t.length<4)return e.executeAction(i.default,{category:"generic"})}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(962),i=r(a),u=/^_other_/;e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return e.getStore(h.default.AUTH).getShopperId()?(e.executeAction(l.default),e.executeAction(c.default).then((function(t){var n=!(0,i.isEmpty)(t);if(!n)return e.executeAction(y.default,{url:"vnext.landingPage"});var r=a(t,1),o=r[0];return e.executeAction(v.default,{website:o}).then((function(){return o}))})).then((function(t){return t&&e.executeAction(g.default,{method:"get",routeName:f.default.PREVIEW_DESKTOP,params:{websiteId:t.id,pageId:t.homepageId}})}))):Promise.resolve()}Object.defineProperty(t,"__esModule",{value:!0});var a=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})();t.default=o;var i=n(2),u=n(225),l=r(u),s=n(1197),c=r(s),d=n(10),f=r(d),p=n(3),h=r(p),m=n(17),g=r(m),_=n(138),y=r(_),b=n(231),v=r(b);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.website,r=t.websiteId;n&&(r=n.id);var o=e.getStore(p.default.WEBSITE),i=o.getCurrentWebsite();return i&&i.get("id")===r?Promise.resolve():(e.dispatch(u.default.SET_CURRENT_WEBSITE_ID,{websiteId:r}),Promise.all([n||e.executeAction(_.default,{websiteId:r}),e.executeAction(b.default,{websiteId:r}),e.executeAction(E.default,{websiteId:r})]).then((function(t){var n=a(t,1),r=n[0];return e.executeAction(R.default,{website:r}).then((function(){return t}))})).then((function(t){var n=a(t,3),o=n[0],i=n[1],l=n[2];if(e.dispatch(u.default.SET_WEBSITE,{website:o}),e.dispatch(s.default.SET_PAGES,{pages:i}),e.dispatch(d.default.SET_SHARED_WIDGETS,{widgets:l}),o.properties.theme){var c=e.getStore(p.default.REGISTRY);if(c.isThemesEnabled()){var f=o.properties,h=f.layout,g=f.theme;h!==g&&e.dispatch(u.default.SET_WEBSITE_PROPERTIES,{layout:1===g.length?"layout"+g:g})}}e.executeAction(D.default,{accountId:o.accountId}),e.executeAction(S.default,{category:o.properties.businessCategory}),e.executeAction(O.default,{accountId:o.accountId}),e.executeAction(M.default);var _=e.getStore(p.default.ROUTE).getCurrentRoute().params.pageId;_&&i.some((function(e){return e.id===_}))||e.executeAction(x.default).then((function(){e.executeAction(w.default,{routeName:m.default.PREVIEW_DESKTOP,type:"replacestate",params:{websiteId:r,pageId:o.homepageId}})}))})))}Object.defineProperty(t,"__esModule",{value:!0});var a=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})();t.default=o;var i=n(53),u=r(i),l=n(82),s=r(l),c=n(83),d=r(c),f=n(3),p=r(f),h=n(10),m=r(h),g=n(1192),_=r(g),y=n(1183),b=r(y),v=n(1196),E=r(v),T=n(935),O=r(T),P=n(17),w=r(P),I=n(397),S=r(I),C=n(226),x=r(C),k=n(230),D=r(k),A=n(963),M=r(A),N=n(231),R=r(N);e.exports=t.default},function(e,t,n){"use strict";function r(e,t){return e.dispatch(o.SET_WEBSITE_DOMAIN,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(53);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.stockImages,r=void 0===n?[]:n,o=e.getStore(s.default.WEBSITE),i=o.getCurrentWebsite();if(!i)return Promise.resolve();var l=o.getStockImages().toJS(),f=l.map((function(e){return e.url}));r=r.filter((function(e){var t=f.indexOf(e);return!(t>=0&&(l[t].lastModified=new Date,1))})).map((function(e){return{url:e,lastModified:new Date}}));var p=i.get("data",(0,a.Map)()).set(c.STOCK_IMAGES,l.concat(r)).toJS();return e.dispatch(d.SET_WEBSITE_DATA,p),
e.executeAction(u.default)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(4),i=n(76),u=r(i),l=n(3),s=r(l),c=n(469),d=n(53);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.widget,r=e.dispatch,o=e.executeAction,i=e.getStore,l=i(d.default.APP),c=i(d.default.PAGE),f=i(d.default.WEBSITE).getCurrentWebsiteId();if(!f)return Promise.resolve();var m=c.getCurrentPageId();if(!m)return Promise.resolve();var _=(0,h.reduce)(e,p.default.GET_WIDGET_TO_ADD_INDEX),b=(0,a.merge)({websiteId:f,pageId:m},(0,a.pick)(n,["type","properties","options","data"]));return o(T.default).then((function(){return o(y.default,{widget:b,position:_})})).then((function(e){b.id=e[0],r(u.default.ADD_WIDGET,{widget:b,position:_})})).then((function(){if(!b.properties)return Promise.resolve();var e=[],t=i(d.default.CONFIG),n=t.get("images.stock.baseDownloadURL");return Object.keys(b.properties).forEach((function(t){var r=String(b.properties[t]);0===r.indexOf(n)&&e.push(r)})),o(v.default,{stockImages:e})})).then((function(){"mobile"!==l.getDevice()&&r(u.default.SET_PREVIEW_WIDGET,{widget:null}),setTimeout((function(){return o(g.default,{routeName:s.default.EDIT})}),1e3)}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(2),i=n(83),u=r(i),l=n(10),s=r(l),c=n(3),d=r(c),f=n(39),p=r(f),h=n(471),m=n(17),g=r(m),_=n(1182),y=r(_),b=n(401),v=r(b),E=n(76),T=r(E);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t,n,r){if((0,m.includes)(r,n))return e;var o=e.slice(0),a=o[t];return o.splice(t,1),o.splice(n,0,a),o}function l(e,t,n){return Math.max(Math.min(e,n),t)}Object.defineProperty(t,"__esModule",{value:!0});var s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),c=n(1),d=r(c),f=n(5),p=r(f),h=n(292),m=n(2),g=n(4),_=n(11),y=n(247),b={stiffness:300,damping:50},v=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={delta:0,mouse:0,isPressed:!1,lastPressed:0,order:(0,m.range)(n.props.items.size)},n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n.handleMouseMove=n.handleMouseMove.bind(n),n.handleMouseUp=n.handleMouseUp.bind(n),n.handleTouchMove=n.handleTouchMove.bind(n),n.handleClick=n.handleClick.bind(n),n}return i(t,e),s(t,[{key:"componentDidMount",value:function(){window.addEventListener("touchmove",this.handleTouchMove),window.addEventListener("touchend",this.handleMouseUp),window.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("mouseup",this.handleMouseUp),window.addEventListener("click",this.handleClick,!0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleMouseUp),window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp),window.removeEventListener("click",this.handleClick,!0)}},{key:"componentWillReceiveProps",value:function(e){this.setState({order:(0,m.range)(e.items.size)})}},{key:"handleClick",value:function(e){var t=e.target.className;((0,m.includes)(t,"grabber-list-item")||(0,m.includes)(t,"pivotbtn"))&&(e.preventDefault(),e.stopPropagation())}},{key:"handleTouchStart",value:function(e,t,n){this.handleMouseDown(e,t,n.touches[0])}},{key:"handleTouchMove",value:function(e){"Grabber"===e.target.id&&(e.preventDefault(),this.handleMouseMove(e.touches[0]))}},{key:"handleMouseDown",value:function(e,t,n){var r=n.pageY;this.setState({delta:r-t,mouse:t,isPressed:!0,lastPressed:e}),(0,_.logEvent)({code:this.props.logEventCode,domEvent:n})}},{key:"handleMouseMove",value:function(e){var t=e.pageY,n=this.state,r=n.isPressed,o=n.delta,a=n.order,i=n.lastPressed,s=this.props,c=s.ignoreItems,d=s.items;if(r){var f=t-o,p=l(Math.round(f/y.LIST_ITEM_HEIGHT),0,d.size-1),h=u(a,a.indexOf(i),p,c);this.setState({mouse:f,order:h})}}},{key:"handleMouseUp",value:function(){var e=this.props,t=e.items,n=e.sortAction,r=this.state.order,o=r.map((function(e){return t.get(e).get("id")}));this.context.executeAction(n,{navigation:o}),this.setState({isPressed:!1,delta:0})}},{key:"render",value:function(){var e=this,t=this.state,n=t.mouse,r=t.isPressed,o=t.lastPressed,a=t.order,i=this.props,u=i.containerClassName,l=i.ItemComponent,s=i.items,c={height:s.size*y.LIST_ITEM_HEIGHT+1,position:"relative"};return d.default.createElement("div",{ref:function(t){return e.draggableList=t},className:"draggable-list",style:c},s.map((function(t,i){if(!t)return null;var c=o===i&&r?{scale:(0,h.spring)(1.1,b),shadow:(0,h.spring)(16,b),y:n}:{scale:(0,h.spring)(1,b),shadow:(0,h.spring)(1,b),y:(0,h.spring)(a.indexOf(i)*y.LIST_ITEM_HEIGHT,b)};return d.default.createElement(h.Motion,{style:c,key:t.get("id")},(function(n){var r=n.scale,a=n.shadow,c=n.y;return d.default.createElement("div",{className:u,style:{boxShadow:"rgba(0, 0, 0, 0.2) 0px "+a+"px "+2*a+"px 0px",transform:"translate3d(0, "+c+"px, 0) scale("+r+")",WebkitTransform:"translate3d(0, "+c+"px, 0) scale("+r+")",zIndex:i===o?99:i}},d.default.createElement(l,{item:t,disableShowHideToggle:1===s.length,handleMouseDown:e.handleMouseDown.bind(e,i,c),handleTouchStart:e.handleTouchStart.bind(e,i,c)}))}))})))}}]),t})(c.Component);v.defaultProps={items:new g.List},v.contextTypes={executeAction:c.PropTypes.func.isRequired},t.default=v,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(980),p=r(f),h=(n(4),(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={selectedIndex:e.selectedIndex},n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n.handleClick=n.handleClick.bind(n),n}return i(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.selectedIndex;this.props.selectedIndex!==t&&this.setState({selectedIndex:t})}},{key:"handleClick",value:function(e){var t=this.props.onChange;this.setState({selectedIndex:e}),t&&t(e)}},{key:"render",value:function(){var e=this,t=this.props.values,n=this.state.selectedIndex;return s.default.createElement("div",{className:"ux-editor"},s.default.createElement("div",{className:"flex flex--middle m-tb-20"},t.map((function(t,r){var o=t.title,a=t.trafficId;return s.default.createElement(p.default,{index:r,isSelected:r===n,key:o,onClick:e.handleClick,title:o,trafficId:a})}))))}}]),t})(l.Component));t.default=h,h.defaultProps={selectedIndex:0},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(3),f=r(d),p=n(7),h=r(p),m=n(39),g=r(m),_=n(84),y=n(10),b=r(y),v=n(118),E=n(6),T=n(239),O=r(T),P=n(233),w=r(P),I=n(5),S=r(I),C=(n(4),(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=S.default.shouldComponentUpdate.bind(n),n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.editingId,n=e.viewMode,r=e.renderHydratedCallback,o=e.route,a=e.viewDevice,i=e.renderMode,u=e.freeTrialBannerDisplayed,l=e.website,s=e.layout,d=e.page,f=e.widgets,p=e.pages,m=e.type,g=void 0,y=void 0,v=void 0;"mobile"===n?(y=!1,g="mobile",v=!1):(y=!0,g="desktop",v=o!==b.default.EDIT_WIDGET);var E=v?_.DEFAULT_RENDERING_SCALE:1;return c.default.createElement("div",{id:"render-container",className:(0,h.default)({"with-banner":u})},c.default.createElement(O.default,{scale:E,enabled:v,type:m},c.default.createElement(w.default,{className:g,website:l,layout:s,page:d,pages:p,widgets:f,desktopPreview:y,viewDevice:a,route:o,renderMode:i,wrapperContext:{editingId:t},renderHydratedCallback:r,scale:E})))}}]),t})(s.Component));C.defaultProps={viewDevice:v.MOBILE_RENDER_DEVICE,viewMode:"desktop"},t.default=(0,E.subscribeToStores)(C,[g.default.GET_WIDGET_RENDER_DATA,g.default.GET_LAYOUT_RENDER_DATA,f.default.PAGE,f.default.WEBSITE,f.default.APP],(function(e){var t=u(e,5),n=t[0],r=t[1],o=t[2],a=t[3],i=t[4];return{website:a.getCurrentWebsite(),layout:r,page:o.getCurrentPage(),pages:o.getPages(),widgets:n,freeTrialBannerDisplayed:i.getShowFreeTrialBanner()}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){var t=(function(t){function n(e){o(this,n);var t=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(t),t}return i(n,t),s(n,[{key:"render",value:function(){var t=this.props,n=t.isDimmed,r=t.isHomePage,o=t.widget,a=t.widgetId,i=t.addSectionWidgetId,u=t.rootWidgetIds,l=t.maxWidgetsReached,s=t.scale;if(l)return null;var c=!u.size&&!r,f=c?v.default:y.default;return d.default.createElement(e,{isDimmed:n,scale:s,addSectionWidgetId:i,ToggleComponent:f,isHomePage:r,rootWidgetIds:u,widget:o,widgetId:a,isSelected:i===a})}}]),n})(d.default.Component);return t.contextTypes={executeAction:c.PropTypes.func.isRequired,getStore:c.PropTypes.func.isRequired},(0,g.subscribeToStores)(t,[m.default.PAGE,m.default.CONFIG,m.default.ROUTE],(function(e){var t=l(e,3),n=t[0],r=t[1],o=t[2];return{addSectionWidgetId:o.getCurrentRoute().params.addWidgetId,rootWidgetIds:n.getRootWidgetIds(),isHomePage:n.isHomePage(),maxWidgetsReached:n.getRootWidgetIds().size>=r.get("limits.maxWidgets")}}))}Object.defineProperty(t,"__esModule",{value:!0});var l=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})();t.default=u;var c=n(1),d=r(c),f=n(5),p=r(f),h=n(3),m=r(h),g=n(6),_=n(984),y=r(_),b=n(985),v=r(b);n(4),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){var n=t.getIntlString,r=e.description,a=e.fontPackId,u=o(e,["description","fontPackId"]);if(!r){var c=s.fonts.getPackById(a);r=c&&c.meta&&c.meta.primary&&c.meta.primary.name||void 0}return l.default.createElement(d.default,i({id:"FONTS_SEGMENTED_CONTROL",title:n("fonts"),icon:"text-highlight uxicon-larger",showInternalIcon:!0,description:r||"",route:p.default.EDIT_FONTS,trafficId:m.default.edit_styles.fonts_tab},u))}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(1),l=r(u),s=n(50),c=n(38),d=r(c),f=n(10),p=r(f),h=n(9),m=r(h);a.contextTypes={getIntlString:u.PropTypes.func.isRequired},t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),c=(n(4),n(1)),d=r(c),f=n(5),p=r(f),h=n(7),m=r(h),g=n(1002),_=r(g),y=n(3),b=r(y),v=n(9),E=r(v),T=n(10),O=r(T),P=n(6),w=n(1203),I=r(w),S=n(992),C=r(S),x=n(999),k=r(x),D=n(1001),A=r(D),M=n(134),N=r(M),R=n(77),j=r(R),L=n(139),U=r(L),G=n(71),B=r(G),W=n(78),F=r(W),H=n(59),V=r(H),q=n(932),Y=r(q),z=n(943),K=r(z),X=["color","font"],J=["color"],Z=(function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(e),e.handleThemeChange=e.handleThemeChange.bind(e),e.state=e.getState(),e}return i(t,e),s(t,[{key:"componentDidMount",value:function(){(0,I.default)(),this.context.executeAction(K.default)}},{key:"getPropsForTheme",value:function(e,t){var n=!1;return{current:{packs:X.reduce((function(r,o){var a=r[o]=e[o+"PackId"];return t&&a!==t.getIn(["packs",o])&&(n=!0),r}),{}),packCategories:J.reduce((function(r,o){var a=r[o]=e[o+"PackCategory"];return t&&a!==t.getIn(["packCategories",o])&&(n=!0),r}),{})},customized:n}}},{key:"getState",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props||{},n=t.enableThemes,r=t.themeId,o=t.themeLayouts;if(!n)return{};var a=this.state||{initial:r,themes:o,themeId:r},i=a.initial,u=a.themes;return{themeId:r,initial:i,themes:u.map((function(n,a){var u=n.get("id"),s=n.get("loaded"),c=u===r;if(s)return c?n.merge(e.getPropsForTheme(t,n)):n;n=o.get(a);var d=n.get("packs"),f=n.get("packCategories");return d||f?c?(u!==i&&e.handleThemeChange(u,d&&d.toJS()||{},f&&f.toJS()||{}),n.merge(l({loaded:!0},e.getPropsForTheme(t,n)))):n.merge({loaded:!0,customized:!1,current:{packs:d||{},packCategories:f||{}}}):n.set("loaded",!1)}))}}},{key:"componentWillReceiveProps",value:function(e){this.setState(this.getState(e))}},{key:"handleThemeChange",value:function(e,t,n){var r=this.state.themes,o=r.findIndex((function(t){return t.get("id")===e})),a=r.get(o);a.get("loaded")&&this.setState({themeId:e,themes:r.set(o,a.mergeIn(["current"],{packs:t,packCategories:n}))}),this.context.executeAction(Y.default,{id:e,packs:t,packCategories:n})}},{key:"render",value:function(){var e=this.props,n=e.enableThemes,r=e.isMobile,o=e.route,a=e.freeTrialBannerDisplayed;if(t.routes.indexOf(o)<0)return null;var i=n?d.default.createElement(A.default,this.themeProps):d.default.createElement(C.default,this.colorProps),u=(0,m.default)("styles-editor ux-editor flex flex--column",{"with-banner":a}),l=void 0,s=void 0;return o===O.default.EDIT_COLORS?n&&(l="colors",s=d.default.createElement(C.default,this.colorProps)):o===O.default.EDIT_FONTS&&(l="fonts",s=d.default.createElement(k.default,this.fontProps)),d.default.createElement(N.default,null,d.default.createElement("div",{className:u},!r&&d.default.createElement(j.default,null,d.default.createElement(F.default,{title:"styles"}),d.default.createElement(B.default,{route:O.default.EDIT})),d.default.createElement(V.default,null,i)),l&&s?d.default.createElement("div",{className:u},d.default.createElement(j.default,null,d.default.createElement(U.default,{route:O.default.EDIT_STYLES,"data-traffic2":n?E.default.edit_site.styles_tab_new:E.default.edit_site.styles_tab}),d.default.createElement(F.default,{title:l}),d.default.createElement(B.default,{route:O.default.EDIT})),d.default.createElement(V.default,null,s)):null)}},{key:"themeProps",get:function(){return{themes:this.state.themes,themeId:this.state.themeId,colorPackId:this.props.colorPackId,fontPackId:this.props.fontPackId,handleChange:this.handleThemeChange,isMobile:this.props.isMobile}}},{key:"fontProps",get:function(){return{fontPackId:this.props.fontPackId}}},{key:"colorProps",get:function(){return{isMobile:this.props.isMobile,colorPackId:this.props.colorPackId,fontPackId:this.props.fontPackId,colorPackCategory:this.props.colorPackCategory,enableThemes:this.props.enableThemes}}}]),t})(c.Component);Z.routes=[O.default.EDIT_STYLES,O.default.EDIT_COLORS,O.default.EDIT_FONTS],Z.contextTypes={executeAction:c.PropTypes.func.isRequired},t.default=(0,P.subscribeToStores)(Z,[b.default.WEBSITE,b.default.APP,b.default.CONFIG,b.default.REGISTRY],(function(e){var t=u(e,4),n=t[0],r=t[1],o=t[2],a=t[3],i=r.isMobile(),l=i?o.getFeatureFlag("enableThemesEditorMobile"):o.getFeatureFlag("enableThemesEditor"),s=a.getLayoutVariations(),c=s&&s.toList();return(!c||c.size<=1)&&(c=_.default),{isMobile:i,enableThemes:l,themeLayouts:c,freeTrialBannerDisplayed:r.getShowFreeTrialBanner(),themeId:n.getThemeIdOrDefault(),colorPackId:n.getCurrentOrDefaultColorPackId(),fontPackId:n.getCurrentOrDefaultFontPackId(),colorPackCategory:n.getColorPackCategory()}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){var t=["image/gif","image/jpeg","image/pjpeg","image/png","image/tiff","image/x-tiff","image/webp"];return t.indexOf(e)!==-1}Object.defineProperty(t,"__esModule",{value:!0});var l=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),c=n(1),d=r(c),f=n(569),p=r(f),h=n(75),m=r(h),g=n(8),_=r(g),y=n(2),b=n(45),v=r(b),E=n(6),T=n(3),O=r(T),P=n(16),w=r(P),I=n(390),S=r(I),C=n(35),x=r(C),k=n(21),D=r(k),A=n(174),M=r(A),N=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={previewCount:0,filesLoaded:0,previewData:[],invalidFileNames:[]},(0,v.default)(n),n}return i(t,e),s(t,[{key:"addPreviewsToStore",value:function(e,t,n){var r=this.state,o=r.previewData,a=r.filesLoaded,i=r.previewCount,u=r.invalidFileNames,l=o.concat([e]),s=n?u.concat([t]):u;a+1===i?this.initializeImageUpload(l):this.setState({previewData:l,filesLoaded:a+1,invalidFileNames:s})}},{key:"generateFileInformation",value:function(e){var t=m.default.v4(),n=this.props.basePath,r=this.ensureUniqueFilename(e.name),o=new p.default;return o.append("file",e,r),{data:o,filename:r,requestId:t,basePath:n}}},{key:"validateImageSize",value:function(e,t,n,r){var o=this,a=new Image;a.onload=function(){var e={height:a.height,width:a.width};o.addPreviewsToStore((0,y.assign)(t,{dimensions:e}),n,e.width<r)},a.src=e}},{key:"readImage",value:function(e){var t=this,n=this.props.minWidth;this.props.noPreview?this.context.executeAction(S.default,this.generateFileInformation(e)):!(function(){var r=new FileReader;r.onloadend=function(){var o=t.generateFileInformation(e),a={data:o.data,requestId:o.requestId,filename:o.filename,uri:r.result};t.validateImageSize(r.result,a,e.name,n)},r.readAsDataURL(e)})()}},{key:"handleChange",value:function(e){var t=e.target.files;if(t&&t.length&&!(t.length>10)){var n=(0,y.toArray)(t).reduce((function(e,t){return u(t.type)?e+1:e}),0);if(n<t.length)return void this.context.executeAction(x.default,{modal:d.default.createElement(M.default,null),forceModal:!0});this.setState({previewCount:n});var r=this;(0,y.toArray)(t).forEach((function(e){r.readImage(e)}))}}},{key:"ensureUniqueFilename",value:function(e){if(e=(e||"").replace(/[\\\/?#'"]/g,"_"),!this.props.uploadedImages.get(e))return e;var t=(new Date).valueOf().toString(32)+"_"+Math.floor(1e6*Math.random()),n=e.lastIndexOf(".");return n<0?e+"_"+t:e.substring(0,n)+"_"+t+"."+e.substring(n+1)}},{key:"initializeImageUpload",value:function(e){var t=this.context;e.forEach((function(e){return t.executeAction(S.default,e)})),this.resetState()}},{key:"resetState",value:function(){this.setState({previewData:[],filesLoaded:0,previewCount:0,invalidFileNames:[]})}},{key:"render",value:function(){var e=this.props,t=e.buttonLabel,n=e.trafficId,r=e.disabled,o=e.renderAsThumbnail,a=this.state.previewCount,i=this.context.getIntlString,u=d.default.createElement("input",{type:"file",className:"upload-image-input","data-aid":""+_.default.ADD_PHOTO,accept:"image/*",disabled:r||a,onChange:this.handleChange,multiple:!0});return o?d.default.createElement("div",{className:"flex flex--column flex--abs-center uxicon uxicon-larger uxicon-camera"},d.default.createElement("div",{className:"upload-image-helper-text"}," ",a?i("uploadingPhoto"):t," "),u):a?d.default.createElement("div",{className:"file-uploader"},d.default.createElement(D.default,{type:"default dark",className:"btn-sm"},t)):d.default.createElement("div",{className:"file-uploader btn btn-default btn-dark btn-sm","data-traffic2":n},d.default.createElement("span",null,t),u)}}]),t})(c.Component);N.contextTypes={executeAction:c.PropTypes.func.isRequired,getIntlString:c.PropTypes.func.isRequired},t.default=(0,E.subscribeToStores)(N,[O.default.REQUEST,O.default.DOCUMENT],(function(e){var t=l(e,2),n=t[0],r=t[1];return{uploadRequests:n.getRequestsByType(w.default.POST_DOCUMENTS),uploadedImages:r.getDocuments()}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=(r(l),(function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.libraries,n=e.onLoaded,r=e.srcUrl,o=e.libraryPromises,a=t.filter((function(e){return!(e in o)}));a.length&&!(function(){var e=new Promise(function(e){var t=window.document.createElement("script");t.onload=e,t.src=r,document.body.appendChild(t)});a.forEach((function(t){return o[t]=e}))})(),Promise.all(t.map((function(e){return o[e]}))).then(n)}},{key:"render",value:function(){return null}}]),t})(l.Component));t.default=s,e.exports=t.default},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),c=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),d=n(1),f=o(d),p=n(795),h=o(p),m=n(94),g=o(m),_=n(1009),y=o(_),b=n(1010),v=o(b),E=n(1008),T=o(E),O=n(143),P=o(O),w=n(2),I=n(6),S=n(3),C=o(S),x=n(7),k=o(x),D=(function(e){function t(e){i(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isPlacesAPILoaded:!1,isFocused:!1,isGeoLocating:!1,isPopulated:!!e.value},n.handlePlacesAPILoaded=n.handlePlacesAPILoaded.bind(n),n.handleGeoLocationStarted=n.handleGeoLocationStarted.bind(n),n.handleChange=n.handleChange.bind(n),n.handleChangeForInput=n.handleChangeForInput.bind(n),n.handleChangeForGeoSuggest=n.handleChangeForGeoSuggest.bind(n),n.handleGeoLocationSet=n.handleGeoLocationSet.bind(n),n.handleGeoLocationFinished=n.handleGeoLocationFinished.bind(n),n.handleSuggestionSelection=n.handleSuggestionSelection.bind(n),n.handleInitialSuggestion=n.handleInitialSuggestion.bind(n),n.handleFocus=n.handleFocus.bind(n),n.handleBlurForGeoSuggest=n.handleBlurForGeoSuggest.bind(n),n.handleBlurForInput=n.handleBlurForInput.bind(n),n.handleClose=n.handleClose.bind(n),n}return l(t,e),c(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({isPopulated:!!e.value})}},{key:"handlePlacesAPILoaded",value:function(){this.setState({isPlacesAPILoaded:!0})}},{key:"handleGeoLocationStarted",value:function(e){var t=this.props.onGeoLocationStarted;this.setState({isGeoLocating:!0}),t(e)}},{key:"handleChangeForGeoSuggest",value:function(e){this.handleChange(e)}},{key:"handleChangeForInput",value:function(e){this.handleChange(e.target.value,e)}},{key:"handleChange",value:function(e,t){var n={address:e,lat:"",lng:""};this.setState({isPopulated:!!n.address}),this.props.onChange(n,t)}},{key:"handleGeoLocationFinished",value:function(){this.setState({isGeoLocating:!1})}},{key:"handleInitialSuggestion",value:function(e){var t=this.updateLocation(e);this.props.onChange(t)}},{key:"handleSuggestionSelection",value:function(e){var t=this.updateLocation(e);(this.props.onSelect||this.props.onChange)(t)}},{key:"updateLocation",value:function(e,t){var n={address:t?e.currentAddress:e.label,lat:e.location&&String(e.location.lat)||"",lng:e.location&&String(e.location.lng)||""},r={isPopulated:!!n.address};return this.props.isModal&&(r.isFocused=!1),this.setState(r),n}},{key:"handleGeoLocationSet",value:function(e){this.setState({isPopulated:!!e.address}),(this.props.onGeoLocated||this.props.onChange)(e)}},{key:"handleFocus",value:function(){this.setState({isFocused:!0}),this.props.isModal&&(document.body.scrollTop=0)}},{key:"handleBlurForGeoSuggest",value:function(e){var t=this;r((function(){t.setState({isFocused:!1})}));var n=this.updateLocation(e,!0);this.props.onBlur(n),this.props.onChange(n)}},{key:"handleBlurForInput",value:function(e){if(e&&e.target){var t={address:e.target.value,lat:"",lng:""};this.props.onBlur(t)}}},{key:"handleClose",value:function(){
this.setState({isFocused:!1})}},{key:"getErrors",value:function(){var e=this.props,t=e.errors,n=e.maxCount,r=e.value;return n&&r&&r.length>n&&!t.find((function(e){return"characterLimitExceeded"===e}))?t.concat(["characterLimitExceeded"]):t.filter((function(e){return"characterLimitExceeded"!==e}))}},{key:"render",value:function(){var e,t=this.props,n=this.state,r=t.id,o=t.automationId,i=t.dataRoute,u=t.label,l=t.isModal,s=t.autoFocus,c=t.value,p=t.validate,m=t.children,_=t.geoSuggestProvider,b=t.labelClassNames,E=t.maxCount,O=n.isPlacesAPILoaded,w=n.isFocused,I=n.isPopulated,S=n.isGeoLocating,C=I?"":"empty",x=w?"focused":"",D=p&&p(c),A=.2,M=this.getErrors(),N=0!==M.length,R=(0,k.default)({"text-input":!0,"ux-form-control":!0,"text-input-invalid":M.length});return f.default.createElement("div",{className:"location-input "+x+" "+C,"data-aid":o},"google"===_?f.default.createElement(y.default,{libraries:["places"],onLoaded:this.handlePlacesAPILoaded}):f.default.createElement(v.default,{libraries:["mapbox"],onLoaded:this.handlePlacesAPILoaded}),f.default.createElement(g.default,{label:u,isValid:D,inputId:r,maxCount:E,count:c.length,errors:M,isInvalid:N,isFocused:w,className:(b||"")+" "+x+" "+C},(0,d.createElement)(O?h.default:"input",(e={id:r,key:"geo-suggest",type:"text",geoLocating:this.state.isGeoLocating,automationId:o,"data-route":i},a(e,O?"initialValue":"value",c),a(e,"className","ux-form-control"),a(e,"inputClassName",R),a(e,"autoFocus",s),a(e,"provider",_),a(e,"onChange",this["handleChangeFor"+(O?"GeoSuggest":"Input")]),a(e,"onFocus",this.handleFocus),a(e,"onBlur",this["handleBlurFor"+(O?"GeoSuggest":"Input")]),a(e,"onSuggestSelect",this.handleSuggestionSelection),a(e,"onInitialSuggestion",this.props.getSuggestionOnMount?this.handleInitialSuggestion:null),e)),m,O&&f.default.createElement(T.default,{key:"geo-locator",onGeoLocationStarted:this.handleGeoLocationStarted,onLocation:this.handleGeoLocationSet,onGeoLocationFinished:this.handleGeoLocationFinished}),l&&w&&f.default.createElement("button",{className:"close-btn glyphicon glyphicon-remove",onClick:this.handleClose}),S&&f.default.createElement(P.default,{lineThickness:A})))}}]),t})(d.Component);D.contextTypes={getIntlString:d.PropTypes.func.isRequired},D.defaultProps={value:"",isModal:!1,autoFocus:!1,errors:[],onBlur:w.noop,onChange:w.noop,onGeoLocationStarted:w.noop,onSelect:null},t.default=(0,I.subscribeToStores)(D,[C.default.CONFIG],(function(e){var t=s(e,1),n=t[0];return{geoSuggestProvider:n.getGeoSuggestProvider()}})),e.exports=t.default}).call(t,n(49).setImmediate)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(5),f=r(d),p=(n(4),n(10)),h=r(p),m=n(113),g=r(m),_=n(64),y=r(_),b=n(15),v=b.constants.widgetTypes,E=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=f.default.shouldComponentUpdate.bind(n),n}return i(t,e),l(t,[{key:"renderHeader",value:function(){var e=this.context.getIntlString,t=this.props,n=t.route,r=t.fieldSet,o=t.widgetType;switch(n){case h.default.EDIT_WIDGET_PROP_MY_PHOTOS:case h.default.EDIT_WIDGET_MY_PHOTOS:var a=o===v.HEADER?e("myLibraryPickerHeader"):"";return c.default.createElement(y.default,{title:"myPhotos",description:a});case h.default.EDIT_WIDGET_STOCK_PHOTOS:case h.default.EDIT_WIDGET_PROP_STOCK_PHOTOS:var i=e(o===v.HEADER?"stockPhotoPickerHeader":"addStockPhoto");return c.default.createElement(y.default,{title:"stockPhotos",description:i});case h.default.EDIT_WIDGET_EDIT_BG:case h.default.EDIT_WIDGET_PROP_EDIT_BG:return c.default.createElement(y.default,{title:"imageEditTitle",description:e("backgroundAnchorDescription")});case h.default.EDIT_WIDGET_PROP:case h.default.EDIT_WIDGET_EDIT_IMG:case h.default.EDIT_WIDGET_PROP_EDIT_IMG:return null;default:return c.default.createElement(y.default,{title:r.get("header"),description:r.get("description")})}}},{key:"render",value:function(){var e=this.props.fieldSet,t=e.get("fields"),n=e.get("name");return c.default.createElement("div",{className:"field-set-preview-container"},c.default.createElement("div",{className:"fieldset-edit-view"},this.renderHeader(),t&&n&&c.default.createElement(g.default,u({},this.props,{fields:t,fieldSetName:n}))))}}]),t})(s.Component);E.contextTypes={getIntlString:s.PropTypes.func.isRequired},t.default=E,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(7),p=r(f),h=n(1011),m=r(h),g=n(8),_=r(g),y=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.scale,n=e.minScale,r=e.maxScale,o=e.handleZoom,a=e.disabled,i=(r-n)/100,u=(0,p.default)("image-editor-zoom",{disabled:a});return s.default.createElement("div",{className:u},s.default.createElement("span",{className:"uxicon uxicon-large uxicon-img"}),s.default.createElement(m.default,{"data-aid":_.default.IMAGE_SLIDER,min:n,max:r,step:i,value:t,onChange:o,disabled:a}),s.default.createElement("span",{className:"uxicon uxicon-larger uxicon-img"}))}}]),t})(l.Component);t.default=y,e.exports=t.default},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(4),c=n(1),d=o(c),f=n(7),p=o(f),h=n(45),m=o(h),g=n(2),_=n(409),y=o(_),b=n(8),v=o(b),E=n(9),T=o(E),O=n(247),P=o(O),w=n(21),I=o(w),S=n(442),C=o(S),x=n(35),k=o(x),D=n(174),A=o(D),M=0,N=(function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={selectorWidth:null,selectorHeight:null,minImagesToDisplay:null,mountingStartIndex:null,maxVerticalFit:null,maxHorizontalFit:null,selectedImages:e.defaultValue?[].concat(e.defaultValue):[],displayWarningMessage:!1},(0,m.default)(n),n}return u(t,e),l(t,[{key:"_addEventListeners",value:function(){this.props.lazyLoad&&(this._selectorContainer.addEventListener("scroll",this._handleScroll),window.addEventListener("resize",this._handleSizing))}},{key:"_removeEventListeners",value:function(){this.props.lazyLoad&&(this._selectorContainer.removeEventListener("scroll",this._handleScroll),window.removeEventListener("resize",this._handleSizing))}},{key:"_handleSizing",value:function(){this.props.lazyLoad&&this.setState(this._initLazyLoadState())}},{key:"_initLazyLoadState",value:function(){var e=this.getThumbnailDimensions(),t=e.width,n=e.height,r=this._selectorContainer.getBoundingClientRect(),o=r.height,a=r.width,i=Math.floor(a/t),u=Math.floor(o/n),l=null;return l=u<=1?i+2:u*i+i,{minImagesToDisplay:l,maxVerticalFit:u,maxHorizontalFit:i,selectorHeight:o,selectorWidth:a}}},{key:"_handleScroll",value:function(){var e=this._selectorContainer,t=this.getThumbnailDimensions(),n=t.width,r=t.height,o=this.state.maxHorizontalFit,a=e.scrollTop,i=e.scrollLeft,u=0;if(0===i){var l=Math.floor(a/r);u=l*o}else u=Math.floor(i/n);this.setState({mountingStartIndex:u})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.loadImagesAction;t&&r((function(){e.context.executeAction(t)})),this._addEventListeners(),this._handleSizing(),this.getMaxRowLength(this.widthForItem(this._selectorContainer),this.getThumbnailDimensions().width)}},{key:"componentWillUnmount",value:function(){this._removeEventListeners()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.defaultValue,r=t.recentlyAdded,o=t.selectOnUpload,a=t.currentlyUploading;o&&e.recentlyAdded&&e.recentlyAdded!==r&&!a&&this.props.handleChange(e.recentlyAdded,!1),(0,g.isEqual)(e.defaultValue,n)||this.setState({selectedImages:e.defaultValue?[].concat(e.defaultValue):[]})}},{key:"scrollTo",value:function(e,t,n){var r=this;if(!(n<=0)){var o=t-e.scrollLeft,a=o/n*10;setTimeout((function(){e.scrollLeft=e.scrollLeft+a,e.scrollLeft!==t&&r.scrollTo(e,t,n-10)}),10)}}},{key:"centerSelectedImage",value:function(e){var t=this._selectorContainer,n=t.offsetLeft,r=t.clientWidth/2,o=e.offsetLeft-n-r+e.clientWidth/2;this.scrollTo(t,o,200)}},{key:"mockImageDimensions",value:function(e){var t=this,n=new Image;n.onload=function(){t.validateSelectedImage({imageUrl:e,dimensions:{height:n.height,width:n.width}})},n.src=e}},{key:"displayInvalidSelectionModal",value:function(e,t){this.context.executeAction(k.default,{modal:d.default.createElement(A.default,{modalTitle:"selectNewImage",modalDescription:"selectNewImageWidth",widthContext:{minWidth:e},invalidDimensions:[" ("+t+" px)"]}),forceModal:!0})}},{key:"validateSelectedImage",value:function(e){var t=e.imageUrl,n=e.dimensions,r=this.props.minWidth;return!n&&r?this.mockImageDimensions(t):void this.setState({displayWarningMessage:t&&n&&n.width<r})}},{key:"selectImage",value:function(e,t){var n=e.imageUrl,r=e.dimensions,o=this.state.selectedImages,a=this.props,i=a.multiselect,u=a.maxSelectable;if(i)if(""===n)o=[];else{var l=o.indexOf(n);l>-1?o=o.slice(0,l).concat(o.slice(l+1)):o.length<u&&(o=o.concat(n))}else o=""===n?[]:[n],this.props.handleChange(n,t);this.setState({selectedImages:o,displayWarningMessage:!1}),this.centerSelectedImage(t.target.parentElement),this.validateSelectedImage({imageUrl:n,dimensions:r}),this.getMaxRowLength(this.widthForItem(this._selectorContainer),this.getThumbnailDimensions().width)}},{key:"addToGallery",value:function(e){this.props.handleChange(this.state.selectedImages,e)}},{key:"cancel",value:function(e){this.props.handleChange([],e)}},{key:"renderButtonBar",value:function(){var e=this.props.multiselect,t=this.context.getIntlString,n=(0,p.default)("bottom-bar",{hidden:!this.state.selectedImages.length});return e?d.default.createElement("div",{className:n},d.default.createElement(I.default,{className:"btn-sm","data-aid":v.default.ADD_TO_GALLERY,onClick:this.addToGallery},t("galleryMutatorAddButton")),d.default.createElement(I.default,{type:"link dark",className:"btn-sm",onClick:this.cancel},t("cancel"))):null}},{key:"getMaxRowLength",value:function(e,t){M=Math.floor(e/t)}},{key:"widthForItem",value:function(e){return.85*parseInt(window.getComputedStyle(e).width,10)}},{key:"getThumbnailDimensions",value:function(){var e=this.props.thumbnailSize,t="number"==typeof e;return{width:t?e:e.width,height:t?e:e.height}}},{key:"getThumbnail",value:function(e){var t=e.url,n=e.uri,r=e.width,o=e.height,a=e.progress,i=t+("/:/rs=w:"+r+",h:"+o+",m"),u="url('"+i+"')",l=n&&a<30?"0.3":a/100,s=n?d.default.createElement(C.default,{completed:a,height:.1*o}):null,c=t&&!n?d.default.createElement("div",{className:"image-selector-item",style:{backgroundImage:u}}):d.default.createElement("div",null,d.default.createElement("img",{className:"image-selector-item",src:n,style:{opacity:l,height:o,width:r}}),s);return c}},{key:"renderThumbnailList",value:function(){var e=this,t=this.selectImage,n=this.props,r=n.defaultValue,o=n.showNoneSelector,a=n.sortBylastModified,i=n.stockImages,u=n.uploadedImages,l=n.excludes,s=n.showUploader,c=this.context.getIntlString,f=this.getThumbnailDimensions(),p=f.width,h=f.height,m="image-selector-item-container",g=m+" active-selector-item",_=u.toList().concat(i).toJS().map((function(e){return"string"==typeof e?{url:e,lastModified:Date.now()}:e})).filter((function(e){return l.indexOf(e.url)===-1}));a&&(_=_.sort((function(e,t){return new Date(t.lastModified)-new Date(e.lastModified)})));var y=s?_.length+1:_.length,b=Math.ceil(y/M)*M-y||0,E=Array(b).fill({mock:!0}),T=_.concat(E).map((function(n,r){var o=n.url,a=n.uri,i=n.progress,u=void 0===i?0:i,l=n.dimensions,s=n.mock;return d.default.createElement("li",{className:e.state.selectedImages.indexOf(o)>-1?g:m,key:r,onClick:!s&&(a&&o||!a)?t.bind(null,{imageUrl:o,dimensions:l}):null,style:{height:h,width:p}},e.getThumbnail({url:o,uri:a,width:p,height:h,progress:u}))}));if(o&&T.unshift(d.default.createElement("li",{className:""===r?g:m,key:"none",onClick:t.bind(null,{imageUrl:""})},d.default.createElement("div",{className:"image-selector-item-none","data-aid":""+v.default.NONE_IMAGE_SELECTED},c("none")))),s&&T.unshift(d.default.createElement("li",{className:"flex flex--column flex--abs-center image-selector-item-container upload-image",key:"upload"},this.renderUploader())),this.props.lazyLoad){var O=this.state,P=O.minImagesToDisplay,w=O.mountingStartIndex;return T.slice(0,w+P)}return T}},{key:"renderUploader",value:function(){var e=this.props,t=e.showUploader,n=e.minWidth,r=this.context.getIntlString;return t?d.default.createElement(y.default,{renderAsThumbnail:!0,buttonLabel:r("addImage"),minWidth:n,trafficId:T.default.edit_widget_background.add_photo_button}):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.selectorHeight,r=t.selectorWidth,o=t.multiselect,a=t.maxSelectable,i=t.minWidth,u=this.state,l=u.selectedImages,s=u.displayWarningMessage,c=this.context.getIntlString,f={};n&&(f.height=n),r&&(f.width=r);var p=l.length,h=void 0;o&&(h=p===a?d.default.createElement("span",{className:"image-selector-max-selected"},c("selectedMaxCountReached")):d.default.createElement("span",null,c("selectedCount",{selectedCount:p})));var m=s?d.default.createElement("div",{className:"message-container"},d.default.createElement("div",{className:"warning-message"},c("imageSelectionWarning",{context:i}))):d.default.createElement("div",{className:"message-container"},d.default.createElement("div",{className:"recommendation-message"},c("imageSelectionRule",{context:i})));return d.default.createElement("div",null,i?m:null,d.default.createElement("div",{className:"image-selector-container",ref:function(t){return e._selectorContainer=t},style:f},d.default.createElement("div",{className:"flex flex--column flex--abs-center",style:{margin:"10px 20px"}},d.default.createElement("div",null,h)),d.default.createElement("ul",{className:"flex flex--wrap flex--abs-center"},this.renderThumbnailList()),this.renderButtonBar()))}}]),t})(c.Component);N.defaultProps={showUploader:!0,showNoneSelector:!0,selectOnUpload:!0,sortBylastModified:!0,stockImages:new s.List,uploadedImages:new s.Map,thumbnailSize:P.default.IMAGE_SELECTOR_THUMBNAIL_SIZE,multiselect:!1,maxSelectable:1,excludes:[],currentlyUploading:0},N.contextTypes={executeAction:c.PropTypes.func.isRequired,getIntlString:c.PropTypes.func.isRequired},t.default=N,e.exports=t.default}).call(t,n(49).setImmediate)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=(n(4),n(2)),c=n(1),d=r(c),f=n(414),p=r(f),h=n(401),m=r(h),g=n(143),_=r(g),y="100%",b=(function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"componentWillUnmount",value:function(){var e=this.props,t=e.defaultValue,n=e.stockPhotos;n.includes(t)&&this.context.executeAction(m.default,{stockImages:[t]})}},{key:"render",value:function(){var e=this.props,n=e.stockPhotos,r=e.defaultValue,o=e.isMobile,a=e.imageLimit;if(!n)return d.default.createElement(_.default,{style:{padding:"150px 0"}});var i=(0,s.omit)(this.props,Object.keys(t.propTypes||{}));return d.default.createElement(p.default,u({},i,{defaultValue:r,stockImages:n.slice(0,a),sortBylastModified:!1,thumbnailSize:{width:130,height:80},selectorHeight:!o&&y}))}}]),t})(c.Component);b.defaultProps={imageLimit:45},b.contextTypes={executeAction:c.PropTypes.func.isRequired},t.default=b,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=n(414),i=r(a),u=n(3),l=r(u),s=n(6);t.default=(0,s.subscribeToStores)(i.default,[l.default.DOCUMENT,l.default.WEBSITE],(function(e){var t=o(e,2),n=t[0],r=t[1];return{stockImages:r.getStockImages(),uploadedImages:n.getDocuments(),recentlyAdded:n.recentlyAdded(),currentlyUploading:n.getPendingUploadCount()}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),c=n(1),d=r(c),f=n(4),p=n(15),h=n(1023),m=r(h),g=n(416),_=r(g),y=n(415),b=r(y),v=n(10),E=r(v),T=n(38),O=r(T),P=n(43),w=r(P),I=n(3),S=r(I),C=n(39),x=r(C),k=n(389),D=r(k),A=n(6),M=p.constants.editors,N=1.8,R=(function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleImageSelected=e.handleImageSelected.bind(e),e.handleRemove=e.handleRemove.bind(e),e}return i(t,e),s(t,[{key:"renderImageMutator",value:function(){var e=this.context.getIntlString,t=this.props,n=t.stockPhotos,r=t.showRemove,o=t.defaultValue,a=t.type,i=t.showMyLibraryPivot,u=t.showStockPhotosPivot,s=a===M.BACKGROUND,c=null;if(n.size>0&&u){var p=new f.Map({isFromUrl:!0,value:n.get(0)});c=d.default.createElement(O.default,{route:this.stockPhotosRoute,isEditField:!1,id:"STOCK_PHOTOS_PIVOT",title:e("stockPhotos"),icon:p,className:"stock-photo-btn"})}var h=null;if(i){var g=void 0;o&&(g=new f.Map({isFromUrl:!0,value:o})),h=d.default.createElement(O.default,{route:this.myLibraryRoute,isEditField:!1,id:"MY_LIBRARY_PIVOT",title:e("myPhotos"),icon:g,className:"my-library-btn"})}var _=void 0;(h||c)&&(_=s?d.default.createElement(w.default,null,c,h):d.default.createElement(w.default,null,h,c));var y=this.props.aspectRatio,b=this.props.editedAspectRatio;return!y&&s&&(y=N,b=""+(b||N)),d.default.createElement("div",{className:"image-mutator-container"},d.default.createElement(m.default,l({},this.props,{handleRemoveImage:r?this.handleRemove:null,aspectRatio:y,enableFocalSelector:s,editedAspectRatio:b,top:this.props.top,left:this.props.left,position:this.props.position,rotation:this.props.rotation,width:this.props.width,height:this.props.height})),_)}},{key:"handleRemove",value:function(){this.handleImageSelected("")}},{key:"handleImageSelected",value:function(e){var t=this.props.handleChange;t({value:e,top:"",left:"",rotation:"",width:"",height:"",editedAspectRatio:"",position:""})}},{key:"renderStockPhotos",value:function(){return d.default.createElement(b.default,l({},this.props,{handleChange:this.handleImageSelected,showNoneSelector:!1,showUploader:!1,lazyLoad:!1}))}},{key:"renderMyLibrary",value:function(){return d.default.createElement(_.default,l({},this.props,{handleChange:this.handleImageSelected,showNoneSelector:!1,loadImagesAction:D.default,lazyLoad:!1}))}},{key:"isStockPhotosRoute",value:function(){var e=this.props,t=e.route,n=e.routeParams,r=e.stockPhotosPath;return t===E.default.EDIT_WIDGET_MUTATOR?r&&n.mutatorPath===r.join("/"):t===E.default.EDIT_WIDGET_PROP_STOCK_PHOTOS||t===E.default.EDIT_WIDGET_STOCK_PHOTOS}},{key:"isMyLibraryRoute",value:function(){var e=this.props,t=e.route,n=e.routeParams,r=e.myLibraryPath;return t===E.default.EDIT_WIDGET_MUTATOR?r&&n.mutatorPath===r.join("/"):t===E.default.EDIT_WIDGET_PROP_MY_PHOTOS||t===E.default.EDIT_WIDGET_MY_PHOTOS}},{key:"render",value:function(){var e=this.props,t=e.fieldSetName,n=e.defaultValue,r=e.route,o=e.property,a=e.label,i=e.type,u=r===E.default.EDIT_WIDGET_PROPS;if(u&&i===M.IMAGE){var l={name:E.default.EDIT_WIDGET_PROP,params:{fieldSetName:t,prop:o}},s=void 0;return n&&(s=new f.Map({isFromUrl:!0,value:n})),d.default.createElement(w.default,null,d.default.createElement(O.default,{route:l,id:""+o.toUpperCase(),title:a,icon:s}))}return this.isStockPhotosRoute()?this.renderStockPhotos():this.isMyLibraryRoute()?this.renderMyLibrary():this.renderImageMutator()}},{key:"myLibraryRoute",get:function(){var e=this.props,t=e.route,n=e.myLibraryPath,r=e.fieldSetName,o=e.property;if(n)return{name:E.default.EDIT_WIDGET_MUTATOR,params:{mutatorPath:n}};var a=t===E.default.EDIT_WIDGET_PROP?E.default.EDIT_WIDGET_PROP_MY_PHOTOS:E.default.EDIT_WIDGET_MY_PHOTOS;return{name:a,params:{fieldSetName:r,prop:o}}}},{key:"stockPhotosRoute",get:function(){var e=this.props,t=e.route,n=e.stockPhotosPath,r=e.fieldSetName,o=e.property;if(n)return{name:E.default.EDIT_WIDGET_MUTATOR,params:{mutatorPath:n}};var a=t===E.default.EDIT_WIDGET_PROP?E.default.EDIT_WIDGET_PROP_STOCK_PHOTOS:E.default.EDIT_WIDGET_STOCK_PHOTOS;return{name:a,params:{fieldSetName:r,prop:o}}}}]),t})(c.Component);R.defaultProps={showRemove:!0,type:M.IMAGE,showMyLibraryPivot:!0,showStockPhotosPivot:!0},R.contextTypes={getIntlString:c.PropTypes.func.isRequired},t.default=(0,A.subscribeToStores)(R,[S.default.APP,x.default.GET_STOCK_PHOTOS],(function(e){var t=u(e,2),n=t[0],r=t[1];return{stockPhotos:r,isMobile:n.isMobile()}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=n(1025),i=r(a),u=n(3),l=r(u),s=n(6);t.default=(0,s.subscribeToStores)(i.default,[l.default.WEBSITE],(function(e){var t=o(e,1),n=t[0];return{logo:n.getLogo()}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(2),d=n(8),f=r(d),p=n(48),h=r(p),m=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onChange=n.onChange.bind(n),n.onBlur=n.onBlur.bind(n);var r=e.property;return r&&(r=r.substr(r.lastIndexOf(".")+1),n.dataAid=f.default.TEXTAREA_INPUT+"_"+r.toUpperCase()),n}return i(t,e),u(t,[{key:"onChange",value:function(e,t){var n=this.props.handleChange;return n(e,t)}},{key:"onBlur",value:function(e,t){var n=this.props.handleBlur;return n(e,t)}},{key:"render",value:function(){var e=this.props,t=e.label,n=e.property,r=e.maxCount,o=e.labelClassNames,a=e.defaultValue,i=e.fieldType,u=e.disabled,l=e.className,c=e.minHeight,d=e.editingId;return s.default.createElement(h.default,{fieldType:i,id:n,automationId:this.dataAid,label:t,maxCount:r,labelClassNames:o,value:a,placeholder:"",isRequired:!1,onChange:this.onChange,onBlur:this.onBlur,disabled:u,className:l,minHeight:c,editingId:d})}}]),t})(l.Component);m.defaultProps={handleChange:c.noop,handleBlur:c.noop,fieldType:"textarea",minHeight:140},t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(8),p=r(f),h=n(94),m=r(h),g=n(234),_=r(g),y=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n.onChange=n.onChange.bind(n);var r=e.property.substring(e.property.lastIndexOf(".")+1).toUpperCase();return n.dataAidPrefix=p.default.RADIO_FORM+"_"+r,n.renderCheckmarkRadio=n.renderCheckmarkRadio.bind(n),n.renderSimpleRadio=n.renderSimpleRadio.bind(n),n}return i(t,e),u(t,[{key:"onChange",value:function(e){var t=this.props.handleChange;if(t)return t(e.target.value)}},{key:"renderCheckmarkRadio",value:function(e,t){var n=this.props,r=n.optionLabels,o=n.className,a=n.property,i=n.defaultValue,u=n.label,l=n.trafficId,c=n.dataRoute,d="radio "+o,f=r&&r.length>t?r[t].label||r[t]:e,p=(this.dataAidPrefix+"_"+e).replace(/\./g,"_");return s.default.createElement("div",{key:e,className:d},s.default.createElement("input",{className:"radio-check",type:"radio",value:e,name:a,defaultChecked:e===i,onChange:this.onChange,id:p,"data-aid":p,"data-traffic2":l,"data-route":c}),s.default.createElement("label",{htmlFor:p,title:u,className:"radio-check-label"},s.default.createElement("div",{className:"radio-check-label-inner text-ellipsis"},f),s.default.createElement("span",{className:"uxicon uxicon-larger uxicon-ok"})))}},{key:"renderSimpleRadio",value:function(e,t){var n=this.props,r=n.optionLabels,o=n.property,a=n.defaultValue,i=n.trafficId,u=r&&r.length>t?r[t].label||r[t]:e,l=(this.dataAidPrefix+"_"+e).replace(/\./g,"_");return s.default.createElement(_.default,{name:o,value:e,defaultChecked:e===a,onChange:this.onChange,id:l,dataAid:l,trafficId:i},u)}},{key:"render",value:function(){var e=this.props,t=e.options,n=e.property,r=e.label,o=e.labelClassNames,a=e.showCheckmark,i=a?this.renderCheckmarkRadio:this.renderSimpleRadio;return s.default.createElement(m.default,{label:r,inputId:n,labelClassNames:o,isValid:!0,isRequired:!1},s.default.createElement("div",{className:"radio-group"},t.map(i)))}}]),t})(l.Component);t.default=y,y.defaultProps={className:"",showCheckmark:!1},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{
value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(15),u=n(1020),l=r(u),s=n(419),c=r(s),d=n(1026),f=r(d),p=n(140),h=r(p),m=n(417),g=r(m),_=n(420),y=r(_),b=n(1019),v=r(b),E=n(1022),T=r(E),O=n(236),P=r(O),w=n(1016),I=r(w),S=n(237),C=r(S),x=n(1027),k=r(x),D=n(1021),A=r(D),M=n(418),N=r(M),R=i.constants.editors;t.default=(a={},o(a,R.TEXT,l.default),o(a,R.RICHTEXT,l.default),o(a,R.MULTILINE,c.default),o(a,R.RICHMULTILINE,f.default),o(a,R.TOGGLE,h.default),o(a,R.IMAGE,g.default),o(a,R.RADIO,y.default),o(a,R.ADDRESS,v.default),o(a,R.EMAIL,k.default),o(a,R.VALIDATE,k.default),o(a,R.LINKBUTTON,P.default),o(a,R.EXTERNALLINKBUTTON,I.default),o(a,R.EXTERNALLINKBTN,I.default),o(a,R.FORMCOMPOSER,T.default),o(a,R.SOCIALEDITOR,C.default),o(a,R.BACKGROUND,g.default),o(a,R.DROPDOWN,A.default),o(a,R.LOGOCOMPOSER,N.default),a),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=(n(4),n(8)),d=r(c),f=n(48),p=r(f),h=n(141),m=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.dataAid=d.default.TEXTAREA_INPUT+"_"+n.props.dataRoute.replace(/\//g,"_").toUpperCase(),n}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.dataRoute,n=e.field,r=e.disabled,o=e.className,a=e.labelClassNames,i=e.minHeight,u=e.fieldType,l=e.editingId,c=e.onChange,d=e.onBlur;return s.default.createElement(p.default,{automationId:this.dataAid,fieldType:u,editingId:l,dataRoute:t,maxCount:n.getIn(["mutatorSettings","maxCount"]),id:t,label:n.get("fieldTitle"),description:n.get("fieldSubtitle"),labelClassNames:a||(0,h.getLabelClassNames)({disabled:r}),className:o||(0,h.getClassNames)({disabled:r}),value:n.get("state"),placeholder:n.get("fieldPlaceholder"),isRequired:!1,onChange:c,onBlur:d,disabled:r,minHeight:i})}}]),t})(l.Component);m.defaultProps={fieldType:"textarea",onChange:function(){},onBlur:function(){},minHeight:140,disabled:!1},t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(4),d=n(43),f=r(d),p=n(38),h=r(p),m=n(85),g=r(m),_=n(142),y=r(_),b=n(1049),v=r(b),E=n(1048),T=r(E),O=n(94),P=r(O),w="FILE",I=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getAddComponent=n.getAddComponent.bind(n),n}return i(t,e),u(t,[{key:"componentWillMount",value:function(){n(1365)}},{key:"getRTEText",value:function(e){try{return JSON.parse(e).blocks[0].text}catch(t){return e}}},{key:"getAddComponent",value:function(e,t,n){var r=this.props,o=r.field,a=r.onAddItemClick,i=r.editingId,u=o.get("mutatorSettings");return u&&u.get("itemType")===w?s.default.createElement(T.default,{onChange:a,disabled:e,label:o.get("addItemLabel"),widgetId:i,widgetPropName:o.get("dataPath").first(),maxFileCount:t,currentFileCount:n}):s.default.createElement(v.default,{field:o,onAddItemClick:a,disabled:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.field,r=t.progress,o=t.progressError,a=(0,g.default)(n),i=a.contents,u=a.mutatorSettings,l=u.get("maxCount"),d=l&&i.size>=l,p=l?i.slice(0,l):i,m=!(u.get("itemType")===w);return s.default.createElement("div",{className:"ux-editor"},s.default.createElement("div",{className:"flex flex--space-between flex--center pivot-array-header"},s.default.createElement(P.default,{label:n.get("fieldTitle"),maxCount:l,count:p.size,forceCount:!0,showMaxCount:!0,className:"pivot-array-title"}),this.getAddComponent(d,l,p.size)),p.size?s.default.createElement(f.default,null,p.map((function(t,n){var a=t.get("previewData",new c.Map),i=a.get("text",""),u=e.getRTEText(a.get("subtext","")),l=a.get("image"),d=void 0;return r&&(d=r[n],u=""),s.default.createElement(y.default,{mutatorRoute:t.get("route"),key:n},s.default.createElement(h.default,{title:i,description:u,id:n+"",icon:l,progress:d,progressError:o,capitalize:m}))}))):null)}}]),t})(l.Component);t.default=I,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(15),u=n(1045),l=r(u),s=n(422),c=r(s),d=n(1043),f=r(d),p=n(1046),h=r(p),m=n(1037),g=r(m),_=n(1038),y=r(_),b=n(1042),v=r(b),E=n(1031),T=r(E),O=n(1047),P=r(O),w=n(1036),I=r(w),S=n(418),C=r(S),x=n(236),k=r(x),D=n(237),A=r(D),M=n(1040),N=r(M),R=n(1039),j=r(R),L=n(1044),U=r(L),G=n(1034),B=r(G),W=n(1028),F=r(W),H=n(1032),V=r(H),q=n(1035),Y=r(q),z=i.constants.editors;t.default=(a={},o(a,z.TEXT,l.default),o(a,z.ADDRESS,T.default),o(a,z.VIDEOURL,P.default),o(a,z.BACKGROUND,g.default),o(a,z.FORMCOMPOSER,I.default),o(a,z.IMAGE,g.default),o(a,z.IMAGEARRAY,y.default),o(a,z.IMAGEPICK,j.default),o(a,z.STOCKPICK,U.default),o(a,z.LINKBUTTON,k.default),o(a,z.LOGOCOMPOSER,C.default),o(a,z.MULTILINE,c.default),o(a,z.RICHMULTILINE,f.default),o(a,z.PIVOTARRAY,N.default),o(a,z.RADIO,v.default),o(a,z.SOCIALEDITOR,A.default),o(a,z.TOGGLE,h.default),o(a,z.DROPDOWN,B.default),o(a,z.EXTERNALLINKBUTTON,F.default),o(a,z.CTABUTTONCOMPOSER,V.default),o(a,z.EXTERNALLINKDROPDOWN,Y.default),a),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=(n(4),n(5)),d=r(c),f=n(60),p=r(f),h=n(142),m=r(h),g=n(10),_=r(g),y=n(8),b=r(y),v=n(78),E=r(v),T=n(77),O=r(T),P=n(71),w=r(P),I=n(93),S=r(I),C=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.widget,n=e.title;return s.default.createElement(O.default,{className:"field-set-header"},s.default.createElement("div",{className:"field-set-header-back-button flex flex--center"},this.renderBackLink()),n?s.default.createElement(E.default,{title:n,bypassI18N:!0}):s.default.createElement(E.default,{title:t?t.get("type"):""}),s.default.createElement(w.default,{route:_.default.EDIT}))}},{key:"renderBackLink",value:function(){var e=this.props.parentRoute,t=s.default.createElement(S.default,{size:"medium",icon:"arrow",className:"back-arrow-icon",dataAid:b.default.EDITOR_HEADER_BACK_BUTTON});return e?s.default.createElement(m.default,{mutatorRoute:e},t):s.default.createElement(p.default,{routeName:_.default.EDIT,activeClass:"",preserveScrollPosition:!0},t)}}]),t})(l.Component);t.default=C,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(4),p=n(172),h=r(p),m=n(79),g=r(m),_=n(35),y=r(_),b=n(115),v=r(b),E=n(241),T=r(E),O=n(1096),P=r(O),w=n(243),I=r(w),S=n(21),C=r(S),x=n(9),k=r(x),D=n(8),A=r(D),M=n(10),N=r(M),R=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n.handleItemDelete=n.handleItemDelete.bind(n),n}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.depth,n=e.pageData,r=e.widget,o=e.isDeletable,a=e.editingId,i=e.isMobile,u=e.dataPath;if(0===t&&o&&!i)return s.default.createElement(v.default,{className:"ux-form-group labeled-input"},s.default.createElement(T.default,{buttonType:"button",widgetId:a,modalComponent:I.default}));var l=n.get("deleteItemSettings")||new f.Map,c=n.get("deleteItemLabel"),d=c||l&&l.get("buttonLabel");if(!d)return null;if(t>0){var p=l&&l.get("modalTitle"),h=l&&l.get("modalText"),m=this.handleItemDelete.bind(this,{widget:r,pageData:n,dataPath:u,title:p,description:h});return s.default.createElement("div",{className:"bottom-bar"},s.default.createElement(C.default,{"data-aid":A.default.WIDGET_REMOVE_ITEM_BUTTON,className:"btn-sm","data-traffic2":k.default.edit_widget.delete_pivot_button,onClick:m,type:"danger dark"},d))}return null}},{key:"handleItemDelete",value:function(e,t){var n=e.widget,r=e.dataPath,o=e.title,a=e.description,i=e.pageData,u=this.context,l=u.executeAction,c=u.getIntlString;if(o||a){var d=s.default.createElement(P.default,{widget:n,dataPath:r,pageData:i,title:o||c("defaultDeleteModalTitle"),description:a||c("defaultDeleteModalText")});l(y.default,{modal:d,forceModal:!0})}else{var p=i.get("parentRoute",new f.List).toJS(),m={routeName:N.default.EDIT_WIDGET_MUTATOR,params:{mutatorPath:p}};(0,h.default)(this.context,g.default.REMOVE,{widget:n,dataPath:r,navigateParams:m,domEvent:t,overwrite:!0})}}}]),t})(l.Component);R.contextTypes={executeAction:l.PropTypes.func,getStore:l.PropTypes.func,getIntlString:l.PropTypes.func},t.default=R,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=(n(4),n(59)),p=r(f),h=n(425),m=r(h),g=n(426),_=r(g),y=n(85),b=r(y),v=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n}return i(t,e),u(t,[{key:"render",value:function(){var e=(0,b.default)(this.props.defaultProps),t=e.parentRoute,n=e.depth,r=e.mutatorDescriptor,o=e.widget,a=e.isMobile,i=e.editingId,u=e.isDeletable,l=e.dataPath,c=this.props,d=c.pageTitle,f=c.backButtonClickHandler,h=c.children;return s.default.createElement("div",{className:"flex flex--column height--100"},(!a||n>0)&&s.default.createElement(m.default,{widget:o,title:d,parentRoute:t,backButtonClickHandler:f}),s.default.createElement(p.default,null,h),s.default.createElement(_.default,{depth:n,pageData:r,widget:o,isMobile:a,editingId:i,isDeletable:u,dataPath:l}))}}]),t})(l.Component);t.default=v,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(249),d=r(c),f=n(48),p=r(f),h=n(1052),m=r(h),g=n(77),_=r(g),y=n(78),b=r(y),v=n(71),E=r(v),T=n(223),O=r(T),P=n(383),w=r(P),I=n(8),S=r(I),C=n(140),x=r(C),k=n(139),D=r(k),A=n(17),M=r(A),N=n(10),R=r(N),j=n(168),L=r(j),U=n(9),G=r(U),B=n(11),W=n(45),F=r(W),H=n(115),V=r(H),q=n(59),Y=r(q),z="PAGE",K="LINK",X=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={pageName:"",externalUrl:"",toggleState:!0,renderBackButton:e.renderBackButton},(0,F.default)(n),n}return i(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.resetState;!this.props.resetState&&t&&this.setState({pageName:""})}},{key:"componentWillUnmount",value:function(){var e=this.props.editorType;e===z&&this.context.executeAction(O.default,{showAddPagePanel:!1}),e===K&&this.context.executeAction(w.default,{showAddLinkPanel:!1})}},{key:"handleChange",value:function(e){this.setState({pageName:e})}},{key:"handleCancelClick",value:function(){var e=this.props.editorType;e===z&&this.context.executeAction(O.default,{showAddPagePanel:!1}),e===K&&this.context.executeAction(w.default,{showAddLinkPanel:!1})}},{key:"handleKeyPress",value:function(e){var t=this.state.pageName;"Enter"===e.key&&t&&this.addPageButton.handleClick(e)}},{key:"onToggle",value:function(e,t){this.setState({toggleState:e}),(0,B.logEvent)({code:e?G.default.edit_site.show_page_in_nav:G.default.edit_site.hide_page_in_nav,domEvent:t})}},{key:"handleChangePageName",value:function(e){this.setState({pageName:e})}},{key:"handleURLChange",value:function(e){this.setState({externalUrl:e})}},{key:"handleBackClick",value:function(){var e=this.context.executeAction;e(M.default,{routeName:R.default.EDIT}),e(L.default,{showManagePagesPanel:!0})}},{key:"render",value:function(){var e=this,t=this.props.editorType,n=this.state,r=n.pageName,o=n.toggleState,a=n.externalUrl,i=n.renderBackButton,u=this.context.getIntlString,l=s.default.createElement("div",{className:"add-page-footer"},s.default.createElement(m.default,{buttonLabel:"createLink",navigateBack:this.handleBackClick,pageName:r,renderExternalUrl:{disabled:r&&!!a.length,externalUrl:a},disabled:!a,ref:function(t){return e.addPageButton=t}}));if(t===K)return s.default.createElement("div",{className:"ux-editor flex flex--column height--100"},s.default.createElement(_.default,null,s.default.createElement(D.default,{onClick:this.handleBackClick}),s.default.createElement(b.default,{title:"addLink"})),s.default.createElement("div",{className:"flex flex--abs-center edit-link-header"},u("externalLinkHeaderText")),s.default.createElement(Y.default,null,s.default.createElement("div",{className:"add-page-panel-form"},s.default.createElement(p.default,{placeholder:u("egBlogLink"),onChange:this.handleChangePageName,label:u("externalLinkNameInputTitle"),hint:u("keepItShort"),maxCount:d.default.MAX_PAGE_NAME_LENGTH,autoFocus:!0,automationId:S.default.TEXT_INPUT_PAGE_NAME,onKeyPress:this.handleKeyPress,value:r}),s.default.createElement(p.default,{placeholder:"http://",onChange:this.handleURLChange,label:u("externalLinkInputBarTitle"),onKeyPress:this.handleKeyPress,value:a}))),s.default.createElement(V.default,{children:l,className:"ux-form-group labeled-input"}));if(t===z){var c=i?s.default.createElement(D.default,{onClick:this.handleBackClick}):null,f=i?null:s.default.createElement(E.default,{onClick:this.handleCancelClick});return l=s.default.createElement("div",{className:"add-page-footer"},s.default.createElement(m.default,{pageName:r,showLink:o,navigateBack:this.handleCancelClick,ref:function(t){return e.addPageButton=t}})),s.default.createElement("div",{className:"ux-editor flex flex--column height--100"},s.default.createElement(_.default,null,c,s.default.createElement(b.default,{title:"addNewPage"}),f),s.default.createElement(Y.default,null,s.default.createElement("div",{className:"add-page-panel-form"},s.default.createElement(p.default,{placeholder:u("egAboutUs"),onChange:this.handleChange,label:u("pageTitle"),hint:u("keepItShort"),maxCount:d.default.MAX_PAGE_NAME_LENGTH,autoFocus:!0,automationId:S.default.TEXT_INPUT_PAGE_NAME,onKeyPress:this.handleKeyPress,value:r}),s.default.createElement("div",{className:"showNavigationContainer"},s.default.createElement(x.default,{label:u("showInNavigation"),handleChange:function(t){return e.onToggle(t)},defaultValue:o})))),s.default.createElement(V.default,{children:l,className:"ux-form-group labeled-input"}))}return null}}]),t})(l.Component);X.contextTypes={executeAction:l.PropTypes.func.isRequired,getIntlString:l.PropTypes.func.isRequired},X.defaultProps={resetState:!1,renderBackButton:!1},t.default=X,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(249),d=r(c),f=n(48),p=r(f),h=n(77),m=r(h),g=n(78),_=r(g),y=n(71),b=r(y),v=n(139),E=r(v),T=n(115),O=r(T),P=n(59),w=r(P),I=n(385),S=r(I),C=n(384),x=r(C),k=n(8),D=r(k),A=n(140),M=r(A),N=n(1095),R=r(N),j=n(1053),L=r(j),U=n(11),G=n(45),B=r(G),W=n(228),F=r(W),H=n(9),V=r(H),q=n(17),Y=r(q),z=n(168),K=r(z),X=n(10),J=r(X),Z=n(499),Q="PAGE",$="LINK",ee=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={pageName:n.props.item&&n.props.item.get("name"),externalUrl:n.props.item&&n.props.item.get("properties").get("routePath")||"",toggleState:n.props.item&&n.props.item.get("options")&&n.props.item.getIn(["options","showLink"])},(0,B.default)(n),n}return i(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.resetState;!this.props.resetState&&t&&this.setState({pageName:""})}},{key:"componentWillUnmount",value:function(){this.context.executeAction(S.default,{showEditPagePanel:!1})}},{key:"handleChange",value:function(e,t){var n=this.props.item,r=this.state.toggleState;this.setState({pageName:e}),e.length<=d.default.MAX_PAGE_NAME_LENGTH&&n.get("name")!==e&&((0,U.logEvent)({code:V.default.edit_site.manage_pages_rename_page,domEvent:t}),this.context.executeAction(F.default,{id:n.get("id"),name:e,options:{showLink:r}}))}},{key:"handleCancelClick",value:function(){var e=this.props.editorType;e===Q&&this.context.executeAction(S.default,{showEditPagePanel:!1}),e===$&&this.context.executeAction(x.default,{showEditLinkPanel:!1})}},{key:"handleKeyPress",value:function(e){var t=this.state.pageName;"Enter"===e.key&&t&&this.handleBackClick(e)}},{key:"onToggle",value:function(e,t){var n=this.props.item,r=this.state.pageName;this.setState({toggleState:e}),(0,U.logEvent)({code:e?V.default.edit_site.show_page_in_nav:V.default.edit_site.hide_page_in_nav,domEvent:t}),this.context.executeAction(F.default,{id:n.get("id"),name:r,options:{showLink:e}})}},{key:"handleBackClick",value:function(){var e=this.context.executeAction;e(Y.default,{routeName:J.default.EDIT}),e(K.default,{showManagePagesPanel:!0})}},{key:"handleChangePageName",value:function(e,t){var n=this.props.item,r=this.state.externalUrl;this.setState({pageName:e}),e.length<=d.default.MAX_PAGE_NAME_LENGTH&&n.get("name")!==e&&((0,U.logEvent)({code:V.default.edit_site.manage_pages_rename_page,domEvent:t}),this.context.executeAction(F.default,{id:n.get("id"),name:e,properties:{routePath:r}}))}},{key:"handleURLChange",value:function(e){var t=this.props.item,n=this.state.pageName;this.setState({externalUrl:e}),this.context.executeAction(F.default,{id:t.get("id"),name:n,properties:{routePath:e}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.editorType,r=t.disableShowHideToggle,o=this.state,a=o.pageName,i=o.externalUrl,u=o.toggleState,l=this.props,c=l.item,f=l.route,h=this.context.getIntlString,g=c&&c.get("id"),y=(0,Z.isPageDeletable)(c),v=y&&s.default.createElement("div",{className:"edit-page-footer"},s.default.createElement(L.default,{modalComponent:R.default,pageId:g,onDelete:this.handleBackClick}));if(n===$)return s.default.createElement("div",{className:"ux-editor flex flex--column height--100"},s.default.createElement(m.default,null,s.default.createElement(E.default,{onClick:this.handleBackClick}),s.default.createElement(_.default,{title:"editLink"}),s.default.createElement(b.default,{onClick:this.handleCancelClick})),s.default.createElement("div",{className:"flex flex--abs-center edit-link-header"},h("externalLinkHeaderText")),s.default.createElement(w.default,null,s.default.createElement("div",{className:"add-page-panel-form"},s.default.createElement(p.default,{placeholder:h("egBlogLink"),onChange:this.handleChangePageName,label:h("externalLinkNameInputTitle"),hint:h("keepItShort"),maxCount:d.default.MAX_PAGE_NAME_LENGTH,autoFocus:!0,automationId:D.default.TEXT_INPUT_PAGE_NAME,onKeyPress:this.handleKeyPress,value:a}),s.default.createElement(p.default,{placeholder:"http://",onChange:this.handleURLChange,label:h("externalLinkInputBarTitle"),onKeyPress:this.handleKeyPress,value:i}))),s.default.createElement(O.default,{children:v,className:"ux-form-group labeled-input"}));if(n===Q){var T=r?null:s.default.createElement("div",{className:"showNavigationContainer"},s.default.createElement(M.default,{label:h("showInNavigation"),handleChange:function(t){return e.onToggle(t)},defaultValue:"undefined"==typeof u||u}));return s.default.createElement("div",{className:"ux-editor flex flex--column height--100"},s.default.createElement(m.default,null,s.default.createElement(E.default,{route:f,onClick:this.handleBackClick}),s.default.createElement(_.default,{title:"editPage"}),s.default.createElement(b.default,{onClick:this.handleCancelClick})),s.default.createElement(w.default,null,s.default.createElement("div",{className:"add-page-panel-form"},s.default.createElement(p.default,{placeholder:h("egAboutUs"),onChange:this.handleChange,label:h("pageTitle"),hint:h("keepItShort"),maxCount:d.default.MAX_PAGE_NAME_LENGTH,autoFocus:!0,automationId:D.default.TEXT_INPUT_PAGE_NAME,onKeyPress:this.handleKeyPress,value:a}),T)),s.default.createElement(O.default,{children:v,className:"ux-form-group labeled-input"}))}}}]),t})(l.Component);ee.contextTypes={executeAction:l.PropTypes.func.isRequired,getIntlString:l.PropTypes.func.isRequired},t.default=ee,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(5),f=r(d),p=n(1055),h=r(p),m=(n(4),n(77)),g=r(m),_=n(78),y=r(_),b=n(71),v=r(b),E=n(168),T=r(E),O=n(59),P=r(O),w=n(39),I=r(w),S=n(6),C=n(9),x=r(C),k=n(11),D=n(17),A=r(D),M=n(10),N=r(M),R=n(223),j=r(R),L=n(383),U=r(L),G=n(43),B=r(G),W=n(21),F=r(W),H=n(35),V=r(H),q=n(449),Y=r(q),z=n(115),K=r(z),X=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=f.default.shouldComponentUpdate.bind(n),n.handleAddPageClick=n.handleAddPageClick.bind(n),n.handleAddLinkClick=n.handleAddLinkClick.bind(n),n.handleCancelClick=n.handleCancelClick.bind(n),n}return i(t,e),l(t,[{key:"componentWillUnmount",value:function(){this.context.executeAction(T.default,{showManagePagesPanel:!1})}},{key:"handleAddPageClick",value:function(e){var t=this.context.executeAction,n=this.props,r=n.pageLimit,o=n.pages,a=o.size>=r;a?t(V.default,{modal:c.default.createElement(Y.default,{pageLimit:r}),forceModal:!0}):(t(A.default,{routeName:N.default.EDIT}),t(j.default,{showAddPagePanel:!0,renderBackButton:!0})),(0,k.logEvent)({code:x.default.edit_site.manage_pages_add_page,domEvent:e})}},{key:"handleAddLinkClick",value:function(e){var t=this.context.executeAction;t(A.default,{routeName:N.default.EDIT}),t(U.default,{showAddLinkPanel:!0}),(0,k.logEvent)({code:x.default.edit_site.manage_pages_add_link,domEvent:e})}},{key:"handleCancelClick",value:function(e){this.context.executeAction(T.default,{showManagePagesPanel:!1}),(0,k.logEvent)({code:x.default.edit_site.close_icon_on_manage_pages_editor,domEvent:e})}},{key:"render",value:function(){var e=this.props.pages,t=this.context.getIntlString,n=c.default.createElement("div",null,c.default.createElement(F.default,{type:"default dark",className:"btn-sm",onClick:this.handleAddPageClick,style:{marginRight:"20px"}},t("addPage")),c.default.createElement(F.default,{type:"default dark",className:"btn-sm",onClick:this.handleAddLinkClick},t("addLink")));return c.default.createElement("div",{className:"ux-editor flex flex--column height--100"},c.default.createElement(g.default,null,c.default.createElement(y.default,{title:"managePages"}),c.default.createElement(v.default,{onClick:this.handleCancelClick})),c.default.createElement(P.default,null,c.default.createElement("div",{className:"pages-reorder-instructions flex flex--abs-center"},t("dragReorder")),c.default.createElement(B.default,null,c.default.createElement(h.default,{items:e,ignoreItems:[0]}))),c.default.createElement(K.default,{children:n,className:"ux-form-group labeled-input"}))}}]),t})(c.default.Component);X.contextTypes={executeAction:s.PropTypes.func.isRequired,getIntlString:s.PropTypes.func.isRequired},t.default=(0,S.subscribeToStores)(X,[I.default.GET_NAVIGATION_PAGES],(function(e){var t=u(e,1),n=t[0];return{pages:n}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(5),f=r(d),p=n(4),h=n(432),m=r(h),g=n(1056),_=r(g),y=n(143),b=r(y),v=n(983),E=r(v),T=n(3),O=r(T),P=n(10),w=r(P),I=n(39),S=r(I),C=n(6),x=n(16),k=r(x),D=n(59),A=r(D),M=n(17),N=r(M),R=n(501),j=r(R),L=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showAddSectionConfirmation:!1
},n.shouldComponentUpdate=f.default.shouldComponentUpdate.bind(n),n.onBackClick=n.onBackClick.bind(n),n.state=n.computeTopSectionGroup(e),n}return i(t,e),l(t,[{key:"computeTopSectionGroup",value:function(e){var t=e.sectionTypeIds,n=e.sectionTypes,r=(0,j.default)(new p.Map({sectionTypes:n}),t);return{sectionType:r}}},{key:"componentWillReceiveProps",value:function(e){var t=e.routeName,n=e.sectionTypes;if(t===P.EDIT_ADD_SECTION&&!n.equals(this.props.sectionTypes)){var r=this.computeTopSectionGroup(e);r&&this.setState(r)}!e.isPostPageWidgetPending&&this.props.isPostPageWidgetPending&&this.setState({showAddSectionConfirmation:!0})}},{key:"onBackClick",value:function(){var e=this.props,t=e.sectionTypeIds,n=e.addWidgetId,r=String(t).split("/");r=r.slice(0,r.length-1),this.context.executeAction(N.default,{routeName:w.default.EDIT_ADD_SECTION_TYPE,params:{addWidgetId:n,sectionType:r.length?r:null},preserveScrollPosition:!0})}},{key:"render",value:function(){var e=this.props,t=e.isPostPageWidgetPending,n=e.previewWidget,r=this.state,o=r.showAddSectionConfirmation,a=r.sectionType,i=void 0,u=void 0;if(t)i=c.default.createElement(b.default,null);else if(!o){var l=n&&n.get("id");u=c.default.createElement(_.default,{sectionType:a,widgetId:l})}return c.default.createElement("div",{className:"flex flex--column height--100 editor-panel"},c.default.createElement(m.default,{hideCancelButton:o,onBackClick:this.onBackClick,sectionType:a}),c.default.createElement(A.default,null,c.default.createElement(E.default,{show:o}),i,u))}}]),t})(s.Component);L.contextTypes={executeAction:s.PropTypes.func.isRequired},t.default=(0,C.subscribeToStores)(L,[O.default.REQUEST,O.default.ROUTE,O.default.WIDGET,S.default.GET_SECTION_TYPE_GROUPS],(function(e){var t=u(e,4),n=t[0],r=t[1],o=t[2],a=t[3],i=r.getCurrentRoute(),l=i.params,s=l.sectionType,c=l.addWidgetId;return{isPostPageWidgetPending:n.isAnyRequestPending(k.default.POST_PAGE_WIDGET),previewWidget:o.getPreviewWidget(),sectionTypeIds:s,sectionTypes:a,addWidgetId:c,routeName:i.name}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(71),p=r(f),h=n(78),m=r(h),g=n(77),_=r(g),y=n(139),b=r(y),v=n(11),E=n(9),T=r(E),O=(n(4),n(10)),P=r(O),w=n(17),I=r(w),S=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n.handleCancelClick=n.handleCancelClick.bind(n),n}return i(t,e),u(t,[{key:"handleCancelClick",value:function(e){this.context.executeAction(I.default,{routeName:P.default.EDIT,preserveScrollPosition:!0}),(0,v.logEvent)({code:T.default.edit_site.close_add_section_window,domEvent:e})}},{key:"render",value:function(){var e=this.props,t=e.hideCancelButton,n=e.onBackClick,r=e.sectionType,o=e.header,a=void 0;t||(a=s.default.createElement(p.default,{onClick:this.handleCancelClick}));var i=r?r.get("label"):o;return s.default.createElement(_.default,{className:"field-set-header"},n&&s.default.createElement(b.default,{onClick:n}),s.default.createElement(m.default,{title:i}),a)}}]),t})(l.Component);t.default=S,S.contextTypes={executeAction:l.PropTypes.func.isRequired,hideCancelButton:l.PropTypes.bool},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(4),f=n(43),p=r(f),h=n(38),m=r(h),g=n(64),_=r(g),y=n(10),b=n(17),v=r(b),E=n(59),T=r(E),O=n(432),P=r(O),w=n(3),I=r(w),S=n(39),C=r(S),x=n(6),k=n(5),D=r(k),A=n(450),M=r(A),N=n(35),R=r(N),j=n(11),L=n(9),U=r(L),G=n(501),B=r(G),W=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=D.default.shouldComponentUpdate.bind(n),n.onBackClick=n.onBackClick.bind(n),n.getBackClickCallback=n.getBackClickCallback.bind(n),n.shouldUpdateStateForRoute=n.shouldUpdateStateForRoute.bind(n),n.state=n.computeTopSectionGroup(e),n}return i(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.routeName,n=e.sectionTypes,r=e.sectionGroupIds;if(t===y.EDIT_ADD_SECTION_TYPE&&(this.shouldUpdateStateForRoute(r)||!n.equals(this.props.sectionTypes))){var o=this.computeTopSectionGroup(e);o&&this.setState(o)}}},{key:"shouldUpdateStateForRoute",value:function(e){return!(this.props.transitionOnRouteUpdate||e===this.props.sectionGroupIds)}},{key:"computeTopSectionGroup",value:function(e){var t=e.sectionGroupIds,n=e.sectionTypes,r=(0,B.default)(new d.Map({sectionTypes:n}),t),o=r&&r.get("sectionTypes");return{sectionTypes:o,isTopSectionGroup:!t||!o||o.equals(n),sectionLabel:r&&r.get("label")}}},{key:"getBackClickCallback",value:function(){return this.state.isTopSectionGroup?null:this.onBackClick}},{key:"onBackClick",value:function(){var e=this.props,t=e.sectionGroupIds,n=e.addWidgetId,r=String(t).split("/");r=r.slice(0,r.length-1),this.context.executeAction(v.default,{routeName:y.EDIT_ADD_SECTION_TYPE,params:{addWidgetId:n,sectionType:r.length?r:null},preserveScrollPosition:!0})}},{key:"onItemClick",value:function(e,t,n){var r=this.props,o=r.addWidgetId,a=r.sectionGroupIds,i=this.state.sectionTypes,u=String(e),l=void 0;a?(l=a.split("/"),l.push(u)):l=u,n?(this.context.executeAction(R.default,{modal:M.default[n],forceModal:!0}),(0,j.logEvent)({code:U.default.edit_site.click_add_section_upgrade_promo,widgetType:t})):this.context.executeAction(v.default,{routeName:i.get(e).get("sectionTypes")?y.EDIT_ADD_SECTION_TYPE:y.EDIT_ADD_SECTION,params:{addWidgetId:o,sectionType:l},preserveScrollPosition:!0})}},{key:"render",value:function(){var e=this,t=this.state,n=t.sectionTypes,r=t.sectionLabel,o=this.context.getIntlString,a=n.map((function(t,n){var r=t.get("label"),a=t.get("promoTier"),i={id:r,key:r,title:o(t.get("sectionTypes")?"widgetGroups."+r:r),description:o("widgetDescriptions."+r),onClick:e.onItemClick.bind(e,n,r,a)};return a&&(i.disableArrow=!0,i.tagContent=o("upgrade")),c.default.createElement(m.default,i)}));return c.default.createElement("div",{className:"flex flex--column height--100 editor-panel"},c.default.createElement(P.default,{header:r?"widgetGroups."+r:"addSection",onBackClick:this.getBackClickCallback()}),c.default.createElement(T.default,null,c.default.createElement(_.default,{description:o("whatTypeOfSection")}),c.default.createElement(p.default,null,a)))}}]),t})(s.Component);W.defaultProps={sectionTypes:new d.List,transitionOnRouteUpdate:!1},W.contextTypes={executeAction:s.PropTypes.func.isRequired,getIntlString:s.PropTypes.func.isRequired},t.default=(0,x.subscribeToStores)(W,[I.default.ROUTE,C.default.GET_SECTION_TYPE_GROUPS],(function(e){var t=u(e,2),n=t[0],r=t[1],o=n.getCurrentRoute(),a=o.params,i=a.sectionType,l=a.addWidgetId;return{sectionGroupIds:i,addWidgetId:l,sectionTypes:r,routeName:o.name}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t,n,r){if(!e||!t)return new m.Map;var o=t.toJS(),a=o.defaultState,i=(0,E.typeTreeToStatelessMutatorDescriptors)(o),u=(0,g.merge)({},e.get("properties").toJS(),e.get("options").toJS(),e.get("data").toJS()),l=(0,E.finalizeStatelessMutatorDescriptors)(i,u,a,r),s=n&&n.split("/")||[];return(0,m.fromJS)((0,E.getPageDataByRoute)(l,s))}Object.defineProperty(t,"__esModule",{value:!0});var l=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),d=n(1),f=r(d),p=n(5),h=r(p),m=n(4),g=n(2),_=n(7),y=r(_),b=n(134),v=r(b),E=n(221),T=n(107),O=n(6),P=n(3),w=r(P),I=n(1051),S=r(I),C=n(439),x=n(1057),k=r(x),D=n(1050),A=r(D),M=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=h.default.shouldComponentUpdate.bind(n),n.triggerFocus=n.triggerFocus.bind(n),n}return i(t,e),c(t,[{key:"componentDidUpdate",value:function(){this._inTransition||this.triggerFocus()}},{key:"renderPages",value:function(){var e=this.props,t=e.widget,n=e.editingId,r=e.typeTree,o=e.mutatorPath,a=e.isMobile,i=e.isDeletable,l=e.route,s=e.routeParams,c=this._getExtensions(),d=this._getWidgetProps(t,r,c),p=u(d,r,o,c);if(!p)return null;for(var h=p.get("depth"),m=[],g=0;g<=h;g++)m.push(f.default.createElement("div",{key:g}));var _=p.get("isFullPageMutator")?f.default.createElement(A.default,{key:h,widget:t,editingId:n,isMobile:a,isDeletable:i,mutatorDescriptor:p,route:l,routeParams:s}):f.default.createElement(k.default,{key:h,widget:t,editingId:n,isMobile:a,isDeletable:i,pageData:p,route:l,routeParams:s});return m.push(_),m}},{key:"_getExtensions",value:function(){var e=this.context.getStore(w.default.REGISTRY),t=e.getManifestExtensions().toJS();if(!Object.keys(t).length){var n=this.context.getRenderContext().componentContext;e.loadManifestExtensions(this.context,n),t=e.getManifestExtensions().toJS()}return t}},{key:"_getWidgetProps",value:function(e,t,n){if(!e)return e;var r=e.toJS(),o=m.Map.isMap(t)?t.toJS():t,a=(0,T.getValuesFromManifest)(o,n,r);return(0,C.setWidgetProperties)(e,a)}},{key:"triggerFocus",value:function(){var e=this;setTimeout((function(){var t=".mutator-form .mutator-field",n=t+' [data-route="'+e.props.mutatorPath+'"]',r=document.querySelectorAll(n)[0];r&&document.activeElement!==r&&(r.focus&&r.focus(),r.select&&r.select())}),0)}},{key:"render",value:function(){var e=this,t=this.props.typeTree,n=!!t,r=n?this.renderPages():[f.default.createElement(S.default,s({key:"legacy"},this.props))],o=(0,y.default)("ux-editor","mutator",{"new-mutator":n});return f.default.createElement(v.default,{className:o,onTransitionStart:function(){return e._inTransition=!0},onTransitionEnd:function(){e._inTransition=!1,e.triggerFocus()}},r)}}]),t})(d.Component);M.contextTypes={getRenderContext:d.PropTypes.func,executeAction:d.PropTypes.func,getIntlString:d.PropTypes.func,getStore:d.PropTypes.func},M.childContextTypes={instantiatedByFromContext:d.PropTypes.string},M.defaultProps={routeParams:{}},t.default=(0,O.subscribeToStores)(M,[w.default.ROUTE,w.default.WIDGET,w.default.REGISTRY],(function(e){var t=l(e,3),n=t[0],r=t[1],o=t[2],a=n.getCurrentRoute(),i=a.params,u=i.widgetId,s=i.mutatorPath,c=u&&r.getWidgetById(u),d=c&&o.getVariationManifestByType(c.get("type"),c.get("properties").get("preset")),f=c&&c.get("type"),p=f&&o.isDeletable(f);return{editingId:u,isDeletable:p,route:a.name,routeParams:a.params,widget:c,typeTree:d,mutatorPath:s,widgetType:f}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(4),f=n(5),p=r(f),h=n(11),m=n(7),g=r(m),_=n(84),y=n(9),b=n(171),v=r(b),E=n(169),T=r(E),O=n(3),P=r(O),w=n(6),I=n(170),S=r(I),C=37,x=39,k=38,D=40,A=13,M=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={selectedWidget:e.selectedWidget&&e.selectedWidget.get("properties",new d.Map).get("preset"),layoutPresets:e.alternateLayouts&&e.alternateLayouts.toJS().map((function(e){return e.id})).sort()},n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n.handleLayoutSelection=n.handleLayoutSelection.bind(n),n.handleDirectionalSelector=n.handleDirectionalSelector.bind(n),n}return i(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({selectedWidget:e.selectedWidget&&e.selectedWidget.get("properties",new d.Map).get("preset")})}},{key:"componentWillMount",value:function(){window.addEventListener("keydown",this.handleDirectionalSelector,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleDirectionalSelector,!1)}},{key:"handleDirectionalSelector",value:function(e){var t=this.props.changeTab,n=this.state,r=n.selectedWidget,o=n.layoutPresets,a=e.which,i=void 0,u=function(e){var t=o.indexOf(r),n=function(e,t){return(e+t)%t};i=o[n(t+e,o.length)]};switch(a){case A:return void t(0);case C:case k:u(-1);break;case x:case D:u(1);break;default:return}this.setState({selectedWidget:i}),this.handleLayoutSelection({widget:{id:i}})}},{key:"handleLayoutSelection",value:function(e){var t=e.widget.id,n=this.props.selectedWidget;this.context.executeAction(T.default,{widgetId:this.props.selectedWidgetId,params:{preset:t}}),(0,h.logEvent)({code:(y.TRAFFIC_PREFIX+".edit_widget_"+n.get("type")+".layout.change").toLowerCase(),layoutId:t})}},{key:"render",value:function(){var e=this.props,t=e.website,n=e.route,r=e.alternateLayouts,o=e.pages,a=e.page,i=e.widgetTitleType,u=e.selectedIndex,l=this.state.selectedWidget,s=(0,g.default)("tablet-editor-panel-content flex flex--column",{"with-banner":this.props.freeTrialBannerDisplayed});return c.default.createElement("div",{className:"tablet-editor-panel layout-selector flex flex--middle"},c.default.createElement("div",{className:s},c.default.createElement(v.default,{className:"layout-selector",website:t,page:a,pages:o,widgets:r,selectedWidgetId:l,scale:_.TABLET_EDITOR_PANEL_SCALE,onSelect:this.handleLayoutSelection,route:n,renderMode:"DISPLAY",widgetTitleType:i,renderCss:!1,renderContext:new S.default,selectedIndex:u})))}}]),t})(c.default.Component);M.contextTypes={executeAction:s.PropTypes.func.isRequired},t.default=(0,w.subscribeToStores)(M,[P.default.REGISTRY,P.default.WEBSITE,P.default.PAGE,P.default.WIDGET,P.default.APP],(function(e,t){var n=u(e,5),r=n[0],o=n[1],a=n[2],i=n[3],l=n[4],s=t.selectedWidgetId,c=i.getWidgetById(s),f=c?c.get("type"):null,p=c?r.generateAlternateLayouts(c).map((function(e){return e.set("type",f||"fake")})):new d.List,h=a.getCurrentPage()||new d.Map,m=h.set("rootWidgets",new d.List(p.map((function(e){return e.get("id")})))),g=a.getPages().map((function(e){return e.get("id")===m.get("id")?m:e})),_=0;if(c){var y=h.get("rootWidgets",[]).indexOf(c.get("id"));y>=0&&(_=y)}return{selectedIndex:_,alternateLayouts:p,pages:g,selectedWidget:c,widgetTitleType:f,page:m,website:o.getCurrentWebsite(),freeTrialBannerDisplayed:l.getShowFreeTrialBanner()}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(4),u=n(404),l=r(u),s=(0,i.List)([{title:"content"},{title:"layout"}]),c=function(e){var t=e.children,n=e.onChange,r=e.selectedIndex;return a.default.createElement("div",null,a.default.createElement(l.default,{values:s,selectedIndex:r,onChange:n}),t)};c.contextTypes={executeAction:o.PropTypes.func.isRequired},t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=n(79),a={value:"EXTERNAL"},i=function(e,t,n,a){var i=e.fieldName,u=e.data,l={},s=u.merge(new r.Map(n));l[i]=s,a.setState(l);var c=t===o.CHANGE?a.props.onChange:a.props.onBlur;c(s.toJS())},u=function(e,t,n){var r=e.map((function(e){var r=e.name+(e.id===t?" ("+n("thisPage")+")":"");return{value:e.id,label:r}}));return a.label=n("ctaUrlLabel"),r.push(a),r};t.default={updateDropdown:i,buildDropdownOptions:u,EXTERNAL_URL_OPTION:a},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(15),a=o.constants.editors,i={normalTextInput:1e3,richTextInput:1e5},u=function(e,t){var n=void 0;try{n=JSON.parse(e)}catch(n){return e.substring(0,t||i.normalTextInput)}return n.blocks&&!(function(){var e=[],r=0;t=t||i.richTextInput,n.blocks.forEach((function(n){if(r<t){var o=t-r;n.text.length>o&&(n.text=n.text.substring(0,o)),e.push(n),r+=n.text.length}})),n.blocks=e})(),JSON.stringify(n)},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1],n=arguments[2];if(Array.isArray(t))return t;switch(n){case a.TEXT:case a.MULTILINE:case a.EMAIL:return t.substring(0,e||i.normalTextInput);case a.RICHTEXT:case a.RICHMULTILINE:return u(t,e);case a.ADDRESS:return(0,r.assign)(t,{value:t.value.substring(0,e||i.normalTextInput)});case a.LOGOCOMPOSER:return(0,r.assign)(t,{logoText:t.logoText.substring(0,e||i.normalTextInput)});default:return t}};t.default={limitInputLength:l},e.exports=t.default},function(e,t,n){"use strict";function r(e){return Array.isArray(e)?e:Array.from(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return"number"==typeof e&&(e+=""),e}function i(e,t){return Object.keys(t).forEach((function(n){var r=_(t[n]),o=a(t[n]);"undefined"!=typeof o&&null!==o&&("object"===("undefined"==typeof o?"undefined":y(o))&&(o=(0,b.fromJS)(o)),e=e.setIn([r,n],o))})),e}function u(e,t){return e.getIn(t)}function l(e,t){var n=c(e,t),r=n.pathSegments,o=n.widgetMap;if(!r)return{};var a=p(o,r);return d(r,a)}function s(e,t,n,r){var o=c(t,n,e),i=o.pathSegments,u=o.widgetMap;if(!i)return{};var l=f(u,i,a(e),r);return d(i,l)}function c(e,t,n){if(!e||!e.size)return{};var r=h(e.toJS()),o=n?_(n,e):"data",a=t.get(o);return{pathSegments:r,widgetMap:a}}function d(e,t){var n=t.get(e[0]),r=t.get(E)||{};return(0,v.assign)({},o({},e[0],g(n)),r)}function f(e,t,n,o){if(!t||0===t.length)return g(n);if(o&&!(function(){var t={};Object.keys(n).forEach((function(e){var r=o.get(e);r&&(t[r]=a(n[e]))})),Object.keys(t).length>0&&(e=e.set(E,t))})(),1===t.length){if(b.List.isList(e)){if("number"!=typeof t[0])throw new Error('Path Error: expected array index "'+t[0]+'" to be a number');if(e.size<t[0])throw new Error("Path Error: writing to index "+t[0]+" in an array of size "+e.size+" would create a sparse array");return e.set(t[0],g(n))}if(b.Map.isMap(e)){if("string"!=typeof t[0])throw new Error('Path Error: expected object path "'+t[0]+'" to be a string');return e.set(t[0],g(n))}throw new Error('Path Error: cannot set property "'+t[0]+'" of primitive value: '+e)}var i=r(t),u=i[0],l=i.slice(1),s=e.get(u);if(!b.List.isList(s)&&!b.Map.isMap(s)){var c=l[0];if("string"==typeof c)return e.set(u,f(new b.Map,l,n));if("number"==typeof c)return e.set(u,f(new b.List,l,n));throw new Error('Path Error: cannot set property "'+u+'" of primitive value: '+s)}return e.set(u,f(s,l,n))}function p(e,t){if(!t||0===t.length)return e;if(1===t.length)return e&&e.delete?e.delete(t[0]):e;var n=r(t),o=n[0],a=n.slice(1),i=e.has(o);return i?e.set(o,p(e.get(o),a)):e}function h(e){return e.map((function(e){return m(e)?Number(e):e}))}function m(e){var t=Number(e);return!isNaN(t)&&Math.floor(t)===t}function g(e){return e&&"function"==typeof e.toJS?e.toJS():e}function _(e,t){if(t&&t.size>1)return"data";switch("undefined"==typeof e?"undefined":y(e)){case"number":case"string":return"properties";case"boolean":return"options";case"object":default:return"data"}}Object.defineProperty(t,"__esModule",{value:!0});var y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.normalizeData=a,t.setWidgetProperties=i,t.getWidgetProperty=u,t.applyDeletionToWidgetState=l,t.mergeInNewWidgetState=s;var b=n(4),v=n(2),E="flattenedKeys"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){return i.default.createElement("div",{className:"flex--abs-center",style:{height:"100vh"}},i.default.createElement(l.default,{inline:!0,size:"large"}))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=r(a),u=n(112),l=r(u);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.section,n=e.category,r=e.slim,o="default"===t?"alt":"default";return i.default.createElement(c,{fluid:!0,section:t,category:n,backgroundColor:"section",paddingVertical:"xlarge"},i.default.createElement(c,null,i.default.createElement(d,{paddingBottom:r?"none":"large"},i.default.createElement(f,{xsmall:"4",xsmallOffset:"4",section:o,backgroundColor:"section"},i.default.createElement(s,{padding:"small"}))),r?null:i.default.createElement(d,{paddingVertical:"small"},i.default.createElement(f,{xsmall:"6"},i.default.createElement(d,{paddingHorizontal:"small"},i.default.createElement(f,{section:o,backgroundColor:"section"},i.default.createElement(s,{padding:"xlarge"})))),i.default.createElement(f,{xsmall:"6"},i.default.createElement(d,{paddingHorizontal:"small"},i.default.createElement(f,{xsmall:"12"},i.default.createElement(d,{paddingVertical:"xsmall"},i.default.createElement(f,{xsmall:"12",section:o,backgroundColor:"section"},i.default.createElement(s,{padding:"xsmall"}))),i.default.createElement(d,{paddingVertical:"xsmall"},i.default.createElement(f,{xsmall:"10",section:o,backgroundColor:"section"},i.default.createElement(s,{padding:"xsmall"}))),i.default.createElement(d,{paddingVertical:"xsmall"},i.default.createElement(f,{xsmall:"12",section:o,backgroundColor:"section"},i.default.createElement(s,{padding:"xsmall"}))),i.default.createElement(d,{paddingVertical:"xsmall"},i.default.createElement(f,{xsmall:"6",section:o,backgroundColor:"section"},i.default.createElement(s,{padding:"xsmall"})))))))))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=r(a),u=n(15),l=u.UX.Grid,s=u.UX.Base,c=l.Container,d=l.Row,f=l.Col;o.defaultProps={category:"neutral",section:"default"},t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=(function(e){function t(e){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.completed,n=e.color,r=e.height,o={backgroundColor:n,width:t+"%",height:r,transition:"width 200ms",overflow:"hidden",bottom:r,position:"relative",transitionTimingFunction:"linear"};return t>=100&&(o.bottom="0px",o.height="0px",o.transition=o.transition+", bottom 1000ms, height 1000ms"),s.default.createElement("div",{className:"progressbar-container"},s.default.createElement("div",{className:"progressbar-progress",style:o}))}}]),t})(l.Component);c.defaultProps={completed:0,height:10,color:"#0BD318"},t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(240),d=r(c),f=n(491),p=r(f),h=n(490),m=r(h),g=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={animationStartTime:Date.now(),oldPercentage:e.percentage,animatedPercentage:e.percentage,newPercentage:e.percentage},n.handleAnimatedPercentage=n.handleAnimatedPercentage.bind(n),n}return i(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.percentage;this.setState({animationStartTime:Date.now(),oldPercentage:this.state.animatedPercentage,newPercentage:t})}},{key:"handleAnimatedPercentage",value:function(e){this.setState({animatedPercentage:e})}},{key:"getPointOnCircle",value:function(e,t){return{x:Math.cos(e)*t,y:Math.sin(e)*t}}},{key:"getAnimationParams",value:function(){var e=this.props.isIndeterminate,t=this.state,n=t.animationStartTime,r=t.oldPercentage,o=t.animatedPercentage,a=t.newPercentage,i=void 0,u=void 0,l=void 0,s=void 0;return e?(i=0,u=1,l=!0,s=p.default):(i=r,u=a,l=!1,s=m.default),{startTime:n,startValue:i,currentValue:o,endValue:u,repeat:l,spline:s}}},{key:"getArcParams",value:function(e){var t=this.props,n=t.lineThickness,r=t.isIndeterminate,o=t.baseAngle,a=1-n,i=1-n/2,u=Math.min(e,.9999),l=o+2*u*Math.PI,s=r?l-Math.PI:o,c=l-s>Math.PI?1:0,d=this.getPointOnCircle(s,i),f=this.getPointOnCircle(l,i),p=1;return{lineThickness:n,circleRadius:a,arcRadius:i,startPt:d,endPt:f,largeSweep:c,clockwise:p}}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,r=e.animationDuration,o=e.dataAid,a=this.getAnimationParams(),i=a.startTime,u=a.startValue,l=a.currentValue,c=a.endValue,f=a.repeat,p=a.spline,h=this.getArcParams(l),m=h.circleRadius,g=h.arcRadius,_=h.startPt,y=h.endPt,b=h.largeSweep,v=h.clockwise,E=h.lineThickness;return s.default.createElement("div",{id:t,className:"progress-wheel "+n,"data-aid":o},s.default.createElement(d.default,{startTime:i,duration:r,from:u,to:c,spline:p,repeat:f,onFrame:this.handleAnimatedPercentage}),s.default.createElement("svg",{version:"1.1",viewBox:"-1 -1 2 2",xmlns:"http://www.w3.org/2000/svg"},s.default.createElement("circle",{className:"progress-circle",cx:0,cy:0,r:m}),s.default.createElement("path",{className:"progress-path",style:{strokeWidth:E},fill:"none",d:"M "+_.x+" "+_.y+"\n                A "+g+" "+g+" 0 "+b+" "+v+" "+y.x+" "+y.y})))}}]),t})(s.default.Component);t.default=g,g.defaultProps={className:"",isIndeterminate:!1,percentage:0,lineThickness:.05,baseAngle:1.5*Math.PI,animationDuration:1e3},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){var t=(function(t){function n(e){o(this,n);var t=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.shouldComponentUpdate=h.default.shouldComponentUpdate.bind(t),t.handleOverlayClick=t.handleOverlayClick.bind(t),t}return i(n,t),c(n,[{key:"toggleControlPanel",value:function(){this.refs.component.context.executeAction(T.default)}},{
key:"handleOverlayClick",value:function(e){var t=this.props.showControlPanel;t&&((0,m.logEvent)({code:v.default.editor_side_menu.click_outside_to_close_side_menu,domEvent:e}),this.toggleControlPanel())}},{key:"render",value:function(){var t=this.props.showErrorPage;return t?f.default.createElement(w.default,null):f.default.createElement(e,s({ref:"component"},this.props,{handleOverlayClick:this.handleOverlayClick}))}}]),n})(f.default.Component);return t.contextTypes={getStore:d.PropTypes.func.isRequired},(0,g.subscribeToStores)(t,[y.default.APP,y.default.CONFIG,y.default.NOTIFICATION,y.default.ROUTE,y.default.WEBSITE],(function(e){var t=l(e,5),n=t[0],r=t[1],o=t[2],a=t[3],i=t[4],u=r.getFeatureFlag("enableUserVoice");return{showAddSectionPanel:!!a.getCurrentRoute().params.addWidgetId,currentPage:n.getCurrentEditPage(),showAddPagePanel:n.getShowAddPagePanel(),showAddLinkPanel:n.getShowAddLinkPanel(),showManagePagesPanel:n.getShowManagePagesPanel(),showEditPagePanel:n.getShowEditPagePanel(),showEditLinkPanel:n.getShowEditLinkPanel(),showControlPanel:n.getShowControlPanel(),showFeedbackPanel:n.getShowFeedbackPanel(),showErrorPage:n.getShowErrorPage(),showNetPromoterScore:n.getShowNetPromoterScore(),addSectionWidgetId:a.getCurrentRoute().params.addWidgetId,userVoicePromise:(0,O.loadService)(r.get("uservoice.api.url"),i.getCurrentWebsite(),u),device:n.getDevice(),orientation:n.getOrientation(),modalComponent:o.getModal(),forceModal:o.getForceModal(),enableClickToEdit:r.getFeatureFlag("enableClickToEdit")&&!n.isMobile()}}))}Object.defineProperty(t,"__esModule",{value:!0});var l=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})();t.default=u;var d=n(1),f=r(d),p=n(5),h=r(p),m=n(11),g=n(6),_=n(3),y=r(_),b=n(9),v=r(b),E=n(167),T=r(E),O=n(500),P=n(1093),w=r(P);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(5),f=r(d),p=n(7),h=r(p),m=n(21),g=r(m),_=n(3),y=r(_),b=n(6),v=n(387),E=r(v),T=n(110),O=r(T),P=n(9),w=r(P),I=n(11),S=(function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.hideBanner=e.hideBanner.bind(e),e.handleLearnMore=e.handleLearnMore.bind(e),e.impressionTracked=!1,e.shouldComponentUpdate=f.default.shouldComponentUpdate.bind(e),e}return i(t,e),l(t,[{key:"componentWillReceiveProps",value:function(){this.props.showBanner&&!this.impressionTracked&&((0,I.logImpression)(w.default.free_trial_banner.impression),this.impressionTracked=!0)}},{key:"hideBanner",value:function(e){this.context.executeAction(E.default),(0,I.logEvent)({code:w.default.free_trial_banner.close_with_x,domEvent:e})}},{key:"handleLearnMore",value:function(e){(0,I.logEvent)({code:w.default.free_trial_banner.learn_more_button,domEvent:e}),this.context.executeAction(O.default,{traffic2Prefix:w.default.free_trial_banner})}},{key:"render",value:function(){var e=this.props,t=e.isMobile,n=e.daysLeft,r=e.showBanner,o=this.context.getIntlString,a=(0,h.default)("banner-content flex flex--center flex--grow ml-15",{"flex--space-between":t,"flex--middle":!t}),i=(0,h.default)("banner flex",{"hide-banner":!r});return c.default.createElement("div",{className:"ux-editor"},c.default.createElement("div",{id:"free-trial-banner",className:i},c.default.createElement("div",{className:a},c.default.createElement("span",{className:"banner-heading"},c.default.createElement("strong",null,o(1===n?"freeTrialBannerSingle":"freeTrialBannerPlural",{daysLeft:n}))),c.default.createElement(g.default,{type:"purchase dark",className:"btn-sm",onClick:this.handleLearnMore},o("learnMore"))),c.default.createElement("div",{className:"banner-close"},c.default.createElement("span",{className:"uxicon uxicon-large uxicon-x inverse",onClick:this.hideBanner}))))}}]),t})(s.Component);S.contextTypes={getIntlString:s.PropTypes.func.isRequired,executeAction:s.PropTypes.func.isRequired},t.default=(0,b.subscribeToStores)(S,[y.default.APP,y.default.WEBSITE,y.default.SHOPPER],(function(e){var t=u(e,3),n=t[0],r=t[1],o=t[2];return{domainName:r.getDomainName(),isMobile:n.isMobile(),showBanner:n.getShowFreeTrialBanner(),daysLeft:Math.max(1,o.getDaysLeftFromExpiry())}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(137),p=r(f),h=n(8),m=r(h),g=(function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleClick=e.handleClick.bind(e),e.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(e),e}return i(t,e),u(t,[{key:"handleClick",value:function(e){var t=this.props.onClick;t?t(e):this.context.executeAction(p.default)}},{key:"render",value:function(){var e=this.props,t=e.onCloseTrafficId,n=e.upgradeStyle,r=n?"larger":"large",o=n?"upgrade-modal-close":"modal-close";return s.default.createElement("a",{className:o+" ux-editor",onClick:this.handleClick,"data-traffic2":t,"data-aid":m.default.CLOSE_X_BUTTON},s.default.createElement("span",{className:"uxicon uxicon-"+r+" uxicon-x"}))}}]),t})(l.Component);t.default=g,g.contextTypes={executeAction:l.PropTypes.func.isRequired},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(3),f=r(d),p=n(6),h=n(16),m=r(h),g=n(938),_=r(g),y=n(96),b=n(1101),v=r(b),E=(function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onDomainSearch=e.onDomainSearch.bind(e),e}return i(t,e),l(t,[{key:"onDomainSearch",value:function(e){e=(0,y.removeProtocol)(e),this.context.executeAction(_.default,{domainName:e})}},{key:"render",value:function(){var e=this.props,t=e.onBack,n=e.isSearching,r=e.isDomainAvailable,o=e.externalDomain;return c.default.createElement(v.default,{isSearching:n,isDomainAvailable:r,onBack:t,onDomainSearch:this.onDomainSearch,externalDomain:o})}}]),t})(s.Component);E.defaultProps={externalDomain:""},E.contextTypes={executeAction:s.PropTypes.func.isRequired},t.default=(0,p.subscribeToStores)(E,[f.default.DOMAIN,f.default.REQUEST],(function(e){var t=u(e,2),n=t[0],r=t[1];return{isSearching:r.isAnyRequestPending(m.default.GET_DOMAIN_WEBSITE),isDomainAvailable:n.getIsDomainAvailable()}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(1402),u=r(i),l=n(8),s=r(l),c=n(30),d=r(c),f=n(44),p=r(f),h=n(27),m=r(h),g=n(33),_=r(g),y=function(e,t){var n=e.handleClose,r=e.traffic2Prefix,o=t.getIntlString;return a.default.createElement(p.default,{onCloseTrafficId:r.you_are_good_to_go_modal_close_with_x},a.default.createElement(m.default,null,a.default.createElement("div",{className:"modal-subtitle flex flex--middle mb-10"},o("youreGoodToGo")),a.default.createElement("img",{className:"mb-20 m-lr-auto",src:u.default,width:"62px"}),a.default.createElement("div",{className:"color-medium-gray fs-medium"},o("fullYearAwarded",{appName:o("appName")})),a.default.createElement(_.default,null,a.default.createElement(d.default,{theme:"primary",label:"close",onClick:n,dataAid:s.default.FREE_TRIAL_CONTINUE,trafficId:r.you_are_good_to_go_modal_close_button}))))};y.contextTypes={getIntlString:o.PropTypes.func.isRequired},t.default=y,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(5),f=r(d),p=n(137),h=r(p),m=n(44),g=r(m),_=n(30),y=r(_),b=n(27),v=r(b),E=n(33),T=r(E),O=n(11),P=n(9),w=r(P),I=n(8),S=r(I),C=n(6),x=n(3),k=r(x),D=(function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._onClose=e._onClose.bind(e),e.shouldComponentUpdate=f.default.shouldComponentUpdate.bind(e),e}return i(t,e),l(t,[{key:"_onClose",value:function(e,t){var n="CLOSE_ICON"===e?"close_icon_on_page_limit_notification":"gotit_button_on_page_limit_notification";this.context.executeAction(h.default),(0,O.logEvent)({code:w.default.edit_site[n],domEvent:t})}},{key:"render",value:function(){var e=this.props.pageLimit,t=this.context.getIntlString,n=t("pageLimitReached",{pageLimit:e});return c.default.createElement(g.default,{className:"page-limit-modal",showCloseOnTop:!0,closeOnTopClick:this._onClose.bind(null,"CLOSE_ICON")},c.default.createElement(v.default,{theme:"default",title:"tooManyPages",description:n},c.default.createElement(T.default,null,c.default.createElement(y.default,{theme:"primary",label:"gotIt",dataAid:S.default.PAGE_LIMIT_MODAL_GOT_IT,onClick:this._onClose.bind(null,"GOT_IT_BUTTON")}))))}}]),t})(s.Component);D.contextTypes={getIntlString:s.PropTypes.func.isRequired,executeAction:s.PropTypes.func.isRequired},t.default=(0,C.subscribeToStores)(D,[k.default.APP],(function(e){var t=u(e,1),n=t[0];return{isMobile:n.isMobile()}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(1118),u=r(i),l=n(1117),s=r(l),c=n(1120),d=r(c);t.default={commerce:a.default.createElement(d.default,u.default),business:a.default.createElement(d.default,s.default)},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.domains,n=e.isMobile,r=e.limit,o=e.onBuyDomainClick,a=t.slice(0,r).map((function(e){var t=e.get("name"),r=e.get("listPriceDisplay"),a=e.get("currentPriceDisplay"),u=e.get("purchasable");return i.default.createElement(l.default,{key:t,name:t,price:r,onClick:function(){return o(e)},salePrice:r===a?null:a,isPurchasable:u,isMobile:n})}));return i.default.createElement("div",{className:"domains-upsell"},i.default.createElement("div",{className:"domains-upsell-table"},a))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=r(a),u=n(1121),l=r(u),s=n(4);o.defaultProps={domains:new s.List,limit:3},t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(1),i=r(a),u=n(8),l=r(u),s=n(455),c=r(s),d=function(e,t){var n=t.getIntlString;return i.default.createElement("li",{className:"flex flex--center","data-aid":l.default.PAGES_DROPDOWN},i.default.createElement("div",{className:"fs-h3"},n("page"),n("colon")),i.default.createElement(c.default,o({},e,{isInNavBar:!0})))};d.contextTypes={getIntlString:a.PropTypes.func.isRequired},t.default=d,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),c=n(1),d=r(c),f=n(5),p=r(f),h=n(7),m=r(h),g=n(128),_=r(g),y=n(2),b=n(3),v=r(b),E=n(6),T=n(500),O=n(386),P=r(O),w=n(63),I=r(w),S=n(65),C=r(S),x=n(967),k=r(x),D=n(1201),A=r(D),M=n(21),N=r(M),R=n(9),j=r(R),L=n(11),U=n(8),G=r(U),B=11,W=800,F=600,H=300,V=3e3,q=8,Y=!1,z=(function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={currentPageIndex:0,rating:0},n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n.close=n.close.bind(n),n.selectRating=n.selectRating.bind(n),n.submitRating=n.submitRating.bind(n),n.renderRating=n.renderRating.bind(n),n.renderFeedback=n.renderFeedback.bind(n),n}return u(t,e),s(t,[{key:"componentDidMount",value:function(){n(1373)}},{key:"selectRating",value:function(e){this.setState({currentPageIndex:1,rating:e})}},{key:"submitRating",value:function(){var e=this.props.identity,t=this.state.rating,n=this.context.executeAction,r=this.refs.reason.value,a={rating:t,reason:r,identity:e};n(A.default,a),this.setState({currentPageIndex:2}),n(k.default,o({},S.NPS_COMPLETE,!0)),window.setTimeout(this.close,V)}},{key:"close",value:function(){this.context.executeAction(P.default,{showNetPromoterScore:!1}),this.context.executeAction(I.default,o({},C.default.NPS_LAST_DISMISSED,(new Date).toISOString()))}},{key:"feedbackEntered",value:function(e){Y||((0,L.logEvent)({code:j.default.nps_dialog.type_feedback,domEvent:e}),Y=!0)}},{key:"renderRating",value:function(){var e=this,t=this.state.currentPageIndex,n=this.context.getIntlString;return d.default.createElement("div",{key:t,className:"nps-container","data-aid":G.default.NPS_CONTAINER},d.default.createElement("div",{className:"nps-title"},n("userVoiceWouldYouRecommend",{appName:n("appName")})),d.default.createElement("div",{className:"nps-rating-btn-container"},Array(B).fill().map((function(t,n){var r=(0,y.bind)(e.selectRating,null,n),o="selected_rating_"+n,a=j.default.nps_dialog[o],i=G.default.NPS_SCORE+"_"+o;return d.default.createElement("div",{key:n,className:"nps-rating-btn-wrapper"},d.default.createElement(N.default,{onClick:r,type:"default",className:"nps-rating-btn btn-block","data-aid":i,"data-traffic2":a},d.default.createElement("span",null,n)))}))),d.default.createElement("div",{className:"nps-rating-description-wrapper"},d.default.createElement("div",{className:"nps-rating-description-left"},n("uservoiceNpsRatingNegative")),d.default.createElement("div",{className:"nps-rating-description-right"},n("uservoiceNpsRatingPositive"))))}},{key:"renderFeedback",value:function(){var e=this.state.currentPageIndex,t=this.context.getIntlString;return d.default.createElement("div",{key:e,className:"nps-container"},d.default.createElement("div",{className:"nps-title"},t("uservoiceNpsFeedbackQuestion")),d.default.createElement("textarea",{ref:"reason",rows:"2",placeholder:"",onChange:this.feedbackEntered,"data-aid":G.default.NPS_TEXT_AREA,className:"nps-feedback-textarea",autoFocus:!0}),d.default.createElement("div",null,d.default.createElement(N.default,{onClick:this.submitRating,className:"btn btn-sm nps-done","data-aid":G.default.NPS_FINISH,"data-traffic2":j.default.nps_dialog.click_on_finish_button},t("finish"))))}},{key:"renderThankYou",value:function(){var e=this.state,t=e.currentPageIndex,n=e.rating,r=this.context.getIntlString;return d.default.createElement("div",{key:t,className:"nps-container"},d.default.createElement("div",{className:"nps-success-title"},r("uservoiceNpsSuccessTitle")),d.default.createElement("div",{className:"nps-success-content"},r(n<q?"uservoiceNpsSuccessContentNegative":"uservoiceNpsSuccessContentPositive")))}},{key:"renderNPS",value:function(){var e=this.props,t=e.show,n=e.isTablet,r=this.state.currentPageIndex,o=t&&n;if(!o)return null;var a=(0,m.default)("ux-editor","nps",{"nps-success":2===r}),i=[this.renderRating(),this.renderFeedback(),this.renderThankYou()],u=i[r];return d.default.createElement("div",{key:"nps",className:a},d.default.createElement(_.default,{transitionName:"page",transitionEnterTimeout:F+H,transitionLeaveTimeout:F},u),d.default.createElement("div",{className:"uxicon uxicon-large uxicon-x nps-close","data-aid":G.default.NPS_CLOSE,onClick:this.close,"data-traffic2":j.default.nps_dialog.close_dialog_by_clicking_x}))}},{key:"render",value:function(){return d.default.createElement(_.default,{transitionName:"nps",transitionEnterTimeout:W,transitionLeaveTimeout:W},this.renderNPS())}}]),t})(c.Component);z.contextTypes={executeAction:c.PropTypes.func.isRequired,getIntlString:c.PropTypes.func.isRequired},t.default=(0,E.subscribeToStores)(z,[v.default.WEBSITE,v.default.APP],(function(e){var t=l(e,2),n=t[0],r=t[1],o=n.getCurrentWebsite(),a=(0,T.generateIdentity)(o),i="mobile"!==r.getDevice();return{identity:a,isTablet:i}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(6),f=n(3),p=r(f),h=n(1159),m=r(h),g=n(5),_=r(g),y=n(128),b=r(y),v=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={overlayLevels:[]},n.shouldComponentUpdate=_.default.shouldComponentUpdate.bind(n),n}return i(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.isMobile,n=e.isModalPresent,r=e.showAddPagePanel,o=e.showAddSectionPanel,a=e.showControlPanel,i=e.showManagePagesPanel,u=[];(r||(i||o)&&t)&&u.push(t?m.default.NAVBAR+1:m.default.NAVBAR-1),(n||a)&&u.push(m.default.MODAL-1),this.setState({overlayLevels:u})}},{key:"render",value:function(){var e=this.props.click,t=this.state.overlayLevels,n=t.map((function(t){return c.default.createElement("div",{key:t,style:{zIndex:t},className:"overlay",onClick:e})}));return c.default.createElement(b.default,{transitionName:"overlay",transitionEnterTimeout:500,transitionLeaveTimeout:500},n)}}]),t})(s.Component);t.default=(0,d.subscribeToStores)(v,[p.default.APP,p.default.NOTIFICATION,p.default.ROUTE],(function(e){var t=u(e,3),n=t[0],r=t[1],o=t[2];return{isMobile:n.isMobile(),isModalPresent:r.isModalOpen(),showAddPagePanel:n.getShowAddPagePanel(),showAddSectionPanel:!!o.getCurrentRoute().params.addWidgetId,showControlPanel:n.getShowControlPanel(),showManagePagesPanel:n.getShowManagePagesPanel()}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(5),f=r(d),p=n(2),h=(n(4),n(111)),m=r(h),g=n(449),_=r(g),y=n(6),b=n(3),v=r(b),E=n(39),T=r(E),O=n(10),P=r(O),w=n(168),I=r(w),S=n(223),C=r(S),x=n(35),k=r(x),D=n(17),A=r(D),M=n(9),N=r(M),R=n(11),j=n(21),L=r(j),U=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=f.default.shouldComponentUpdate.bind(n),n.handleAddPageClick=n.handleAddPageClick.bind(n),n.handleManagePagesClick=n.handleManagePagesClick.bind(n),n.buildPageOptions=n.buildPageOptions.bind(n),n.handleOptionClick=n.handleOptionClick.bind(n),n}return i(t,e),l(t,[{key:"getChildContext",value:function(){return{handleOptionClick:this.handleOptionClick}}},{key:"handleManagePagesClick",value:function(e){var t=this.context.executeAction;t(A.default,{routeName:P.default.EDIT}),t(I.default,{showManagePagesPanel:!0}),(0,R.logEvent)({code:N.default.edit_site.page_dropdown_manage_pages,domEvent:e})}},{key:"handleAddPageClick",value:function(e){var t=this.context.executeAction,n=this.props,r=n.pageLimit,o=n.pages,a=o.size>=r;a?t(k.default,{modal:c.default.createElement(_.default,{pageLimit:r}),forceModal:!0}):(t(A.default,{routeName:P.default.EDIT}),t(C.default,{showEditPagePanel:!0})),(0,R.logEvent)({code:N.default.edit_site.page_dropdown_add_page,domEvent:e})}},{key:"handleOptionClick",value:function(e){var t=this.props,n=t.currentPageId,r=t.pages,o=t.rerouteOnChange,a=r.get(e),i=a.get("id");i!==n&&o&&this.context.executeAction(A.default,{routeName:P.default.EDIT,params:{websiteId:a.get("websiteId"),pageId:a.get("id")},preserveScrollPosition:!0})}},{key:"buildPageOptions",value:function(){var e=this.props.pages,t=[];return e.map((function(e,n){var r=e.get("name"),o=e.get("id"),a=e.get("options")&&e.get("options").get("isExternalUrl")||!1;t.push({value:o,label:r,index:n,isExternalUrl:a})})),t}},{key:"render",value:function(){var e=this.context.getIntlString,t=this.props,n=t.onPageChange,r=t.currentPageId,o=t.isInNavBar,a=t.selectedPageId,i=t.showSubMenu,u=t.theme,l=t.hasAdjacentLink,s=this.buildPageOptions(),d=a||r,f=(0,p.find)(s,{value:d}),h=i?[c.default.createElement(L.default,{className:"btn btn-primary btn-dark btn-sm Dropdown-add-page",onClick:this.handleAddPageClick,"data-aid":"ADD_PAGE_LINK",style:{fontSize:"12px",margin:0}},e("addPageNew")),c.default.createElement("div",{className:"Dropdown-manage-pages",onClick:this.handleManagePagesClick,"data-aid":"MANAGE_PAGES_BTN"}," ",e("managePages")," ")]:null;return c.default.createElement(m.default,{hasAdjacentLink:l,onChange:n,isInNavBar:o,options:s,label:e("pages"),theme:u,submenuItems:h,value:f,dataAidPrefix:"PAGE_NAME"})}}]),t})(s.Component);U.defaultProps={rerouteOnChange:!0,showSubMenu:!0,theme:"inline"},U.contextTypes={getIntlString:s.PropTypes.func.isRequired,executeAction:s.PropTypes.func.isRequired},U.childContextTypes={handleOptionClick:s.PropTypes.func},t.default=(0,y.subscribeToStores)(U,[v.default.CONFIG,v.default.PAGE,T.default.GET_NAVIGATION_PAGES],(function(e){var t=u(e,3),n=t[0],r=t[1],o=t[2];return{currentPageId:r.getCurrentPageId(),pageLimit:n.get("limits.maxPages"),pages:o}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(10),d=r(c),f=n(17),p=r(f),h=n(9),m=r(h),g=n(11),_=n(8),y=r(_),b=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleLinkClick=n.handleLinkClick.bind(n),n}return i(t,e),u(t,[{key:"handleLinkClick",value:function(e){var t=this.props.shopPage,n=t.get("id");this.context.executeAction(p.default,{routeName:d.default.EDIT,params:{websiteId:t.get("websiteId"),pageId:n},preserveScrollPosition:!0}),(0,g.logEvent)({code:m.default.edit_site.shop_page_link,domEvent:e})}},{key:"render",value:function(){var e=this.props.shopPage;if(!e)return null;var t=e.get("name");return s.default.createElement("div",{className:"shop-page-link","data-aid":y.default.SHOP_PAGE_LINK_TITLE,onMouseDown:this.handleLinkClick,onTouchEnd:this.handleLinkClick,s:!0},t)}}]),t})(l.Component);t.default=b,b.contextTypes={executeAction:l.PropTypes.func.isRequired},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(2),f=n(134),p=r(f),h=n(1160),m=n(3),g=r(m),_=n(6),y=n(1090),b=r(y),v=n(9),E=r(v),T=n(224),O=r(T),P=n(5),w=r(P),I=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={views:[]},n.handleFeedbackClick=n.handleFeedbackClick.bind(n),n.shouldComponentUpdate=w.default.shouldComponentUpdate.bind(n),n.handlePushView=n.handlePushView.bind(n),n.handlePopView=n.handlePopView.bind(n),n}return i(t,e),l(t,[{key:"handleFeedbackClick",value:function(){this.context.executeAction(O.default,{showFeedbackPanel:!0})}},{key:"handlePushView",value:function(e){var t=this.state.views;this.setState({views:t.concat(e)})}},{key:"handlePopView",value:function(){var e=this.state.views;this.setState({views:e.slice(0,e.length-1)})}},{key:"generateFeedbackButton",value:function(){var e=this.props,t=e.feedbackEmail,n=e.hideFeedbackInPanel,r=e.showFeedbackButton;if(!n)return null;var o=this.context.getIntlString,a=r?"feedback-show":"feedback-hide";return c.default.createElement("div",{id:"feedback",className:a},c.default.createElement("a",{href:"mailto:"+t,"data-traffic2":E.default.editor_side_menu.launch_uservoice_feedback},o("feedback")))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.hideFeedbackInPanel,n=e.userVoicePromise;if(t){var r=function(){window.UserVoice.push(["addTrigger","#feedback",{mode:"smartvote",accent_color:"#77C043"}])};n.then(r).catch(d.noop)}}},{key:"componentWillReceiveProps",value:function(e){this.props.showControlPanel&&!e.showControlPanel&&this.setState({views:[]})}},{key:"render",value:function(){var e=this.props,t=e.hideFeedbackInPanel,n=e.userVoicePromise,r=e.showControlPanel,o=this.state.views,a=[c.default.createElement(b.default,{hideFeedbackInPanel:t,userVoicePromise:n,visible:r,handlePushView:this.handlePushView,handlePopView:this.handlePopView})].concat(o);return c.default.createElement("div",{className:"left-drawer"},c.default.createElement(p.default,{ref:"navigationController",className:"panel panel-default",transitionTension:h.transitionTension,transitionFriction:h.transitionFriction},a.map((function(e,t){return c.default.createElement("div",{key:t},e)}))),this.generateFeedbackButton())}}]),t})(c.default.Component);I.contextTypes={getStore:s.PropTypes.func.isRequired,executeAction:s.PropTypes.func.isRequired,getIntlString:s.PropTypes.func.isRequired},t.default=(0,_.subscribeToStores)(I,[g.default.APP,g.default.CONFIG],(function(e){var t=u(e,2),n=t[0],r=t[1],o=n.getShowControlPanel(),a=r.get("feedbackEmail");return{showControlPanel:o,feedbackEmail:a}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(5),f=r(d),p=n(1131),h=r(p),m=n(3),g=r(m),_=n(10),y=r(_),b=n(9),v=r(b),E=n(6),T=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=f.default.shouldComponentUpdate.bind(n),n}return i(t,e),l(t,[{key:"getItems",value:function(){var e=this.props.enableThemes;return[{title:"edit",icon:"edit",routeName:y.default.EDIT,trafficId:v.default.edit_site.edit_tab,activeAt:new Set([y.default.EDIT,y.default.EDIT_ADD_SECTION,y.default.EDIT_ADD_SECTION_TYPE,y.default.EDIT_WIDGET,y.default.EDIT_WIDGET_MUTATOR,y.default.EDIT_WIDGET_PROPS,y.default.EDIT_WIDGET_STOCK_PHOTOS,y.default.EDIT_WIDGET_MY_PHOTOS,y.default.EDIT_WIDGET_PROP,y.default.EDIT_WIDGET_EDIT_BG,y.default.EDIT_WIDGET_EDIT_IMG,y.default.EDIT_WIDGET_PROP_EDIT_BG,y.default.EDIT_WIDGET_PROP_EDIT_IMG,y.default.EDIT_WIDGET_DATA])},{title:"styles",icon:"settings3",trafficId:e?v.default.edit_site.styles_tab_new:v.default.edit_site.styles_tab,routeName:y.default.EDIT_STYLES,activeAt:new Set([y.default.EDIT_STYLES,y.default.EDIT_COLORS,y.default.EDIT_FONTS])}]}},{key:"render",value:function(){var e=this.props.route;return c.default.createElement(h.default,{route:e,items:this.getItems()})}}]),t})(s.Component);t.default=(0,E.subscribeToStores)(T,[g.default.APP,g.default.CONFIG],(function(e){var t=u(e,2),n=t[0],r=t[1];return{enableThemes:n.isMobile()?r.getFeatureFlag("enableThemesEditorMobile"):r.getFeatureFlag("enableThemesEditor")}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(1153),p=r(f),h=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props.buttons,t=e.map((function(e){var t=e.actions,n=e.btnRoute,r=e.name,o=e.trafficId,a=e.type;return s.default.createElement(p.default,{key:r,actions:t,name:r,btnRoute:n,trafficId:o,type:a})}));return s.default.createElement("ul",{className:"nav navbar-nav tablet-navbar-buttons flex flex--center"},t)}}]),t})(l.Component);t.default=h,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=r(o);t.default=(0,a.default)({APP_ENV:null,APP_STATE:null,APP_DEBUG:null,APP_DEBUG_PERF:null}),e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={NORMAL_BUTTON:"NORMAL_BUTTON",ANCHOR_BUTTON:"ANCHOR_BUTTON"},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=r(o);t.default=(0,a.default)({INITIALIZED:null,SEARCHING:null,ERROR:null,SUCCESS:null}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=r(o);t.default=(0,a.default)({APPLY_QUEUED_HISTORY:null}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=r(o);t.default=(0,a.default)({SET_STOCK_PHOTOS:null}),e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={SOCIAL_MEDIA_MANAGER:"socialMediaManager"},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=r(o);t.default=(0,a.default)({CONNECTING:null,PROVISION_ERROR:null,PROVISION_SUCCESS:null,READY_TO_PROVISION:null,UNKNOWN:null}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=r(o);t.default=(0,a.default)({PRE_PUBLISH:null,PUBLISHING:null,PUBLISH_ERROR:null,PUBLISH_SUCCESS:null}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.all=t.COMMERCE_ORION_ID=t.BUSINESS_ULTIMATE_ORION_ID=t.BUSINESS_PRO_ORION_ID=t.BUSINESS_PLUS_ORION_ID=t.BUSINESS_ORION_ID=t.PERSONAL_ORION_ID=t.FREE_ORION_ID=void 0;var o=n(75),a=r(o),i=t.FREE_ORION_ID="00001000-0010-0001-0001-000000100000",u=t.PERSONAL_ORION_ID=a.default.v4().substring(0,18)+"-0001-000000100001",l=t.BUSINESS_ORION_ID=a.default.v4().substring(0,18)+"-0001-000000100002",s=t.BUSINESS_PLUS_ORION_ID=a.default.v4().substring(0,18)+"-0001-000000100003",c=t.BUSINESS_PRO_ORION_ID=a.default.v4().substring(0,18)+"0001-000000100004",d=t.BUSINESS_ULTIMATE_ORION_ID=a.default.v4().substring(0,18)+"-0001-000000100005",f=t.COMMERCE_ORION_ID=a.default.v4().substring(0,18)+"-0001-000000100006";t.all=new Set([i,u,l,s,c,d,f])},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={STOCK_IMAGES:"stockImages",NAVIGATION:"navigation",LOGO:"logo"},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={ACTIVE:"active",SUSPENDED:"suspended",INITIALIZED:"initialized",ABUSE_SUSPENDED:"abuse_suspended"},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=O[t],r=n.stores,o=n.reducer;return o(r.map((function(t){return e.getStore(t)})))}Object.defineProperty(t,"__esModule",{value:!0});var i;t.reduce=a;var u=n(39),l=r(u),s=n(1165),c=r(s),d=n(1167),f=r(d),p=n(1168),h=r(p),m=n(1170),g=r(m),_=n(1169),y=r(_),b=n(1164),v=r(b),E=n(1166),T=r(E),O=(i={},o(i,l.default.GET_NAVIGATION_PAGES,c.default),o(i,l.default.GET_ORDERED_WIDGETS,T.default),o(i,l.default.GET_SECTION_TYPES,f.default),o(i,l.default.GET_SECTION_TYPE_GROUPS,d.getSectionTypeGroups),o(i,l.default.GET_STOCK_PHOTOS,h.default),o(i,l.default.GET_WIDGET_TO_ADD_INDEX,g.default),o(i,l.default.GET_WIDGET_RENDER_DATA,y.default),o(i,l.default.GET_LAYOUT_RENDER_DATA,v.default),i);t.default=O},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(567),a=n(3),i=r(a),u=n(1158),l=r(u),s=n(495),c=n(4),d=(0,s.buildHistoryHandlers)("update","track");d.default="catchAll",d[l.default.APPLY_QUEUED_ACTIONS]="applyQueuedActions",d[l.default.ROLLBACK_QUEUED_ACTIONS]="rollbackQueuedActions",t.default=(0,o.createStore)({storeName:i.default.ACTION,handlers:d,initialize:function(){this.actions=[],this.queuedActions=[],this.trackedActions=[]},rehydrate:function(e){this.actions=e.actions,this.queuedActions=e.queuedActions,this.trackedActions=e.trackedActions},dehydrate:function(){return{actions:this.actions,queuedActions:this.queuedActions,trackedActions:this.trackedActions}},track:function(e,t){if(!e.ignoreHistory){var n=new c.Map({actionType:t,payload:e});this.queuedActions.push(n),this.trackedActions.push(n),this.emitChange()}this.catchAll(e,t)},catchAll:function(e,t){var n=new c.Map({actionType:t,payload:e});this.actions.push(n)},applyQueuedActions:function(e){this.queuedActions.splice(0,e.length),this.emitChange()},rollbackQueuedActions:function(){this.emitChange()},getAllActions:function(){return this.actions},getQueuedActions:function(){return this.queuedActions},getTrackedActions:function(){return this.trackedActions}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(26),a=n(3),i=r(a),u=n(244),l=r(u),s=n(466),c=r(s),d=n(2),f=r(d),p=/\{(.*?)}/g;t.default=(0,o.createImmutableStore)({storeName:i.default.ADDON,getAddonLaunchUrls:function(){var e=this,t={};return f.default.each(l.default,(function(n){var r=e.dispatcher.getStore(i.default.AUTH).getResellerId(),o=e.dispatcher.getStore(i.default.CONFIG).getURL("addons."+n.toLowerCase()+".adminLink",r),a={websiteId:e.dispatcher.getStore(i.default.WEBSITE).getCurrentWebsiteId()};t[n]=e._getFormattedUrl(o,a)})),t},getAddOnProvisionStatuses:function(){var e=this,t={};return f.default.each(l.default,(function(n){var r=e.dispatcher.getStore(i.default.WEBSITE).getAddonStatus(n);t[n]=r===c.default.PROVISION_SUCCESS})),t},_getFormattedUrl:function(e,t){return e.replace(p,(function(e,n){return encodeURIComponent(t[n])}))},getShowOlsAdminLink:function(){var e=this.dispatcher.getStore(i.default.CONFIG).getPlanFeature("commerce");return e||!1}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(4),u=r(i),l=n(26),s=n(31),c=r(s),d=n(146),f=r(d),p=n(3),h=r(p),m=n(16),g=r(m);t.default=(0,l.createImmutableStore)({storeName:h.default.APP,handlers:(a={},o(a,c.default.APP_INITIALIZED,"handleInitializationCompleted"),o(a,c.default.APP_SET_NAME,"setAppName"),o(a,c.default.APP_SET_DEVICE,"setDevice"),o(a,c.default.APP_SET_ORIENTATION,"setOrientation"),o(a,c.default.APP_SET_DEVICE_AND_ORIENTATION,"setDeviceAndOrientation"),o(a,c.default.APP_TOGGLE_CONTROL_PANEL,"toggleControlPanel"),o(a,c.default.APP_TOGGLE_EMAIL_MARKETING,"toggleEmailMarketing"),o(a,c.default.APP_TOGGLE_FEEDBACK_PANEL,"toggleFeedbackPanel"),o(a,c.default.APP_TOGGLE_ADD_PAGE_PANEL,"toggleAddPagePanel"),o(a,c.default.APP_TOGGLE_ADD_LINK_PANEL,"toggleAddLinkPanel"),o(a,c.default.APP_TOGGLE_MANAGE_PAGES_PANEL,"toggleManagePagesPanel"),o(a,c.default.APP_TOGGLE_EDIT_PAGE_PANEL,"toggleEditPagePanel"),o(a,c.default.APP_TOGGLE_EDIT_LINK_PANEL,"toggleEditLinkPanel"),o(a,c.default.APP_TOGGLE_NET_PROMOTER_SCORE,"toggleNetPromoterScore"),o(a,c.default.APP_TOGGLE_SHOW_FREE_TRIAL_BANNER,"toggleFreeTrialBanner"),o(a,c.default.APP_SET_FULL_ERROR_PAGE,"setErrorPage"),o(a,f.default.REQUEST_FAILED,"setErrorPage"),o(a,c.default.APP_TOGGLE_ERROR_PAGE,"toggleErrorPage"),o(a,c.default.APP_SET_SCALE,"setScale"),o(a,c.default.APP_PUBLISH_TO_NEW_EXT_DOMAIN,"togglePublishToNewExtDomain"),a),initialize:function(){this._state=u.default.Map({isInitialized:!1,name:"",device:"",orientation:"",keyboardVisible:!1,showControlPanel:!1,showDeleteModal:!1,showGemLoading:!1,showFeedbackPanel:!1,showErrorPage:!1,showAddPagePanel:!1,showAddLinkPanel:!1,showEditPagePanel:!1,getShowEditPagePanel:!1,showFreeTrialBanner:!1,showManagePagesPanel:!1,showNetPromoterScore:!1,scales:u.default.Map({}),publishToNewExtDomain:!1,currentPage:null,renderBackButton:!1,disableShowHideToggle:!1})},handleInitializationCompleted:function(){this.mergeState({isInitialized:!0})},setAppName:function(e){this.mergeState({name:e})},setDevice:function(e){this.mergeState(e)},setOrientation:function(e){this.mergeState(e)},setDeviceAndOrientation:function(e){this.mergeState(e)},toggleControlPanel:function(e){var t="boolean"!=typeof e.showControlPanel?!this._state.get("showControlPanel"):e.showControlPanel;this.mergeState({showControlPanel:t})},toggleFeedbackPanel:function(e){this.mergeState({showFeedbackPanel:"boolean"!=typeof e.showFeedbackPanel?!this._state.get("showFeedbackPanel"):e.showFeedbackPanel})},toggleEmailMarketing:function(e){var t="boolean"!=typeof e.showGemLoading?!this._state.get("showGemLoading"):e.showGemLoading,n="string"!=typeof e.textMessage?this._state.get("textMessage"):e.textMessage;this.mergeState({showGemLoading:t,textMessage:n})},isInitialized:function(){return this._state.get("isInitialized",!1)},setErrorPage:function(e){var t=this,n=e.force;return n?void this.mergeState({showErrorPage:!0}):void this.dispatcher.waitFor([h.default.REQUEST,h.default.ROUTE],(function(){var e=t.dispatcher.getStore(h.default.REQUEST),n=t.dispatcher.getStore(h.default.ROUTE),r=n.getCurrentRoute().params,o=r.websiteId,a=r.pageId;if(e.hasFetchWebsiteFailed(o,a))return void t.mergeState({showErrorPage:!0});var i=e.hasAnyRequestFailedForTypes([g.default.SAVE,g.default.POST_PAGE_WIDGET,g.default.POST_PAGE,g.default.DELETE_PAGE_WIDGET,g.default.DELETE_PAGE_WIDGET]);i&&t.mergeState({showErrorPage:!0})}))},toggleErrorPage:function(e){var t=e.enable,n=void 0!==t&&t;this.mergeState({showErrorPage:n})},toggleAddPagePanel:function(e){var t="boolean"!=typeof e.showAddPagePanel?!this._state.get("showAddPagePanel"):e.showAddPagePanel;this.mergeState({showAddPagePanel:t,renderBackButton:e.renderBackButton,showManagePagesPanel:!t&&this._state.get("showManagePagesPanel")})},toggleAddLinkPanel:function(e){var t="boolean"!=typeof e.showAddLinkPanel?!this._state.get("showAddLinkPanel"):e.showAddLinkPanel;this.mergeState({showAddLinkPanel:t,showManagePagesPanel:!t&&this._state.get("showManagePagesPanel")})},toggleEditPagePanel:function(e){var t="boolean"!=typeof e.showEditPagePanel?!this._state.get("showEditPagePanel"):e.showEditPagePanel;this.mergeState({showEditPagePanel:t,disableShowHideToggle:t&&e.disableShowHideToggle,currentPage:t&&e.currentPage,showManagePagesPanel:!t&&this._state.get("showManagePagesPanel")})},toggleEditLinkPanel:function(e){var t="boolean"!=typeof e.showEditLinkPanel?!this._state.get("showEditLinkPanel"):e.showEditLinkPanel;this.mergeState({showEditLinkPanel:t,currentPage:t&&e.currentPage,showManagePagesPanel:!t&&this._state.get("showManagePagesPanel")})},toggleManagePagesPanel:function(e){var t="boolean"!=typeof e.showManagePagesPanel?!this._state.get("showManagePagesPanel"):e.showManagePagesPanel;this.mergeState({showManagePagesPanel:t,showEditLinkPanel:!t&&this._state.get("showEditLinkPanel"),showEditPagePanel:!t&&this._state.get("showEditPagePanel"),showAddLinkPanel:!t&&this._state.get("showAddLinkPanel"),showAddPagePanel:!t&&this._state.get("showAddPagePanel")})},toggleNetPromoterScore:function(e){var t="boolean"!=typeof e.showNetPromoterScore?!this._state.get("showNetPromoterScore"):e.showNetPromoterScore;this.mergeState({showNetPromoterScore:t})},toggleFreeTrialBanner:function(e){var t="boolean"!=typeof e.showFreeTrialBanner?!this._state.get("showFreeTrialBanner"):e.showFreeTrialBanner;this.mergeState({showFreeTrialBanner:t})},setScale:function(e){var t=e.id,n=e.scale;this.mergeState({scales:this._state.get("scales").set(t,n)})},getAppName:function(){return this._state.get("name")},getCurrentEditPage:function(){return this._state.get("currentPage")},getScaleById:function(e){return this._state.getIn(["scales",e])},getDevice:function(){return this._state.get("device")},isMobile:function(){return"mobile"===this.getDevice()},getOrientation:function(){return this._state.get("orientation")},isKeyboardVisible:function(){return this._state.get("keyboardVisible")},getShowControlPanel:function(){return this._state.get("showControlPanel")},getShowFeedbackPanel:function(){return this._state.get("showFeedbackPanel")},getGEMLoading:function(){return{showGemLoading:this._state.get("showGemLoading"),textMessage:this._state.get("textMessage")}},getShowErrorPage:function(){return this._state.get("showErrorPage")},getShowAddPagePanel:function(){return this._state.get("showAddPagePanel")},getShowAddLinkPanel:function(){return this._state.get("showAddLinkPanel")},getShowEditPagePanel:function(){return this._state.get("showEditPagePanel")},getShowEditLinkPanel:function(){return this._state.get("showEditLinkPanel")},getShowManagePagesPanel:function(){return this._state.get("showManagePagesPanel")},getShowNetPromoterScore:function(){return this._state.get("showNetPromoterScore")},getShowFreeTrialBanner:function(){return this._state.get("showFreeTrialBanner")},isOverlayAlreadyPresent:function(){return this.getShowControlPanel()},getRenderBackButton:function(){return this._state.get("renderBackButton")},getDisabledShowHideToggle:function(){return this._state.get("disableShowHideToggle")}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(4),u=n(26),l=n(3),s=r(l),c=n(176),d=r(c);t.default=(0,u.createImmutableStore)({storeName:s.default.AUTH,handlers:(a={},o(a,d.default.AUTH_SET_INFO,"setAuthInfo"),o(a,d.default.AUTH_SET_TOKENINFO,"setTokenInfo"),o(a,d.default.AUTH_REMOVE_INFO,"clearAuthInfo"),a),initialize:function(){this._state=(0,i.Map)({shopperId:null,resellerId:null})},getShopperId:function(){return this._state.get("shopperId")},getResellerId:function(){return this._state.get("resellerId")},getTokenAgeInMsec:function(){var e=this._state.get("iat");return e?new Date-e:0},setAuthInfo:function(e){var t=JSON.parse(e),n=t[t.auth]||t;this.mergeState({shopperId:n.info_shopperId||n.shopperId,resellerId:parseInt(n.plid||n.resellerId,10)})},setTokenInfo:function(e){var t=parseInt(e.iat,10);this.mergeState({iat:Number.isFinite(t)?new Date(1e3*t):null})},clearAuthInfo:function(){this.mergeState({shopperId:null,resellerId:null,iat:null})}}),e.exports=t.default},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var i,u=n(4),l=o(u),s=n(2),c=o(s),d=n(26),f=n(222),p=n(245),h=o(p),m=n(53),g=o(m),_=n(3),y=o(_),b=n(177),v=o(b);t.default=(0,d.createImmutableStore)({storeName:y.default.CONFIG,handlers:(i={},a(i,h.default.CONFIG_SET_CONFIG,"setConfig"),a(i,h.default.CONFIG_LOADED,"mergeConfig"),a(i,g.default.SET_WEBSITE,"handleSetWebsite"),i),initialize:function(){this._state=l.default.Map({config:l.default.Map({}),planFeatures:l.default.Map({})}),this._indexedQueries={}},rehydrate:function(e){this._state=l.default.fromJS(e),this._clearQueryCache()},setConfig:function(e){var t=e.config;this.mergeState({config:t}),this._clearQueryCache()},mergeConfig:function(e){var t=e.config;this.mergeState({config:this._state.get("config").mergeDeep(t),planFeatures:this.computePlanFeatures(t&&t.plans)}),this._clearQueryCache()},handleSetWebsite:function(){var e=this;this.dispatcher.waitFor([y.default.WEBSITE],(function(){e.mergeState({planFeatures:e.computePlanFeatures(e.getPlans())})}))},get:function(e,t){var n=this._getValueFromQueryCache(e);if(n)return n;for(var r=this._state.get("config"),o=e.split("."),a=0;a<o.length;a++){var i=o[a];if(!r.has(i))return t;r=r.get(i)}return r=r.toJS?r.toJS():r,this._cacheQuery(e,r),r},getAppName:function(){var e=window.location.hostname.split("."),t=e.slice(0,e.length-2);return t[t.length-1]},getRootDomain:function(e){var t=this,n=null;return e?n=this.get("org."+e+".rootDomain"):r.window&&!(function(){var e=window.location.hostname;n=(0,c.default)(t.get("org")).mapValues("rootDomain").find((function(t){return e.endsWith("."+t)}))})(),n||this.get("org.default.rootDomain")},getSupportPhoneNumber:function(e){e=e||"default";var t=this.get("support.phoneNumbers",{default:"+1 (480) 505-8877"});return t[e]||t.default},getURL:function(e,t){var n=this.get(e,""),r=this.getRootDomain(t),o=null;return t>1&&(o={pl_id:t}),(0,v.default)(n.replace("{rootDomain}",r),o)},getDashboardAccountUrl:function(){var e=this.dispatcher.getStore(y.default.AUTH),t=this.dispatcher.getStore(y.default.WEBSITE);return this.getURL("dashboard.accountUrl",e.getResellerId()).replace("{accountId}",t.getCurrentWebsiteAccountId())},getApiURL:function(){var e=this.dispatcher.getStore(y.default.AUTH);return this.getURL("api.url",e.getResellerId())},getHelpURL:function(e,t){var n=this.get("help."+c.default.camelCase(e),""),r=null;return t&&(r=this.get("org."+t+".helpDomain")),r||(r=this.get("org.default.helpDomain")),n.replace("{helpDomain}",r)},getGeoSuggestProvider:function(){return this.get("geosuggest.provider")},getFeatureFlag:function(e){return this.get("featureFlags")[e]},getPlans:function(){return this.get("plans")},getSocialURL:function(e){var t=this.get("socialconnect.url",""),n=this.getRootDomain(e);return t.replace("{rootDomain}",n)},computePlanFeatures:function(e){if(e){var t=void 0,n=void 0,r=this.dispatcher.getStore(y.default.WEBSITE),o=r.getCurrentWebsite();return o&&(t=o.get("planType"),n=o.get("createDate")),(0,f.getPlanDetails)(e,{planType:t,createDate:n})}},getPlanFeature:function(e){var t=this._state.get("planFeatures");return t.get(e)},getWidgetPromoTiers:function(){var e=this.getPlans();return e&&e.widgetPromoTiers},getWidgetGroups:function(){return this.get("widget.groups")},getMarketFonts:function(){return this.get("website.fonts")},getCurrencyDefaultsByLocale:function(){return this.get("currencyDefaultsByLocale",{})},_getValueFromQueryCache:function(e){return this._indexedQueries[e]},_cacheQuery:function(e,t){this._indexedQueries[e]=t},_clearQueryCache:function(){this._indexedQueries={}}}),e.exports=t.default}).call(t,(function(){return this})())},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(2),u=n(4),l=n(26),s=n(116),c=r(s),d=n(3),f=r(d);t.default=(0,l.createImmutableStore)({storeName:f.default.DOCUMENT,handlers:(a={},o(a,c.default.SET_DOCUMENTS,"handleSetDocuments"),o(a,c.default.ADD_DOCUMENTS,"handleAddDocuments"),o(a,c.default.EDIT_DOCUMENTS,"handleEditDocuments"),o(a,c.default.UPDATE_PROGRESS,"handleUpdateProgress"),a),initialize:function(){this._state=new u.Map({documents:new u.Map})},handleSetDocuments:function(e){var t=e.documents;this.mergeState({documents:(0,i.keyBy)(t,"filename")})},handleAddDocuments:function(e){var t=e.documents;t&&t.length&&this.mergeState({documents:this.getDocuments("",!0).merge(new u.Map((0,u.fromJS)((0,i.keyBy)(t,"filename"))))})},handleEditDocuments:function(e){var t=e.documents,n=t[0].filename,r=this.getDocuments("",!0).toJS();if(r[n]){var o=t[0].url;r[n].url=o,r[n].eTag=t[0].eTag;var a=(0,u.fromJS)(r);this.setState({documents:a,recentlyAdded:o})}},handleUpdateProgress:function(e){var t=e.filename,n=e.percentage,r=this.getDocuments("",!0).toJS();r[t]&&(r[t].progress=100*n,this.setState({documents:(0,u.fromJS)(r)}))},getPendingUploadCount:function(){return this.getDocuments("",!0).reduce((function(e,t){return t.get("uri")&&100!==t.get("progress")?e+1:e}),0)},getDocuments:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this._state.get("documents");return n.size?e?t?n.filter((function(t,n){return n.startsWith(e+"/")})):n.filter((function(t,n){return n.startsWith(e+"/")&&n.search(e+"/.+/.+")===-1})):t?n:n.filterNot((function(e,t){return t.includes("/")})):n},recentlyAdded:function(){return this._state.get("recentlyAdded")||null}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(4),u=n(26),l=n(95),s=r(l),c=n(3),d=r(c),f=["ACTIVE","UNKNOWN"];t.default=(0,u.createImmutableStore)({storeName:d.default.DOMAIN,handlers:(a={},o(a,s.default.SET_DOMAINS,"handleSetDomains"),o(a,s.default.SET_DOMAIN_SUGGESTIONS,"handleSetDomainSuggestions"),o(a,s.default.SET_DOMAIN_SEARCH,"handleSetDomainSearch"),o(a,s.default.SET_DOMAIN_AVAILABLE,"handleSetDomainAvailable"),a),initialize:function(){this._state=new i.Map({domains:new i.List,domainSuggestions:new i.List,domainSearchAlternatives:new i.List,domainExactMatch:null,isDomainAvailable:null})},handleSetDomains:function(e){var t=e.domains;this.mergeState({domains:t})},handleSetDomainSuggestions:function(e){var t=e.suggestions;this.mergeState({domainSuggestions:t})},handleSetDomainSearch:function(e){var t=e.alternatives,n=e.exactMatch;this.mergeState({domainSearchAlternatives:t,domainExactMatch:n})},handleSetDomainAvailable:function(e){var t=e.domainAvailable;this.mergeState({isDomainAvailable:t})},getDomains:function(){return this._state.get("domains")},getDomainNames:function(){return this._state.get("domains").map((function(e){return e.get("name").toLowerCase()}))},getAvailableDomainNames:function(){return this._state.get("domains").filter((function(e){return f.indexOf(e.get("status"))>-1})).map((function(e){return e.get("name").toLowerCase()}))},getDomainSuggestions:function(){return this._state.get("domainSuggestions")},getDomainSearchAlternatives:function(){return this._state.get("domainSearchAlternatives")},getDomainExactMatch:function(){return this._state.get("domainExactMatch")},getIsDomainAvailable:function(){return this._state.get("isDomainAvailable")}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(26),u=n(3),l=r(u),s=n(1208),c=r(s),d=n(495),f=n(463),p=r(f),h=n(4),m=r(h),g=(0,d.getStoresWithHistory)().map((function(e){return e.storeName}));t.default=(0,i.createImmutableStore)({storeName:l.default.HISTORY,handlers:a({},(0,d.buildHistoryHandlers)("sync","syncServerData"),(0,d.buildHistoryHandlers)("update","addChange"),o({},p.default.APPLY_QUEUED_HISTORY,"applyQueuedHistory")),initialize:function(){this._state=new h.Map({serverState:new h.Map,queuedHistory:new h.List})},addChange:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ignoreHistory;n||this.buildSnapshot((function(t){m.default.is(e.getClientState(),t)||e.mergeState({queuedHistory:e.getQueuedHistory().push(t)})}))},syncServerData:function(){var e=this;this.buildSnapshot((function(t){e.mergeState({serverState:t})}))},buildSnapshot:function(e){var t=this;this.dispatcher.waitFor(g,(function(){var n=g.reduce((function(e,n){return e.merge(t.dispatcher.getStore(n).dehydrateHistory())}),new h.Map);e(n)}))},applyQueuedHistory:function(e){
var t=this.getQueuedHistory();this.mergeState({queuedHistory:t.splice(0,e),serverState:t.get(e-1)})},getQueuedHistory:function(){return this._state.get("queuedHistory")},getQueuedHistoryCount:function(){return this.getQueuedHistory().size},getServerState:function(){return this._state.get("serverState")},getClientState:function(){return this.getQueuedHistory().get(-1,this.getServerState())},getQueuedDiff:function(){var e=this.getServerState(),t=this.getClientState(),n=(0,c.default)(e,t);return n}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(127),u=r(i),l=n(3),s=r(l),c=n(81),d=r(c);t.default=(0,u.default)({storeName:s.default.NOTIFICATION,handlers:(a={},o(a,d.default.NOTIFICATION_SEND,"handleNotificationSend"),o(a,d.default.NOTIFICATION_DISMISS,"handleNotificationDismiss"),o(a,d.default.SET_MODAL,"handleSetModal"),a),initialize:function(){this.notifications=[],this.forceModal=!1,this.modal=null},handleNotificationSend:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.notifications.unshift(e),this.emitChange()},handleNotificationDismiss:function(){this.notifications.pop(),this.emitChange()},handleSetModal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.forceModal,n=e.modal;this.modal=n,this.forceModal=t,this.emitChange()},getCurrent:function(){var e=this.notifications.length;return e>0?this.notifications[e-1]:null},getForceModal:function(){return!!this.forceModal},getModal:function(){return this.modal},isModalOpen:function(){return!!this.getModal()}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(2),u=n(4),l=n(26),s=n(82),c=r(s),d=n(83),f=r(d),p=n(3),h=r(p),m=n(498);t.default=(0,l.createImmutableStore)({storeName:h.default.PAGE,handlers:(a={},o(a,c.default.SET_CURRENT_PAGE_ID,"handleSetPageId"),o(a,c.default.SET_PAGE_AND_WIDGETS,"handleSetPageId"),o(a,c.default.SET_PAGES,"handleSetPages"),o(a,c.default.ADD_PAGE,"handleAddPage"),o(a,c.default.UPDATE_PAGE,"handleUpdatePage"),o(a,c.default.DELETE_PAGE,"handleDeletePage"),o(a,f.default.ADD_WIDGET,"handleAddWidget"),o(a,f.default.DELETE_PAGE_WIDGET,"handleDeletePageWidget"),o(a,f.default.REARRANGE_WIDGETS,"handleRearrangeWidgets"),a),trackedEvents:{sync:[c.default.SET_PAGES,c.default.ADD_PAGE,c.default.DELETE_PAGE],update:[c.default.UPDATE_PAGE,f.default.REARRANGE_WIDGETS]},initialize:function(){this._state=new u.Map({currentPageId:null,pages:new u.Map}),this._getPagesAsList=(0,i.memoize)((function(e){return e.toList().sortBy((function(e){return e.get("createDate")}))}))},handleAddPage:function(e){this.mergeState({pages:this._state.get("pages").set(e.id,(0,u.fromJS)(e))})},handleUpdatePage:function(e){var t=e.id||this.getCurrentPageId(),n=this.getPage(t);e.name&&e.name!==n.get("name")&&(e.title=e.name,e.properties=e.properties||{},e.properties.routePath=(0,m.getUniqueRoutePath)(e.name,this.getPages())),e.options||(e.options={}),e.options.isHomepage=n.get("options")&&n.get("options").get("isHomepage");var r=this.getPage(t).merge(e);this.mergeState({pages:this._state.get("pages").set(t,r)})},handleSetPageId:function(e){var t=e.pageId;this.mergeState({currentPageId:t})},handleSetPages:function(e){var t=e.pages;this.mergeState({pages:(0,i.keyBy)(t,"id")})},handleDeletePage:function(e){var t=e.pageId;this.mergeState({pages:this._state.get("pages").delete(t)})},handleAddWidget:function(e){var t=e.position,n=e.widget,r=n.type,o=this.dispatcher.getStore(h.default.REGISTRY),a=o.getAllowedPerWebsite(r),i=this.getCurrentPage().set("rootWidgets",this.getRootWidgetIds().splice(t,0,n.id));a&&(i=i.set("tags",i.get("tags").concat([r]).toSet().toList().sort())),this.mergeState({pages:this._state.get("pages").set(this.getCurrentPageId(),i)})},handleDeletePageWidget:function(e){var t=this,n=e.widget,r=n.id,o=n.type,a=this.getCurrentPage();a=a.set("rootWidgets",this.getRootWidgetIds().filter((function(e){return e!==r})));var i=a.get("tags");if(i.includes(o))this.dispatcher.waitFor(h.default.WIDGET,(function(){var e=t.dispatcher.getStore(h.default.WIDGET),n=a.get("rootWidgets").filter((function(t){return e.getWidgetTypeById(t)===o}));n.size||(a=a.set("tags",i.filter((function(e){return e!==o}))));var r=t._state.get("pages").set(a.get("id"),a);t.mergeState({pages:r})}));else{var u=this._state.get("pages").set(a.get("id"),a);this.mergeState({pages:u})}},handleRearrangeWidgets:function(e){var t=e.widgetIds,n=this.getCurrentPage().set("rootWidgets",new u.List(t));this.mergeState({pages:this._state.get("pages").set(this.getCurrentPageId(),n)})},isHomePage:function(){var e=this.dispatcher.getStore(h.default.WEBSITE).getCurrentWebsite();return!!e&&e.get("homepageId")===this.getCurrentPageId()},getCurrentPageId:function(){return this._state.get("currentPageId")},getCurrentPage:function(){return this.getPage(this.getCurrentPageId())},getPage:function(e){return this._state.get("pages").get(e,null)},getPages:function(){return this._getPagesAsList(this._state.get("pages"))},getRootWidgetIds:function(){var e=this.getCurrentPage();return e&&e.get("rootWidgets")||new u.List},findPosition:function(e){return this.getRootWidgetIds().indexOf(e)},getPagesByTag:function(e){return this._getPagesAsList(this._state.get("pages")).filter((function(t){return t.get("tags")&&t.get("tags").includes(e)}))},hasPageByTag:function(e){return!!this.getPagesByTag(e).size},getPageByRoutePath:function(e){return this.getPages().find((function(t){var n=t.getIn(["properties","routePath"]);return n===e}))},dehydrateHistory:function(){return new u.Map({pages:this._state.get("pages")})}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n={};return Object.keys(t).forEach((function(r){var o=e&&e[r]||[],a=t[r].layouts,i=(0,u.pick)(a,o);r!==w.LAYOUT||o.length||(i=a),Object.keys(i).forEach((function(e){var t=i[e]||{};t.Component&&(i[e]=t.Component,i[e].meta=t)})),n[r]=(0,y.OrderedMap)(i)})),n}Object.defineProperty(t,"__esModule",{value:!0});var i,u=n(2),l=n(117),s=r(l),c=n(53),d=r(c),f=n(15),p=n(3),h=r(p),m=n(940),g=r(m),_=n(107),y=n(4),b=n(26),v=n(222),E=n(1220),T=r(E),O=n(1219),P=r(O),w=f.constants.widgetTypes;t.default=(0,b.createImmutableStore)({storeName:h.default.REGISTRY,handlers:(i={},o(i,s.default.SET_REGISTRY,"handleSetRegistry"),o(i,d.default.SET_WEBSITE,"handleUpdateAddableWidgets"),o(i,s.default.UPDATE_REGISTRY,"updateRegistry"),o(i,s.default.SET_WIDGET_MANIFEST,"setWidgetManifest"),i),initialize:function(){this._state=new y.Map({Registry:null,registry:new y.Map,testWidget:null,widgetRuleSet:new y.Map,widgetTypes:new y.List,components:new y.Map,addableWidgetsForAllPlans:new y.List,layoutManifests:new y.Map,addableWidgets:new y.List,movableWidgets:new y.List,multipleWidgets:new y.List,widgetManifests:new y.Map,manifestExtensions:new y.Map})},setWidgetManifest:function(e){var t=e.type,n=e.manifest;this.mergeState({widgetManifests:this._state.get("widgetManifests").setIn([t],n)})},getWidgetManifest:function(e){return this._state.getIn(["widgetManifests",e])},handleSetRegistry:function(e){var t=e.Registry,n=e.registry,r=e.testWidget,o=e.manifests,i=this.dispatcher.getStore(h.default.CONFIG),l=this.dispatcher.getStore(h.default.WEBSITE),s=l.getCurrentWebsite()||new y.Map,c=(0,P.default)(i),d=i.get("widget.layouts"),f=Object.keys(n),p=a(d,n),m=(0,u.reduce)(f,(function(e,t){var r=(0,u.omit)(n[t],["label","type","layouts"]),o=c[t];return e[t]=(0,T.default)(o,r),e}),{}),g=this._getWidgetTypes({key:"addable",value:!0},m);this.mergeState({Registry:t,registry:n,testWidget:r,widgetTypes:new y.List(f),widgetRuleSet:(0,y.fromJS)(m),addableWidgetsForAllPlans:g,addableWidgets:this.getFilteredAddableWidgetTypes(g,s.toJS()),movableWidgets:this._getWidgetTypes({key:"movable",value:!0},m),multipleWidgets:this._getWidgetTypes({key:"allowMultiple",value:!0},m),components:p,layoutManifests:(0,y.fromJS)(o||{})})},handleUpdateAddableWidgets:function(e){var t=e.website;this.mergeState({addableWidgets:this.getFilteredAddableWidgetTypes(this._state.get("addableWidgetsForAllPlans"),t)})},updateRegistry:function(e){var t=e.type,n=e.preset,r=e.data,o=e.manifest,a=this._state.get("registry").setIn([t,"layouts",n],(0,y.fromJS)(r)),i=this._state.getIn(["components",t,n]);if(i){var l=i.meta||i;i=r.Component,i.meta=(0,u.omit)(l,["Component"])}var s=this._state.get("components").setIn([t,n],i||r.Component),c={registry:a,components:s};o&&(c.layoutManifests=this._state.get("layoutManifests").setIn([t,n],o)),this.mergeState(c)},getManifestExtensions:function(){return this._state.get("manifestExtensions")},loadManifestExtensions:function(e,t){var n=(0,_.instantiateExtensions)(t,g.default,e.executeAction);this.mergeState({manifestExtensions:(0,y.fromJS)(n)})},getTestWidget:function(){return this._state.get("testWidget")},getWidgetType:function(e){return this._state.get("registry").get(e)},getVariationsForType:function(e){var t=this.getWidgetType(e);return t&&t.get("layouts")||new y.Map},getVariationByType:function(e,t){return this.getVariationsForType(e).get(t)},getActiveVariationsByType:function(e){var t=this.dispatcher.getStore(h.default.CONFIG),n=t.get("widget.layouts")||{},r=this.getVariationsForType(e),o=n[e]||[];return o.length?o.reduce((function(e,t){return r.has(t)?e.set(t,r.get(t)):e}),new y.OrderedMap):new y.OrderedMap},getLayoutVariations:function(){return this.getActiveVariationsByType(w.LAYOUT)},getLayoutComponent:function(e){return this.getVariationComponentByType(w.LAYOUT,e)},getVariationComponentsByType:function(e){return e?this._state.get("components").get(e)||new y.Map({}):this._state.get("components")},getVariationComponentByType:function(e,t){return this.getVariationComponentsByType(e).get(t)},getVariationComponentForWidget:function(e){return this.getVariationComponentByType(e.get("type"),e.get("properties").get("preset"))},getVariationManifestsByType:function(e){return e?this._state.get("layoutManifests").get(e)||new y.Map({}):this._state.get("layoutManifests")},getVariationManifestByType:function(e,t){return this.getVariationManifestsByType(e).get(t)},getAllWidgetTypes:function(){return this._state.get("addableWidgetsForAllPlans")},getAddableWidgetTypes:function(){return this._state.get("addableWidgets")},getFilteredAddableWidgetTypes:function(e,t){var n=this.dispatcher.getStore(h.default.CONFIG),r=n.getPlans(),o=(0,v.getWidgetBlacklist)(r,t);return e.filter((function(e){return o.indexOf(e)===-1}))},getMovableWidgetTypes:function(){return this._state.get("movableWidgets")},getMultipleWidgetTypes:function(){return this._state.get("multipleWidgets")},getWidgets:function(){return this._state.get("registry")},getRegistry:function(){return this._state.get("Registry")},generateAlternateLayouts:function(e){var t=this.getVariationComponentsByType().get(e.get("type"));if(!t)return null;var n=t.keySeq().toList().map((function(n){var r=t.get(n);return e.mergeDeep({id:n,isShared:!1,properties:{preset:n},Component:r})}));return n},_getWidgetTypes:function(e,t){return e?(0,u.reduce)(t,(function(t,n,r){return n[e.key]===e.value&&(t=t.push(r)),t}),new y.List):t},_getRuleValue:function(e,t){var n=this._state.get("widgetRuleSet").get(e);return n&&n.get(t)},isAddable:function(e){return!!this._getRuleValue(e,"addable")},isDeletable:function(e){return!!this._getRuleValue(e,"deletable")},isMovable:function(e){return!!this._getRuleValue(e,"movable")},isMultipleAllowed:function(e){return!!this._getRuleValue(e,"allowMultiple")},isThemesEnabled:function(){var e=this.getLayoutVariations();return(e&&e.toList()||new y.List).size>1},getAllowedPerWebsite:function(e){return this._getRuleValue(e,"allowedPerWebsite")}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(127),u=r(i),l=n(2),s=n(3),c=r(s),d=n(146),f=r(d),p=n(16),h=r(p);t.default=(0,u.default)({storeName:c.default.REQUEST,handlers:(a={},o(a,f.default.REQUEST_STARTED,"handleRequestStarted"),o(a,f.default.REQUEST_SUCCEEDED,"handleRequestSucceeded"),o(a,f.default.REQUEST_FAILED,"handleRequestFailed"),a),initialize:function(){this.requests={byId:{},byType:{}}},handleRequestStarted:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.type,r=e.param,o={details:e};this.requests.byId[t]=o;var a=this.requests.byType[n]||(this.requests.byType[n]={});a[r]=o,this.emitChange()},handleRequestFailed:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.error,r=this.requests.byId[t];r&&(r.error=n||!0),this.emitChange()},handleRequestSucceeded:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=this.requests.byId[t];if(n){var r=n.details,o=r.type,a=r.param;delete this.requests.byId[t],delete this.requests.byType[o][a]}this.emitChange()},isRequestPending:function(e){var t=this._getRequest(e);return t&&!t.error||!1},isAnyRequestPending:function(e){var t=this.getRequestsByType(e);if(!t)return!1;var n=!0,r=!1,o=void 0;try{for(var a,i=Object.keys(t)[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var u=a.value;if(!t[u].error)return!0}}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return!1},hasFetchWebsiteFailed:function(e,t){var n=this;return[{type:h.default.GET_WEBSITE,param:e},{type:h.default.GET_PAGES,param:e},{type:h.default.GET_WEBSITE_WIDGETS,param:e},{type:h.default.GET_PAGE_WIDGETS,param:t}].some((function(e){return n.getRequestFailure(e)}))},isSaving:function(){return this.isAnyRequestPending(h.default.SAVE)},getRequestFailure:function(e){var t=this._getRequest(e);return t&&t.error||null},hasAnyRequestFailedForTypes:function(e){var t=this,n=(0,l.isArray)(e)?e:[e];return n.some((function(e){if(e){var n=t.getRequestsByType(e)||{};return Object.keys(n).some((function(n){return!!t.getRequestFailure({type:e,param:n})}))}}))},_getRequest:function(e){var t=e.type,n=e.param;return this.requests.byType[t]&&this.requests.byType[t][n]},getRequestsByType:function(e){return this.requests.byType[e]}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(126),a=n(1171),i=r(a);t.default=o.RouteStore.withStaticRoutes(i.default),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(4),u=r(i),l=n(26),s=n(1202),c=r(s),d=n(3),f=r(d),p=n(246),h=r(p),m=n(1163),g=r(m),_=n(1162),y=r(_),b=10;t.default=(0,l.createImmutableStore)({storeName:f.default.SHOPPER,handlers:(a={},o(a,h.default.SHOPPER_SET_SUBSCRIPTION_DETAILS,"handleSetSubscriptionDetails"),o(a,h.default.SHOPPER_SET_PAYMENT_METHOD_DETAILS,"handleSetPaymentMethodDetails"),o(a,h.default.SHOPPER_SET_AUTORENEW,"handleSetAutoRenew"),a),initialize:function(){this._state=u.default.Map({renewalPfid:null,currency:"",expiresAt:"",listPrice:null,renewAuto:!1,subscriptionId:"",paymentProfileId:"",renewalPeriodUnit:"",renewalPeriodLength:"",subscriptionStatus:"",listPriceFormatted:"",monthlyListPriceFormatted:"",isPaymentProfileAvailable:!1})},handleSetSubscriptionDetails:function(e){var t=e.renewalPfid,n=e.subscriptionId,r=e.paymentProfileId,o=e.currency,a=e.listPrice,i=e.renewalPeriodUnit,u=e.renewalPeriodLength,l=e.listPriceFormatted,s=e.monthlyListPriceFormatted,c=e.subscriptionStatus,d=e.renewAuto,f=e.expiresAt,p=!!r;this.mergeState({currency:o,expiresAt:f,listPrice:a,renewAuto:d,renewalPfid:t,subscriptionId:n,paymentProfileId:r,renewalPeriodUnit:i,renewalPeriodLength:u,subscriptionStatus:c,listPriceFormatted:l,monthlyListPriceFormatted:s,isPaymentProfileAvailable:p})},handleSetPaymentMethodDetails:function(e){var t=e.isPaymentProfileAvailable;this.mergeState({isPaymentProfileAvailable:t})},handleSetAutoRenew:function(e){this.mergeState({renewAuto:e})},getShouldRenew:function(){return this.getSubscriptionStatus()===y.default.TRIAL&&!this._state.get("renewAuto")&&!this.isTrialPeriodOver()},getSubscriptionStatus:function(){return this._state.get("subscriptionStatus")},getHasCreditCard:function(){return Boolean(this._state.get("paymentProfileId"))},getIsPaymentProfileAvailable:function(){return Boolean(this._state.get("isPaymentProfileAvailable"))},getSubscriptionId:function(){return this._state.get("subscriptionId")},getRenewalPfid:function(){return this._state.get("renewalPfid")},getRenewalLength:function(){return this._state.get("renewalPeriodLength")},getRenewalPeriodUnit:function(){return this._state.get("renewalPeriodUnit")},getTotalSubscriptionCharge:function(){return this._getFormattedPrice()},getMonthlySubscriptionCharge:function(){return this._getFormattedMonthlyPrice()},getExpirationDate:function(){return this._getParsedExpirationDate()},getDaysLeftFromExpiry:function(){return c.default.getDaysLeftBetweenGivenAndNow(this._getParsedExpirationDate())},getDaysLeftToBeLive:function(){var e=this._getExpirationDateInMS()+c.default.convertDaysIntoMS(b),t=new Date(e);return c.default.getDaysLeftBetweenGivenAndNow(t)},getExpirationDateAfterRenewal:function(){var e=this.getRenewalLength(),t=this.isYearlyRenewal()?c.default.addYearsToGivenDate(new Date,e):c.default.addMonthsToGivenDate(new Date,e),n=c.default.convertDaysIntoMS(this.getDaysLeftFromExpiry()),r=t.getTime();return new Date(r+n)},isTrialPeriodOver:function(){return this.getDaysLeftFromExpiry()<0},isSubscriptionPastExpiration:function(){return this._getExpirationDateInMS()<Date.now()},isUnderFreeTrialSuspension:function(){return this.isFreeTrialSubscription()&&this.isSubscriptionPastExpiration()},isFreeTrialSubscription:function(){return this.getSubscriptionStatus()===y.default.TRIAL},isPaidSubscription:function(){return this.getSubscriptionStatus()===y.default.PAID},isYearlyRenewal:function(){return this.getRenewalPeriodUnit()===g.default.YEAR},_getParsedExpirationDate:function(){return new Date(this._state.get("expiresAt"))},_getExpirationDateInMS:function(){return this._getParsedExpirationDate().getTime()},_getFormattedMonthlyPrice:function(){var e=this._state.get("monthlyListPriceFormatted");if(e)return e;var t=this._state.get("currency"),n=this._state.get("listPrice"),r=this.isYearlyRenewal();return n?r?Math.floor(n/(12*this.getRenewalLength())).toFixed(2)+" "+t:n.toFixed(2)+" "+t:""},_getFormattedPrice:function(){var e=this._state.get("listPriceFormatted");if(e)return e;var t=this._state.get("currency"),n=this._state.get("listPrice");return n?n.toFixed(2)+" "+t:""}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(15),a=n(26),i=n(4),u=n(3),l=r(u),s=n(1210),c=r(s);t.default=(0,a.createImmutableStore)({storeName:l.default.SOCIAL,initialize:function(){this._state=(0,i.Map)({})},getFacebookProfilePhoto:function(){var e=this.dispatcher.getStore(l.default.WIDGET),t=this.dispatcher.getStore(l.default.PAGE),n=o.constants.widgetTypes,r=/cardImage\d+$/;return e.getCurrentWidgets().sortBy((function(e){return t.findPosition(e.get("id"))})).filter((function(e){return e.get("type")===n.ABOUT})).valueSeq().map((function(e){return e.get("properties").filter((function(e,t){return!!t.toString().match(r)})).valueSeq()})).flatten().filter((function(e){return!!e})).get(0)||""},getFacebookCoverPhoto:function(){var e=this.dispatcher.getStore(l.default.WIDGET);return e.getHeader().get("properties").get("backgroundImage")||""},getFacebookAddress:function(){var e=this.dispatcher.getStore(l.default.WEBSITE),t=e.getAddress();return(0,c.default)(t)},getSocialConnectUrl:function(e){var t=e.market,n=e.appName,r=e.returnToAppText,o=this.dispatcher.getStore(l.default.WEBSITE),a=this.dispatcher.getStore(l.default.AUTH),i=this.dispatcher.getStore(l.default.CONFIG),u=o.getBusinessName(),s=this.getFacebookCoverPhoto(),c=this.getFacebookProfilePhoto(),d=o.getPhone(),f=o.getDomainName(),p=window.location.href,h=a.getShopperId(),m=a.getResellerId(),g=this.getFacebookAddress(),_=g.address,y=g.city,b=g.addressState,v=g.country,E=g.zip,T=[["VentureStore.name",u],["VentureStore.coverPhoto",s],["VentureStore.picture",c],["VentureStore.phone",d],["VentureStore.website",f],["VentureStore.address",_],["VentureStore.city",y],["VentureStore.state",b],["VentureStore.country",v],["VentureStore.zip",E],["ExternalAppStore.shopperId",h],["ExternalAppStore.resellerId",m],["ExternalAppStore.market",t],["ExternalAppStore.redirectUrl",p],["ExternalAppStore.appName",n],["ExternalAppStore.returnToAppText",r]],O=T.filter((function(e){return!!e[1]})).map((function(e){return[e[0],encodeURIComponent(e[1])]})).map((function(e){return e.join("=")})).join("&"),P=i.getURL("socialconnect.url",m);return P+O}}),e.exports=t.default},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=n(26),i=n(464),u=n(3);t.default=(0,a.createImmutableStore)({storeName:u.STOCK_PHOTO,handlers:r({},i.SET_STOCK_PHOTOS,"_handleSetPhotos"),_handleSetPhotos:function(e){var t=e.category,n=e.images;this.mergeState(r({},t,(0,o.List)(n)))},getPhotosByCategory:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,o.List)();return this.get(e)||t}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=n(50),l=r(u),s=n(4),c=n(26),d=n(96),f=n(2),p=n(1156),h=r(p),m=n(53),g=r(m),_=n(117),y=r(_),b=n(95),v=r(b),E=n(116),T=r(E),O=n(466),P=r(O),w=n(470),I=r(w),S=n(3),C=r(S),x=n(15),k=n(65),D=r(k),A=n(469),M=r(A),N=n(82),R=r(N),j=x.constants.colorPackCategories;t.default=(0,c.createImmutableStore)({storeName:C.default.WEBSITE,handlers:(a={},o(a,g.default.SET_CURRENT_WEBSITE_ID,"handleSetCurrentWebsiteId"),o(a,g.default.SET_WEBSITE,"handleSetWebsite"),o(a,g.default.SET_WEBSITE_PROPERTIES,"handleSetWebsiteProperties"),o(a,g.default.SET_WEBSITE_OPTIONS,"handleSetWebsiteOptions"),o(a,g.default.SET_WEBSITE_DATA,"handleSetWebsiteData"),o(a,g.default.SET_WEBSITE_DOMAIN,"handleSetWebsiteDomain"),o(a,g.default.SET_WEBSITE_THEME,"handleSetWebsiteTheme"),o(a,g.default.CLEAR_WEBSITE,"handleClearWebsite"),o(a,y.default.SET_REGISTRY,"handleSetRegistry"),o(a,v.default.SET_DOMAINS,"handleDomainsLoaded"),o(a,R.default.ADD_PAGE,"handleAddPage"),o(a,R.default.DELETE_PAGE,"handleDeletePage"),o(a,g.default.PATCH_WEBSITE,"handlePatchWebsite"),o(a,T.default.EDIT_DOCUMENTS,"handleEditDocuments"),a),trackedEvents:{sync:[g.default.SET_WEBSITE],update:[g.default.SET_WEBSITE_PROPERTIES,g.default.SET_WEBSITE_OPTIONS,g.default.SET_WEBSITE_DATA,g.default.SET_WEBSITE_DOMAIN,g.default.SET_WEBSITE_THEME,g.default.PATCH_WEBSITE]},initialize:function(){this._state=new s.Map({currentWebsiteId:null,websites:new s.Map})},dehydrateHistory:function(){return new s.Map({websites:this.getWebsites().map((function(e){return new s.Map({properties:e.get("properties"),domainName:e.get("domainName"),data:e.get("data"),options:e.get("options")})}))})},handleSetCurrentWebsiteId:function(e){var t=e.websiteId;this.getCurrentWebsiteId()!==t&&this.mergeState({currentWebsiteId:t,websites:this.getWebsites().delete(t)})},handleSetWebsite:function(e){var t=e.website;t.id===this.getCurrentWebsiteId()&&this.mergeState({websites:this.getWebsites().set(t.id,(0,s.fromJS)(t))})},handleSetWebsiteDomain:function(e){var t=this.getCurrentWebsite();t&&(t=t.set("domainName",e),this.mergeState({websites:this.getWebsites().set(t.get("id"),t)}))},handleSetWebsiteTheme:function(e){var t=this,n=e.id,r=e.packs,o=void 0===r?{}:r,a=e.packCategories,i=void 0===a?{}:a,u=this.getCurrentWebsite();u&&!(function(){var e=t.dispatcher.getStore(C.default.REGISTRY),r=e.isThemesEnabled()?{layout:n,theme:""}:{layout:t.getDefaultLayout(),theme:n};Object.keys(o).forEach((function(e){r[e+"Pack"]=o[e]})),Object.keys(i).forEach((function(e){r[e+"PackCategory"]=i[e]})),u=u.mergeIn(["properties"],r),t.mergeState({websites:t.getWebsites().set(u.get("id"),u)})})()},handleClearWebsite:function(e){var t=e.websiteId;return this.mergeState({websites:this.getWebsites().delete(t)})},handleSetRegistry:function(){var e=this;this.dispatcher.waitFor([C.default.REGISTRY],(function(){return e.emitChange()}))},handleDomainsLoaded:function(){var e=this;this.dispatcher.waitFor([C.default.DOMAIN],(function(){var t=e.dispatcher.getStore(C.default.DOMAIN),n=e.dispatcher.getStore(C.default.CONFIG),r=e.getDomainName(),o=e.getExternalDomainName(),a=t.getDomainNames();if(r&&!(0,d.isDpsSubdomain)(n,r)&&!a.includes(r.toLowerCase())&&r.toLowerCase()!==o){var i=e.getDpsSubdomain()||(0,d.generateDpsDomain)(n,e.getBusinessName());e.handleSetWebsiteDomain(i)}}))},handleAddPage:function(e){var t=this.getNavigation().push(e.id);this.handleSetWebsiteData(new s.Map({navigation:t}))},handleDeletePage:function(e){var t=e.pageId,n=this.getNavigation().filter((function(e){return e!==t}));this.handleSetWebsiteData(new s.Map({navigation:n}))},getDomainName:function(){var e=this.getCurrentWebsite();return e?e.get(D.default.DOMAIN_NAME,""):""},getDpsSubdomain:function(){return this._getWebsiteProperty(D.default.DPS_SUBDOMAIN,"")},getExternalDomainName:function(){return this._getWebsiteProperty(D.default.EXTERNAL_DOMAIN_NAME,"")},getPublishedUrl:function(){var e=this.getDomainName();if(!e)return null;var t=!e.includes(".godaddysites");return t?e:this.getFirstPublishDate()?e:null},getWebsites:function(){return this._state.get("websites")},getCurrentWebsiteId:function(){return this._state.get(D.default.WEBSITE_ID)},getCurrentWebsiteAccountId:function(){var e=this.getCurrentWebsite();return e?e.get(D.default.ACCOUNT_ID):""},getCurrentWebsite:function(){return this.getWebsites().get(this.getCurrentWebsiteId())||null},getPublishedDomainType:function(){var e=this.dispatcher.getStore(C.default.CONFIG),t=this.getDomainName();if((0,d.isDpsSubdomain)(e,t))return h.default.DPS_SUBDOMAIN;var n=this._getWebsiteProperty(D.default.EXTERNAL_DOMAIN_NAME);return t===n?h.default.EXTERNAL:h.default.GODADDY},handleSetWebsiteProperties:function(e){var t=this.getCurrentWebsite();t&&(e=this._cleanAddress(e),t=this._updateSubdomain(t,e),t=t.set("properties",t.get("properties").merge(e)),this.mergeState({websites:this.getWebsites().set(t.get("id"),t)}))},_updateSubdomain:function(e,t){var n=this.dispatcher.getStore(C.default.CONFIG),r=D.default.BUSINESS_NAME,o=D.default.DPS_SUBDOMAIN,a=t.businessName;if(t.hasOwnProperty(r)&&a!==this.getBusinessName()&&(0,d.isDpsSubdomain)(n,this.getDomainName())){var i=(0,d.generateDpsDomain)(n,a);e=e.set("domainName",i),e=e.setIn(["properties",o],"")}return e},handleSetWebsiteOptions:function(e){var t=this.getCurrentWebsite(),n=t.get("options",new s.Map);t&&(t=t.set("options",n.merge(e)),this.mergeState({websites:this.getWebsites().set(t.get("id"),t)}))},handleSetWebsiteData:function(e){var t=this.getCurrentWebsite(),n=t.get("data",new s.Map);t&&this.mergeState({websites:this.getWebsites().set(t.get("id"),t.set("data",n.merge((0,s.fromJS)(e))))})},handlePatchWebsite:function(e){var t={},n={},r={};(0,f.forIn)(e,(function(e,o){"boolean"==typeof e?r[o]=e:"object"===("undefined"==typeof e?"undefined":i(e))?n[o]=e:t[o]=e})),(0,f.isEmpty)(t)||this.handleSetWebsiteProperties(t),(0,f.isEmpty)(n)||this.handleSetWebsiteData(n),(0,f.isEmpty)(r)||this.handleSetWebsiteOptions(r)},handleEditDocuments:function(e){var t=e.documents,n=e.basePath;"logo"===n&&this.handleSetWebsiteData({logo:{logoUrl:t[0].url}})},getCurrentOrDefaultColorPackId:function(){return this.getCurrentOrDefaultColorPack().id},getCurrentOrDefaultColorPack:function(){return l.default.colors.getPackById(this.getColorPackName())||l.default.colors.getDefaultPack()},getColorPackName:function(){return this._getWebsiteProperty(D.default.COLOR_PACK)},getColorPackCategory:function(){return this._getWebsiteProperty(D.default.COLOR_PACK_CATEGORY,j.PRIMARY)},getBusinessName:function(){return this._getWebsiteProperty(D.default.BUSINESS_NAME,"")},getBusinessCategory:function(){return this._getWebsiteProperty(D.default.BUSINESS_CATEGORY,"")},getCurrentOrDefaultFontPackId:function(){return this.getCurrentOrDefaultFontPack().id},getCurrentOrDefaultFontPack:function(){return l.default.fonts.getPackById(this.getFontPackName())||l.default.fonts.getDefaultPack()},getFontPackName:function(){return this._getWebsiteProperty(D.default.FONT_PACK)},getLayout:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._getWebsiteProperty(D.default.LAYOUT,e)},getDefaultLayout:function(){return"layout1"},getLayoutOrDefault:function(){return this.getLayout(this.getDefaultLayout())},getEmail:function(){return this._getWebsiteProperty(D.default.EMAIL,"")},getAddress:function(){return this._getWebsiteProperty(D.default.ADDRESS,"")},getPhone:function(){return this._getWebsiteProperty(D.default.PHONE,"")},getFirstPublishDate:function(){return this._getWebsiteProperty(D.default.FIRST_PUBLISH_DATE)},getAddonStatus:function(e){return this._getWebsiteProperty(e.toLowerCase()+"Status",P.default.UNKNOWN)},getStockImages:function(){return this._getWebsiteDataField(M.default.STOCK_IMAGES,new s.List)},getLogo:function(){return this._getWebsiteDataField(M.default.LOGO,new s.Map({logoText:this.getBusinessName()}))},getFacebookProfile:function(){return this._getWebsiteProperty(D.default.FACEBOOK_PROFILE,"")},getTwitterProfile:function(){return this._getWebsiteProperty(D.default.TWITTER_PROFILE,"")},getInstagramProfile:function(){return this._getWebsiteProperty(D.default.INSTAGRAM_PROFILE,"")},getPinterestProfile:function(){return this._getWebsiteProperty(D.default.PINTEREST_PROFILE,"")},getLinkedinProfile:function(){return this._getWebsiteProperty(D.default.LINKEDIN_PROFILE,"")},getYoutubeProfile:function(){return this._getWebsiteProperty(D.default.YOUTUBE_PROFILE,"")},getGooglePlusProfile:function(){return this._getWebsiteProperty(D.default.GOOGLEPLUS_PROFILE,"")},getGATrackingID:function(){return this._getWebsiteProperty(D.default.GA_TRACKING_ID,"")},getNpsSurveyLastDismissed:function(){return new Date(this._getWebsiteProperty(D.default.NPS_LAST_DISMISSED,""))},getNPSSurveyStatus:function(){return this._getWebsiteOption(D.default.NPS_COMPLETE,!1)},hasSocialProfiles:function(){return!!(this.getFacebookProfile()||this.getTwitterProfile()||this.getInstagramProfile()||this.getPinterestProfile()||this.getLinkedinProfile()||this.getYoutubeProfile()||this.getGooglePlusProfile())},getNavigation:function(){return this._getWebsiteDataField(M.default.NAVIGATION,new s.List)},getCreateDate:function(){var e=this.getCurrentWebsite();return e&&e.get("createDate")},getWebsiteStatus:function(){var e=this.getCurrentWebsite();return e&&e.get("status")},isWebsiteSuspended:function(){var e=this.getWebsiteStatus();return e===I.default.SUSPENDED},isWebsiteAbuseSuspended:function(){var e=this.getWebsiteStatus();return e===I.default.ABUSE_SUSPENDED;
},getThemeId:function(e){return this._getWebsiteProperty(D.default.THEME_PACK,e)},getThemeIdOrDefault:function(){var e=this.getLayoutOrDefault(),t=this.getDefaultLayout();if(e!==t)return e;var n=this.getThemeId(!1);return n!==!1?1===n.length?"layout"+n:n:t},_getWebsiteProperty:function(e,t,n){var r=n||this.getCurrentWebsite(),o=r&&r.get("properties");return o&&o.get(e)||t},_getWebsiteOption:function(e,t,n){var r=n||this.getCurrentWebsite(),o=r&&r.get("options");return o&&o.get(e)||t},_getWebsiteDataField:function(e,t,n){var r=n||this.getCurrentWebsite(),o=r&&r.get("data");return o&&o.get(e)||t},_cleanAddress:function(e){return!e.address||e.lat&&e.lng?e:(0,f.assign)({},e,{lat:"",lng:""})}}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=n(2),l=r(u),s=n(4),c=n(26),d=n(15),f=n(82),p=r(f),h=n(83),m=r(h),g=n(117),_=r(g),y=n(116),b=r(y),v=n(3),E=r(v),T=d.constants.widgetTypes;t.default=(0,c.createImmutableStore)({storeName:E.default.WIDGET,handlers:(a={},o(a,m.default.ADD_WIDGET,"_handleAddWidget"),o(a,m.default.SET_PREVIEW_WIDGET,"_handleSetPreviewWidget"),o(a,m.default.DELETE_PAGE_WIDGET,"_handleDeletePageWidget"),o(a,m.default.SET_SHARED_WIDGETS,"_handleSetSharedWidgets"),o(a,m.default.SET_WIDGET_ID,"_handleSetWidgetId"),o(a,m.default.UPDATE_WIDGET,"_handleUpdateWidget"),o(a,_.default.SET_REGISTRY,"_handleSetRegistry"),o(a,b.default.EDIT_DOCUMENTS,"_handleDocumentsUpdated"),o(a,p.default.SET_PAGE_AND_WIDGETS,"_handleSetPageWidgets"),a),trackedEvents:{sync:[m.default.SET_SHARED_WIDGETS,p.default.SET_PAGE_AND_WIDGETS,m.default.ADD_WIDGET,m.default.DELETE_PAGE_WIDGET],update:[m.default.UPDATE_CATEGORIES,m.default.UPDATE_WIDGET,b.default.EDIT_DOCUMENTS]},initialize:function(){this._state=new s.Map({currentWidgetId:null,previewWidget:null,sharedWidgets:new s.OrderedMap,pageWidgets:new s.OrderedMap,updatedWidgets:new s.OrderedMap})},dehydrateHistory:function(){return new s.Map({widgets:this.getCurrentWidgets().merge(this.getUpdatedWidgets())})},_handleAddWidget:function(e){var t=e.widget;this.mergeState({pageWidgets:this.getPageWidgets().set(t.id,(0,s.fromJS)(this._normalizeWidget(t)))})},_handleSetPreviewWidget:function(e){var t=e.widget;this.mergeState({previewWidget:(0,s.fromJS)(t)})},_handleDeletePageWidget:function(e){var t=e.widget;this.mergeState({pageWidgets:this.getPageWidgets().delete(t.id)})},_handleSetPageWidgets:function(e){var t=e.widgets;this._storeWidgets("pageWidgets",t)},_handleSetSharedWidgets:function(e){var t=e.widgets;this._storeWidgets("sharedWidgets",t)},_handleUpdateWidget:function(e){var t=this,n=e.widgetId,r=e.params,o=e.overwrite,a=function(e){return t._tryUpdateWidget(e,r,o)};this.mergeState({sharedWidgets:this.getSharedWidgets().update(n,a),pageWidgets:this.getPageWidgets().update(n,a)}),this._recordWidgetUpdate(n,a)},_handleSetWidgetId:function(e){var t=e.widgetId;this.mergeState({currentWidgetId:t})},_handleSetRegistry:function(){var e=this;this.dispatcher.waitFor([E.default.REGISTRY],(function(){return e.emitChange()}))},_handleDocumentsUpdated:function(e){var t=e.documents,n=e.widgetId,r=e.widgetMatcher;if(n&&r){var o=this.getWidgetById(n);if(o){var a=r(o,t);a&&this._handleUpdateWidget({widgetId:n,params:a})}}},_recordWidgetUpdate:function(e,t){var n=this.getWidgetById(e);if(n){var r=null===this.getUpdatedWidgets().get(e,null)?this.getUpdatedWidgets().merge(new s.OrderedMap([[e,n]])):this.getUpdatedWidgets();this.mergeState({updatedWidgets:r.update(e,t)})}},getWidgetById:function(e){return this.getPageWidgets().get(e)||this.getSharedWidgets().get(e)||this.getUpdatedWidgets().get(e)||null},getCurrentWidget:function(){return this.getWidgetById(this._state.get("currentWidgetId"))},getHeader:function(){return this._findSharedWidgetByType(T.HEADER)},getFooter:function(){return this._findSharedWidgetByType(T.FOOTER)},getPreviewWidget:function(){return this._state.get("previewWidget")},getPageWidgets:function(){return this._state.get("pageWidgets")},getUpdatedWidgets:function(){return this._state.get("updatedWidgets")},getSharedWidgets:function(){return this._state.get("sharedWidgets")},getCurrentWidgets:function(){return this.getSharedWidgets().concat(this.getPageWidgets())},containsWidgetType:function(e){return this.getCurrentWidgets().filter((function(t){return t.get("type")===e})).size>0},getWidgetTypeById:function(e){var t=this.getWidgetById(e);return t&&t.get("type")},getPageWidgetsByType:function(e){return this.getPageWidgets().filter((function(t){return t.get("type")===e}))},_findSharedWidgetByType:function(e){return this.getSharedWidgets().find((function(t){return t.get("type")===e}))||null},_storeWidgets:function(e,t){this.mergeState(o({},e,(0,l.default)(t).map(this._normalizeWidget).keyBy("id").value()))},_tryUpdateWidget:function(e,t,n){var r=this;if(!e)return void e;var o={},a=e.toJS();return l.default.each(t,(function(e,t){var i=null===e||"undefined"==typeof e,u=r._getCollection(a,t,e);n?i?delete a[u][t]:a[u][t]=e:(o[u]||(o[u]={}),o[u][t]=e)})),n?(0,s.fromJS)(a):e.mergeDeep((0,s.fromJS)(o))},_getCollection:function(e,t,n){var r=void 0;if(null===n||"undefined"==typeof n)r=Object.keys(e.properties).indexOf(t)!==-1?"properties":Object.keys(e.options).indexOf(t)!==-1?"options":"data";else switch("undefined"==typeof n?"undefined":i(n)){case"boolean":r="options";break;case"object":r="data";break;default:r="properties"}return r},_normalizeWidget:function(e){return e.options||(e.options={}),e.properties||(e.properties={}),e.data||(e.data={}),e}}),e.exports=t.default},function(e,t){"use strict";function n(e){return 1-Math.pow(1-e,2)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t){"use strict";function n(e){return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t){"use strict";function n(e,t,r){if(!(r<=0)){var o=t-e.scrollTop,a=o/r*10;setTimeout((function(){e.scrollTop=e.scrollTop+a,e.scrollTop!==t&&n(e,t,r-10)}),10)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){var r=a(e.name);r=u(r,t);var o=s.default.v4(),i=new d.default;return i.append("file",e,r),{data:i,filename:r,requestId:o,basePath:n}}function a(e){return(e||"").replace(/[\\\/?#'"]/g,"_")}function i(e){var t=e.lastIndexOf(".");return t===-1&&(t=e.length),{name:e.substring(0,t),extension:e.substring(t+1)}}function u(e,t){if(!t||t.length<1)return e;if(!t.find((function(t){return t===e})))return e;var n=(new Date).valueOf().toString(32)+"_"+Math.floor(1e6*Math.random()),r=e.lastIndexOf(".");return r<0?e+"_"+n:e.substring(0,r)+"_"+n+"."+e.substring(r+1)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(75),s=r(l),c=n(569),d=r(c);t.default={generateFileUploadInfo:o,ensureUniqueFilename:u,splitFileName:i},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={contactFormFields:[{type:"EMAIL",fieldId:"d51dbce8-3af0-4a72-899d-1276613552e6",label:"Email",validation:"email",required:!0,replyTo:!0},{type:"SINGLE_LINE",fieldId:"b3aa8d6c-fc23-4f7a-a764-f5243217cc7d",label:"Name"},{type:"MULTI_LINE",fieldId:"93801f3f-1174-4927-b767-7780052c550e",label:"Message"},{type:"SUBMIT",fieldId:"ba6d6d79-8e12-4412-996e-1d1d20f574b9",label:"Send"}]},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){return Object.keys(u.default).map((function(e){return n(617)("./"+u.default[e])})).filter((function(e){return e.prototype&&e.prototype.dehydrateHistory}))}function a(e,t){return o().map((function(e){return e.prototype.trackedEvents})).map((function(n){return(0,l.zipObject)(n[e],n[e].map((function(){return t})))})).reduce(l.extend)}Object.defineProperty(t,"__esModule",{value:!0}),t.getStoresWithHistory=o,t.buildHistoryHandlers=a;var i=n(3),u=r(i),l=n(2)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){var t=/\.ics/i;return t.test(e)},r=function(e){var t=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,18}(?:\.[a-z]{2})?)$/i;return t.test(e)};t.default={validateIcalUrl:n,validateEmail:r},e.exports=t.default},function(e,t){"use strict";function n(e){e=e||"en-US";var t=e.split("-")[1].toLowerCase();return"gb"===t?"uk":["us","lg","ps","pz","qa"].includes(t)?"www":t}function r(e){return o.has(e)?e.split("-")[0].toLowerCase()+"/":""}Object.defineProperty(t,"__esModule",{value:!0}),t.getSeoSubdomain=n,t.getURIPathLanguage=r;var o=new Set(["en-HK","en-IL","es-US","fil-PH","fr-BE","fr-CA","fr-CH","hi-IN","it-CH","mr-IN","ms-MY","qa-LG","qa-PS","qa-PZ","qa-QA","ta-IN","zh-SG"])},function(e,t){"use strict";function n(e,t){var n="/"+e+"(-)?(\\d)?",r=new RegExp(n),o=t.reduce((function(e,t){var n=r.exec(t.getIn(["properties","routePath"]));return n&&n[2]&&e.push(parseInt(n[2],10)),e}),[]).sort((function(e,t){return t-e}))[0],a=o?o+1:1;return e+"-"+a}function r(e,t){var r=a(e),o=t.find((function(e){return e.getIn(["properties","routePath"])==="/"+r}))?n(r,t):r;return"/"+o}function o(e){return e.trim().replace(i,"-").replace(u,"").toLowerCase()}function a(e){var t=o(e),n=encodeURIComponent(t);return n}Object.defineProperty(t,"__esModule",{value:!0});var i=/[-_\.\!\~\*\s]+/g,u=/(?:[\'\(\)]+)|(?:^-+)|(?:-+$)/g;t.normalizePageName=a,t.getUniqueRoutePath=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e.getIn(["options","isHomepage"],!1)},r=function(e){return!n(e)},o=function(e){return!n(e)};t.default={isHomepage:n,isPageDeletable:r,isPageMovable:o},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!n)return Promise.resolve();var r=new Promise(function(t,n){if(window.UserVoice)return t();var r=window.document.createElement("script");r.async=!0,r.onload=t,r.src=e,document.body.appendChild(r);var o=3e3;setTimeout(n,o)});return t&&r.then((function(){var e=a(t);(0,i.isEqual)(window.vNext_userVoice_identity,e)||(window.vNext_userVoice_identity=(0,i.cloneDeep)(e),window.UserVoice.push(["identify",e]))})),r}function a(e){var t=e.get("properties"),n=t.get(l.default.EMAIL)||"",r=e.get(l.default.CREATE_DATE);r=r?Math.floor(new Date(r)/1e3):0;var o={name:t.get(l.default.BUSINESS_NAME)||"",created_at:r,type:e.get(l.default.SHOPPER_ID)+" | "+(t.get(l.default.BUSINESS_CATEGORY)||""),account:{id:e.get(l.default.SHOPPER_ID)||"",name:e.get(l.default.DOMAIN_NAME)||"",plan:e.get(l.default.PLAN_TYPE)||""}};return n&&(o.email=n),o}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),u=n(65),l=r(u);t.default={loadService:o,generateIdentity:a},e.exports=t.default},function(e,t){"use strict";function n(e,t){for(var n=e,r=e,o=0,a=t?String(t).split("/"):[];o<a.length&&n;)n=r.get("sectionTypes"),n=n&&n.get(parseInt(a[o],10)),n&&(r=n),o++;return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){e.exports={default:n(1232),__esModule:!0}},function(e,t,n){e.exports={default:n(1236),__esModule:!0}},function(e,t,n){e.exports={default:n(1237),__esModule:!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(1224),a=r(o),i=n(1222),u=r(i),l=n(257),s=r(l);t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":(0,s.default)(t)));e.prototype=(0,u.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(a.default?(0,a.default)(e,t):e.__proto__=t)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(257),a=r(o);t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":(0,a.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){var r=n(1241);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(148),o=n(86).document,a=r(o)&&r(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},function(e,t,n){e.exports=!n(97)&&!n(121)((function(){return 7!=Object.defineProperty(n(508)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(258);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){"use strict";var r=n(261),o=n(98),a=n(517),i=n(122),u=n(99),l=n(181),s=n(1248),c=n(264),d=n(514),f=n(87)("iterator"),p=!([].keys&&"next"in[].keys()),h="@@iterator",m="keys",g="values",_=function(){return this};e.exports=function(e,t,n,y,b,v,E){s(n,t,y);var T,O,P,w=function(e){if(!p&&e in x)return x[e];switch(e){case m:return function(){return new n(this,e)};case g:return function(){return new n(this,e)}}return function(){return new n(this,e)}},I=t+" Iterator",S=b==g,C=!1,x=e.prototype,k=x[f]||x[h]||b&&x[b],D=k||w(b),A=b?S?w("entries"):D:void 0,M="Array"==t?x.entries||k:k;if(M&&(P=d(M.call(new e)),P!==Object.prototype&&(c(P,I,!0),r||u(P,f)||i(P,f,_))),S&&k&&k.name!==g&&(C=!0,D=function(){return k.call(this)}),r&&!E||!p&&!C&&x[f]||i(x,f,D),l[t]=D,l[I]=_,b)if(T={values:S?D:w(g),keys:v?D:w(m),entries:A},E)for(O in T)O in x||a(x,O,T[O]);else o(o.P+o.F*(p||C),t,T);return T}},function(e,t,n){var r=n(182),o=n(183),a=n(101),i=n(268),u=n(99),l=n(509),s=Object.getOwnPropertyDescriptor;t.f=n(97)?s:function(e,t){if(e=a(e),t=i(t,!0),l)try{return s(e,t)}catch(e){}if(u(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(515),o=n(260).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){var r=n(99),o=n(184),a=n(265)("IE_PROTO"),i=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?i:null}},function(e,t,n){var r=n(99),o=n(101),a=n(1243)(!1),i=n(265)("IE_PROTO");e.exports=function(e,t){var n,u=o(e),l=0,s=[];for(n in u)n!=i&&r(u,n)&&s.push(n);for(;t.length>l;)r(u,n=t[l++])&&(~a(s,n)||s.push(n));return s}},function(e,t,n){var r=n(98),o=n(54),a=n(121);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],i={};i[e]=t(n),r(r.S+r.F*a((function(){n(1)})),"Object",i)}},function(e,t,n){e.exports=n(122)},function(e,t,n){"use strict";var r=n(1256)(!0);n(511)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){n(1261);for(var r=n(86),o=n(122),a=n(181),i=n(87)("toStringTag"),u=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],l=0;l<5;l++){var s=u[l],c=r[s],d=c&&c.prototype;d&&!d[i]&&o(d,i,s),a[s]=a.Array}},,,,,,,,,,,,,,,,,,,,,function(e,t){},540,540,540,540,540,540,540,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports=FormData},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){function r(e){return n(o(e))}function o(e){return a[e]||(function(){throw new Error("Cannot find module '"+e+"'.")})()}var a={"./ActionStore":472,"./ActionStore.js":472,"./AddonStore":473,"./AddonStore.js":473,"./AppStore":474,"./AppStore.js":474,"./AuthStore":475,"./AuthStore.js":475,"./ConfigStore":476,"./ConfigStore.js":476,"./DocumentStore":477,"./DocumentStore.js":477,"./DomainStore":478,"./DomainStore.js":478,"./HistoryStore":479,"./HistoryStore.js":479,"./NotificationStore":480,"./NotificationStore.js":480,"./PageStore":481,"./PageStore.js":481,"./RegistryStore":482,"./RegistryStore.js":482,"./RequestStore":483,"./RequestStore.js":483,"./RouteStore":484,"./RouteStore.js":484,"./ShopperStore":485,"./ShopperStore.js":485,"./SocialStore":486,"./SocialStore.js":486,"./StockPhotoStore":487,"./StockPhotoStore.js":487,"./WebsiteStore":488,"./WebsiteStore.js":488,"./WidgetStore":489,"./WidgetStore.js":489,"./index":253,"./index.js":253};r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=617},,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(28),d=r(c),f=l.PropTypes.string,p={message:f},h=(function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),u(t,[{key:"componentDidMount",value:function(){this.setTextContent(this.props.message)}},{key:"componentDidUpdate",value:function(){this.setTextContent(this.props.message)}},{key:"setTextContent",value:function(e){d.default.findDOMNode(this).textContent=e||""}},{key:"render",value:function(){return s.default.createElement("span",{className:"AriaStatus",role:"status","aria-live":"polite"})}}]),t})(l.Component);h.propTypes=p,t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(28),f=r(d),p=(s.PropTypes.bool,s.PropTypes.func),h=s.PropTypes.string,m={dir:h,value:h,onChange:p},g={value:"",onChange:function(){}},_=(function(e){function t(){o(this,t);var e=a(this,Object.getPrototypeOf(t).call(this));return e.handleChange=e._handleChange.bind(e),e}return i(t,e),l(t,[{key:"componentDidUpdate",value:function(){this.props.dir||f.default.findDOMNode(this).removeAttribute("dir")}},{key:"_handleChange",value:function(e){e.target.value!==this.props.value&&this.props.onChange(e)}},{key:"isCursorAtEnd",value:function(){var e=f.default.findDOMNode(this),t=this.props.value.length;return e.selectionStart===t&&e.selectionEnd===t}},{key:"render",value:function(){return c.default.createElement("input",u({},this.props,{onChange:this.handleChange}))}}]),t})(s.Component);_.propTypes=m,_.defaultProps=g,t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(28),d=r(c),f=n(624),p=r(f),h=n(623),m=r(h),g=n(627),_=r(g),y=function(){},b=l.PropTypes.array,v=l.PropTypes.bool,E=l.PropTypes.func,T=l.PropTypes.number,O=l.PropTypes.string,P=l.PropTypes.element,w={autoFocus:v,className:O,containerClasses:O,inputClasses:O,dropdownClasses:O,inputId:O,inputName:O,inputValue:O,minInputLength:T,noResultsText:O,hoverSelect:v,handleHint:E,getMessageForOption:E,getMessageForIncomingOptions:E,onBlur:E,onChange:E,onFocus:E,onInputClick:E,onSelect:E,onKeyDown:E,onKeyPress:E,onKeyUp:E,onDropdownOpen:E,onDropdownClose:E,onComplete:E,onOptionEnter:E,onOptionChange:E.isRequired,onOptionClick:E.isRequired,options:b,optionTemplate:E.isRequired,placeholder:O,showSpinner:v,spinner:P,uxcore:v},I={autoFocus:!1,className:"",containerClasses:"",inputClasses:"",dropdownClasses:"",getMessageForOption:function(){return""},getMessageForIncomingOptions:function(e){return e+" suggestions are available. Use up and down arrows to select."},handleHint:function(){return""},hoverSelect:!1,inputValue:"",minInputLength:0,noResultsText:"No results found",onChange:y,onComplete:y,onOptionEnter:y,onDropdownClose:y,onDropdownOpen:y,onFocus:y,onInputClick:y,onKeyDown:y,options:[],showSpinner:!1,spinner:null,uxcore:!1},S=(function(e){function t(e){o(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.state={selectedIndex:-1,isHintVisible:!1,isDropdownVisible:!1},n.handleChange=n._handleChange.bind(n),n.handleClick=n._handleClick.bind(n),n.handleDropdown=n._handleDropdown.bind(n),n.handleFocus=n._handleFocus.bind(n),n.handleKeyDown=n._handleKeyDown.bind(n),n.handleMouseOut=n._handleMouseOut.bind(n),n.handleOptionMouseDown=n._handleOptionMouseDown.bind(n),n.handleWindowClose=n._handleWindowClose.bind(n),n.showHint=n._showHint.bind(n),n}return i(t,e),u(t,[{key:"componentWillMount",value:function(){var e=parseInt(Math.random()*Math.pow(10,10),10);this.userInputValue="",this.previousInputValue="",this.activeDescendantId="Typeahead__option--active--"+e,this.optionsId="Typeahead__options--"+e}},{key:"componentDidMount",value:function(){var e=window.addEventListener;e("focus",this.handleWindowClose,!1),e("click",this.handleWindowClose,!1)}},{key:"componentWillUnmount",value:function(){var e=window.removeEventListener;e("focus",this.handleWindowClose,!0),e("click",this.handleWindowClose,!1)}},{key:"componentWillReceiveProps",value:function(e){var t=e.inputValue,n=e.options,r=e.autoSelectExactMatch,o=e.onOptionChange,a=e.handleHint,i=t.length,u=i>0&&a(t,n).slice(i).length>0,l=this.state.selectedIndex,s=r?n.findIndex((function(e){return e.name.toLowerCase()===t.toLowerCase()})):-1;this.setState({isHintVisible:u,selectedIndex:s},(function(){r&&s!==-1&&s!==l&&o(null,n[s],s)}))}},{key:"renderInput",value:function(){var e=this,t=(0,_.default)(this.props.inputValue),n=this.props,r=n.inputClasses,o=n.containerClasses,a=n.showSpinner,i=n.spinner,u=n.uxcore;return s.default.createElement("div",{className:"Typeahead__input__container "+o},s.default.createElement(p.default,{disabled:!0,role:"presentation","aria-hidden":!0,dir:t,className:"Typeahead__hint",value:this.state.isHintVisible?this.props.handleHint(this.props.inputValue,this.props.options):""}),s.default.createElement("div",null,a?s.default.createElement("div",{className:"Typeahead__input__spinner"},i):null,s.default.createElement(p.default,{ref:function(t){return e._input=t},role:"combobox","aria-owns":this.optionsId,"aria-expanded":this.state.isDropdownVisible,"aria-autocomplete":"both","aria-activedescendant":this.activeDescendantId,value:this.props.inputValue,spellCheck:!1,autoComplete:"off",autoCorrect:!1,dir:t,onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.props.onBlur,onChange:this.handleChange,onKeyDown:this.handleKeyDown,id:this.props.inputId,name:this.props.inputName,autoFocus:this.props.autoFocus,placeholder:this.props.placeholder,onSelect:this.props.onSelect,onKeyUp:this.props.onKeyUp,onKeyPress:this.props.onKeyPress,className:"Typeahead__input "+r+" "+(u?"form-control":"")})))}},{key:"renderDropdown",value:function(){var e=this,t=this.props.optionTemplate,n=this.state.selectedIndex,r=this.state.isDropdownVisible,o=this.activeDescendantId,a=this.props,i=a.dropdownClasses,u=a.uxcore,l=a.noResultsText,c=i+(u?" dropdown-menu":""),d=u?"dropdown-item":"";return s.default.createElement("ul",{id:this.optionsId,ref:function(t){return e._dropdown=t},role:"listbox","aria-hidden":!r,className:"Typeahead__options "+c+" "+(r?"":"Typeahead__options--hidden"),onMouseOut:this.handleMouseOut},this.props.options.length?this.props.options.map((function(r,a){var i=n===a;return s.default.createElement("li",{id:i?o:null,"aria-selected":i,className:"Typeahead__option "+d+" "+(u&&i?"active":""),role:"option",key:a,onMouseDown:e.handleOptionMouseDown.bind(e,a),onMouseOver:e.handleOptionMouseOver.bind(e,a)},s.default.createElement(t,{data:r,index:a,userInputValue:e.userInputValue,inputValue:e.props.inputValue,isSelected:i}))})):s.default.createElement("li",{className:"Typeahead__option--noresults"},l))}},{key:"renderAriaMessageForSelection",value:function(){var e=this.props.inputValue,t=this.props.options[this.state.selectedIndex]||e;return s.default.createElement(m.default,{message:this.props.getMessageForOption(t)||e})}},{key:"renderAriaMessageForOptions",value:function(){return s.default.createElement(m.default,{message:this.props.getMessageForIncomingOptions(this.props.options.length)})}},{key:"_handleDropdown",value:function(){var e=this.userInputValue.length;this.userInputValue&&e>=this.props.minInputLength?this._showDropdown():this._hideDropdown()}},{key:"_showDropdown",value:function(){var e=this;this.state.isDropdownVisible||this.setState({isDropdownVisible:!0},(function(){e.props.onDropdownOpen()}))}},{key:"_hideDropdown",value:function(){var e=this;this.state.isDropdownVisible&&this.setState({isDropdownVisible:!1},(function(){e.props.onDropdownClose()}))}},{key:"_showHint",value:function(){var e=this.props.inputValue.length>0&&this.props.handleHint(this.props.inputValue,this.props.options).slice(this.props.inputValue.length).length>0;this.setState({isHintVisible:e})}},{key:"hideHint",value:function(){this.setState({isHintVisible:!1})}},{key:"setSelectedIndex",value:function(e,t){this.setState({selectedIndex:e},t)}},{key:"_handleChange",value:function(e){this.userInputValue=e.target.value,this.showHint(),this.handleDropdown(),this.setSelectedIndex(-1),this.props.onChange(e)}},{key:"focus",value:function(){d.default.findDOMNode(this._input).focus()}},{key:"_handleFocus",value:function(e){this.handleDropdown(),this.props.onFocus(e)}},{key:"_handleClick",value:function(e){this.showHint(),this.props.onInputClick(e)}},{key:"navigate",value:function(e,t){var n=-1,r=this.props.options.length-1,o=this.state.selectedIndex+e;o>r?o=n:o<n&&(o=r),this.setSelectedIndex(o,t)}},{key:"_handleKeyDown",value:function(e){var t=e.key,n=!1;switch(t){case"End":case"Tab":this._handleHintCompletion(e);break;case"ArrowLeft":case"ArrowRight":this._handleArrowHintCompletion(e);break;case"Enter":this._handleEnterKey(e);break;case"Escape":this._handleEscapeKey(e);break;case"ArrowUp":case"ArrowDown":n=this._handleUpDownArrow(e)}if(!n){var r=this.state.selectedIndex,o=r<0?this.props.inputValue:this.props.options[r];this.props.onKeyDown(e,o,r)}}},{key:"_handleHintCompletion",value:function(e){this.state.isHintVisible&&!e.shiftKey&&(e.preventDefault(),this.props.onComplete(e,this.props.handleHint(this.props.inputValue,this.props.options)))}},{key:"_handleArrowHintCompletion",value:function(e){var t=e.key;if(this.state.isHintVisible&&!e.shiftKey&&this._input.isCursorAtEnd()){var n=(0,_.default)(this.props.inputValue);("ltr"===n&&"ArrowRight"===t||"rtl"===n&&"ArrowLeft"===t)&&this.props.onComplete(e,this.props.handleHint(this.props.inputValue,this.props.options))}}},{key:"_handleEnterKey",value:function(e){if(this.state.selectedIndex!==-1){var t=this.props.options[this.state.selectedIndex];this.props.onOptionEnter(e,t,this.state.selectedIndex),this.focus(),this.hideHint(),this._hideDropdown()}}},{key:"_handleEscapeKey",value:function(){this.hideHint(),this._hideDropdown()}},{key:"_handleUpDownArrow",value:function(e){var t=this;if(0===this.props.options.length)return!1;if(e.preventDefault(),this.showHint(),this.handleDropdown(),!this.state.isDropdownVisible)return!1;var n="ArrowUp"===e.key?-1:1;return this.navigate(n,(function(){var n=t.previousInputValue;if(t.state.selectedIndex>=0){null===t.previousInputValue&&(t.previousInputValue=t.props.inputValue),n=t.props.options[t.state.selectedIndex];var r=d.default.findDOMNode(t._dropdown),o=r.children[t.state.selectedIndex],a=o.offsetTop;(a+o.clientHeight>r.clientHeight||a<r.scrollTop)&&(r.scrollTop=a)}t.props.onOptionChange(e,n,t.state.selectedIndex),t.props.onKeyDown(e,n,t.state.selectedIndex)})),!0}},{key:"_handleOptionMouseDown",value:function(e,t){this.focus(),this.hideHint(),this._hideDropdown(),this.setSelectedIndex(e),this.props.onOptionClick(t,this.props.options[e],e)}},{key:"handleOptionMouseOver",value:function(e){this.props.hoverSelect&&this.setSelectedIndex(e)}},{key:"_handleMouseOut",value:function(){this.props.hoverSelect&&this.setSelectedIndex(-1)}},{key:"_handleWindowClose",value:function(e){e.target===window||d.default.findDOMNode(this).contains(e.target)||(this.hideHint(),this._hideDropdown())}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.uxcore,r=n?"dropdown ux-select-dropdown":"",o=this.state.isDropdownVisible&&n?"open":"";return s.default.createElement("div",{className:"Typeahead__container "+t+" "+r+" "+o},this.renderInput(),this.renderDropdown(),this.renderAriaMessageForSelection(),this.renderAriaMessageForOptions())}}]),t})(l.Component);S.propTypes=w,S.defaultProps=I,t.default=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(625),a=r(o);t.default=a.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t="ltr";return l.test(e)?t="rtl":s.test(e)&&(t=null),t};var o=n(629),a=r(o),i=n(628),u=r(i),l=new RegExp("^(?:"+u.default+")*(?:"+a.default+")"),s=new RegExp("^(?:"+u.default+")*$")},function(e,t){"use strict";e.exports="[\0-@[-`{-©«-´¶-¹»-¿×÷ʹʺ˂-ˏ˒-˟˥-˭˯-ͯʹ͵;΄΅·϶҃-҉֊֍-֏֑-ׇֽֿׁׂׅׄ؀-؇؉؊،؎-ًؚ-٬ٰۖ-ۤۧ-ۭ۰-۹ܑܰ-݊ަ-ް߫-߳߶-߹ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣤ-ंऺ़ु-ै्॑-ॗॢॣঁ়ু-ৄ্ৢৣ৲৳৻ਁਂ਼ੁੂੇੈੋ-੍ੑੰੱੵઁં઼ુ-ૅેૈ્ૢૣ૱ଁ଼ିୁ-ୄ୍ୖୢୣஂீ்௳-௺ఀా-ీె-ైొ-్ౕౖౢౣ౸-౾ಁ಼ೌ್ೢೣഁു-ൄ്ൢൣ්ි-ුූัิ-ฺ฿็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷-༽ཱ-ཾྀ-྄྆྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္်ွှၘၙၞ-ၠၱ-ၴႂႅႆႍႝ፝-፟᎐-᎙᐀ ᚛᚜ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴឵ិ-ួំ៉-៓៛៝៰-៹᠀-᠎ᢩᤠ-ᤢᤧᤨᤲ᤹-᤻᥀᥄᥅᧞-᧿ᨘᨗᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀᮁᮢ-ᮥᮨᮩ᮫-ᮭ᯦ᯨᯩᯭᯯ-ᯱᰬ-ᰳᰶ᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸᳹᷀-᷵᷼-᷿᾽᾿-῁῍-῏῝-῟῭-`´῾ -‍‐-\u2029 -⁤⁨⁪-⁰⁴-⁾₀-₎₠-₽⃐-⃰℀℁℃-℆℈℉℔№-℘℞-℣℥℧℩℮℺℻⅀-⅄⅊-⅍⅐-⅟↉←-⌵⍻-⎔⎖-⏺␀-␦⑀-⑊①-⒛⓪-⚫⚭-⟿⤀-⭳⭶-⮕⮘-⮹⮽-⯈⯊-⯑⳥-⳪⳯-⳱⳹-⳿⵿ⷠ-⹂⺀-⺙⺛-⻳⼀-⿕⿰-⿻　-〄〈-〠〪-〭〰〶〷〽-〿゙-゜゠・㇀-㇣㈝㈞㉐-㉟㉼-㉾㊱-㊿㋌-㋏㍷-㍺㏞㏟㏿䷀-䷿꒐-꓆꘍-꘏꙯-ꙿꚟ꛰꛱꜀-꜡ꞈꠂ꠆ꠋꠥꠦ꠨-꠫꠸꠹꡴-꡷꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱꨲꨵꨶꩃꩌꩼꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫬꫭ꫶ꯥꯨ꯭ﬞ﬩﴾﴿﷽︀-︙︠-︭︰-﹒﹔-﹦﹨-﹫\ufeff！-＠［-｀｛-･￠-￦￨-￮￹-�]|�[��-��-����-��-�]|�[��-����-��-�����-�]|�[�-�]|[��][��-��-��-��-����-��-��-�����-��-������-�����-��-�]|�[�-�������-������-�������-��]|�[�-��-�]|�[�-�]|�[���-�]|�[�-��-��-��-��-��-�]|�[������-�]|�[�-�]|�[��]|�[�-��-��-��-��-��-��-����-��-��-��-�]|�[�-��-��-��-��-��-��-��-��-��-�]|�[�-��-��-��-��-�]";
},function(e,t){"use strict";e.exports="[־׀׃׆א-תװ-״؈؋؍؛؜؞-ي٭-ٯٱ-ەۥۦۮۯۺ-܍܏ܐܒ-ܯݍ-ޥޱ߀-ߪߴߵߺࠀ-ࠕࠚࠤࠨ࠰-࠾ࡀ-ࡘ࡞ࢠ-ࢲ‏‫‮⁧יִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-﯁ﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-﷼ﹰ-ﹴﹶ-ﻼ]|�[�-���-�����-��-��-��-��-���-�����-��-��-��-��-��-��-��-��-��-��-��-��-��-�]|�[�-�]|�[�-��-�]|�[�-��-������-��-��������-�������������-��-��-��-���-��-��-��-��-�]"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(503),a=r(o),i=n(179),u=r(i),l=n(180),s=r(l),c=n(506),d=r(c),f=n(505),p=r(f),h=n(1),m=r(h),g=h.PropTypes.any,_=h.PropTypes.bool,y=h.PropTypes.number,b=h.PropTypes.string,v={data:g,index:y,inputValue:b,isSelected:_,userInputValue:b},E=(function(e){function t(){return(0,u.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){return m.default.createElement("div",{className:"Typeahead__option"},this.props.data.name)}}]),t})(h.Component);E.propTypes=v,t.default=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(!u[e]){var t="https://websites.godaddy.com/categories/v3/categories/"+e+"/trie";u[e]=i.default.get(t).then((function(e){var t=e.data;return t}))}return u[e]}Object.defineProperty(t,"__esModule",{value:!0}),t.getData=o;var a=n(109),i=r(a),u={}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(502),a=r(o),i=n(504),u=r(i),l=n(179),s=r(l),c=n(180),d=r(c),f=n(633),p=r(f),h=n(322),m=(function(){function e(t,n,r,o){(0,s.default)(this,e),this.weightTfIdf=7.5,this.weightPopularity=1.5,this.weightDistance=25,this.weightLevel=.001,this.trieValueCategoryIdIndex=0,this.trieValueTfIdfIndex=1,this.options=o.verticals,this.minInputLength=n,this.showOtherOption=!1,this.limitResults=t,this.lastResults=[],this.trie=new p.default(o.trie),this.otherNameFormat=r,this.otherNameRegex=new RegExp("^"+this.otherNameFormat.replace("{name}","(.*)")+"$")}return(0,d.default)(e,[{key:"setShowOtherOption",value:function(e){this.showOtherOption=e}},{key:"_formatUserInput",value:function(e){return e.replace(/-/g,"").toLowerCase().split(/[!@#$+=%^&*(),!~?`\d\s]/)}},{key:"_filterInputAsOneWord",value:function(e,t){var n=e.join(""),r={};if(n.length>=this.minInputLength){var o=this.trie.lookupPrefix(n);this._reduceCategoryLookupResults(r,o),this._reduceCategoryLookupResults(t,(0,u.default)(r).map((function(e){return r[e]})))}}},{key:"_filterWordByWord",value:function(e,t){var n=this;e.forEach((function(e){var r={},o=n.trie.lookupPrefix(e);0===o.length&&(o=n.trie.lookup(e));for(var a=e.length-1;0===o.length&&a>2;a--)o=n.trie.lookupPrefix(e.substring(0,a));n._reduceCategoryLookupResults(r,o),n._reduceCategoryLookupResults(t,(0,u.default)(r).map((function(e){return r[e]})))}))}},{key:"_trieFilter",value:function(e){var t=this,n=this._formatUserInput(e),r={};this._filterInputAsOneWord(n,r),0===(0,u.default)(r).length&&(n=n.filter((function(e){return e.length>=t.minInputLength})),this._filterWordByWord(n,r));for(var o=[],a=n.length;0===o.length&&a>0;a--)for(var i in r)r[i].count>=a&&o.push(r[i]);return o}},{key:"_reduceCategoryLookupResults",value:function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,u=(0,a.default)(t);!(n=(i=u.next()).done);n=!0){var l=i.value,s=l.value[this.trieValueCategoryIdIndex],c=l.tfIdf||l.value[this.trieValueTfIdfIndex],d=l.appendDistance,f=l.modifyDistance,p=l.value;e.hasOwnProperty(s)?(e[s].modifyDistance=Math.min(l.modifyDistance,e[s].modifyDistance),e[s].appendDistance>l.appendDistance&&(e[s].appendDistance=Math.min(l.appendDistance,e[s].appendDistance),e[s].tfIdf=Math.max(c,e[s].tfIdf)),e[s].count+=1):e[s]={count:1,tfIdf:c,appendDistance:d,modifyDistance:f,value:p}}}catch(e){r=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw o}}}},{key:"_sortResults",value:function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=(0,a.default)(e);!(t=(o=i.next()).done);t=!0){var u=o.value,l=u.appendDistance,s=u.modifyDistance,c=this.weightTfIdf*u.tfIdf,d=this.weightPopularity*this.options[u.value[this.trieValueCategoryIdIndex]].p,f=this.weightLevel*this.options[u.value[this.trieValueCategoryIdIndex]].l;u.rank=c+d-this.weightDistance*(l+s)-f+u.count}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}e.sort((function(e,t){return t.rank-e.rank}))}},{key:"_handleResult",value:function(e,t){var n=this,r=e;this._sortResults(r);var o=!1;return r=r.slice(0,this.limitResults).map((function(e){var r=n.options[e.value[n.trieValueCategoryIdIndex]];return o=o||r.name.toLowerCase()===t.toLowerCase(),r})),this.showOtherOption&&!o&&(r=r.slice(0,this.limitResults-1).concat([{str_id:""+h.OTHER_ID_PREFIX+t,name:this.otherNameFormat.replace("{name}",t)}])),r}},{key:"fuzzyFilter",value:function(e){var t=this.otherNameRegex.exec(e);return e&&t&&(e=t[1]),!e||e.length<this.minInputLength?[]:this._handleResult(this._trieFilter(e),e)}}]),e})();t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(1228),a=r(o),i=n(504),u=r(i),l=n(502),s=r(l),c=n(179),d=r(c),f=n(180),p=r(f),h=.1,m=0,g=(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,d.default)(this,e),this.maxCost=t.maxCost||2,this.trieData=t.trieData||{}}return(0,p.default)(e,[{key:"_insertTrie",value:function(e,t,n){if(0===t.length)return e.vals=e.vals||[],void e.vals.push(n);var r=t.shift();e[r]=e[r]||{},this._insertTrie(e[r],t,n)}},{key:"_lookupTrie",value:function(e,t,n,r,o,a,i){for(var u=[r[0]+1],l=n.length+1,c=1;c<l;c++){var d=u[c-1]+1,f=r[c]+1,p=void 0;p=n[c-1]!==t?r[c-1]+1:r[c-1],u.push(Math.min(d,f,p))}if(u[u.length-1]<=a&&e.vals){var h=!0,m=!1,g=void 0;try{for(var y,b=(0,s.default)(e.vals);!(h=(y=b.next()).done);h=!0){var v=y.value;o.push({value:v,modifyDistance:u[u.length-1],appendDistance:0})}}catch(e){m=!0,g=e}finally{try{!h&&b.return&&b.return()}finally{if(m)throw g}}}if(e&&Math.min.apply(Math,u)<=a){var E=!0,T=!1,O=void 0;try{for(var P,w=(0,s.default)(_(e));!(E=(P=w.next()).done);E=!0){var I=P.value;this._lookupTrie(e[I],I,n,u,o,a,i+1)}}catch(e){T=!0,O=e}finally{try{!E&&w.return&&w.return()}finally{if(T)throw O}}}}},{key:"_lookupPrefix",value:function(e,t,n,r){var o=t.shift();o?e.hasOwnProperty(o)&&this._lookupPrefix(e[o],t,n,r):this._collectResults(e,r,m)}},{key:"_collectResults",value:function(e,t,n){var r=!0,o=!1,a=void 0;try{for(var i,u=(0,s.default)(e.vals||[]);!(r=(i=u.next()).done);r=!0){var l=i.value;t.push({value:l,modifyDistance:0,appendDistance:n})}}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}var c=!0,d=!1,f=void 0;try{for(var p,m=(0,s.default)(_(e));!(c=(p=m.next()).done);c=!0){var g=p.value;this._collectResults(e[g],t,n+h)}}catch(e){d=!0,f=e}finally{try{!c&&m.return&&m.return()}finally{if(d)throw f}}}},{key:"insert",value:function(e,t){var n=e.split("");this._insertTrie(this.trieData,n,t)}},{key:"lookup",value:function(e){var t=Array.apply(null,Array(e.length+1)).map((function(e,t){return t})),n=[],r=!0,o=!1,a=void 0;try{for(var i,u=(0,s.default)(_(this.trieData));!(r=(i=u.next()).done);r=!0){var l=i.value;this._lookupTrie(this.trieData[l],l,e,t,n,this.maxCost,1)}}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}},{key:"lookupPrefix",value:function(e){var t=[],n=e.toLowerCase().split("");return this._lookupPrefix(this.trieData,n,e,t),t}}]),e})(),_=a.default.mark((function e(t){var n,r,o,i,l,c;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!0,r=!1,o=void 0,e.prev=3,i=(0,s.default)((0,u.default)(t));case 5:if(n=(l=i.next()).done){e.next=13;break}if(c=l.value,"vals"===c){e.next=10;break}return e.next=10,c;case 10:n=!0,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),r=!0,o=e.t0;case 19:e.prev=19,e.prev=20,!n&&i.return&&i.return();case 22:if(e.prev=22,!r){e.next=25;break}throw o;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case"end":return e.stop()}}),e,this,[[3,15,19,27],[20,,22,26]])}));e.exports=g},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";e.exports=n(689)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={minLength:4,maxLength:30,reservedWords:["getfound","get-found","gomobile","go-mobile","wildwestdomains","wild-west-domains","domainsbyproxy","domains-by-proxy","bluerazor","blue-razor","afternic","mediatemple","media-temple","secureserver","secure-server","godaddy"]},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){t=t||{};var n=(0,s.default)(t,d.default),r=n.alternateIdentifier,o=n.minLength,i=n.maxLength,u=n.reservedWords,l=e&&e.trim()||r;if(!l)return null;l=l.toLowerCase();var c=a(l,i,u);return r&&(!c||o>=0&&c.length<o)&&(c=a(r.toLowerCase(),i,[])),c}function a(e,t,n){var r=e;return p.test(e)||(r=(0,u.default)(e,{replacement:"*"}).replace(/\*/g,"")),(n||[]).map((function(e){return e.toLowerCase()})).forEach((function(e){r=r.replace(e,"")})),r=r.replace(f,"-").replace(h,""),t>0&&(r=r.substring(0,t)),"-"===r[r.length-1]&&(r=r.substring(0,r.length-1)),r}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1470),u=r(i),l=n(2),s=r(l),c=n(688),d=r(c),f=/-{2,}/g,p=/^[a-z0-9\-]+$/i,h=/(?:^-+)|(?:-+$)/g;t.default=o,e.exports=t.default},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){this.client=e.client,this.autocompleteService=new this.client.places.AutocompleteService,this.geocoder=new this.client.Geocoder,this.getSuggestLabel=e.getSuggestLabel||a.getSuggestLabel,this.skipSuggest=e.skipSuggest||a.skipSuggest,this.fixtures=e.fixtures||a.fixtures}function o(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var a=n(789);e.exports=r,r.prototype.getSuggestions=function(e,t){var n=e,r=this;e.getSuggestLabel&&(r.getSuggestLabel=e.getSuggestLabel),e.props&&(["location","radius","bounds","types"].forEach((function(t){e.props[t]&&(n[t]=e.props[t])})),e.props.country&&(n.componentRestrictions={country:e.props.country})),r.autocompleteService.getPlacePredictions(n,(function(n){r.updateSuggests(n,e.input,t)}))},r.prototype.updateSuggests=function(e,t,n){var r=[],a=new RegExp(o(t),"gim"),i=this.skipSuggest,u=this;u.fixtures.forEach((function(e){!i(e)&&e.label.match(a)&&(e.placeId=e.label,r.push(e))})),e.forEach((function(e){i(e)||r.push({label:u.getSuggestLabel(e),placeId:e.place_id})})),n(null,r)},r.prototype.geocodeSuggest=function(e,t){var n=this;n.geocoder.geocode(e.placeId?{placeId:e.placeId}:{address:e.label},(function(r,o){if(o===n.client.GeocoderStatus.OK){var a=r[0],i=a.geometry.location;e.gmaps=a,e.location={lat:i.lat(),lng:i.lng()},t(null,e)}}))}},function(e,t){"use strict";e.exports={fixtures:[],getSuggestLabel:function(e){return e.description},skipSuggest:function(){}}},[1603,788],function(e,t,n){"use strict";function r(e){this.client=e.client,this.getSuggestLabel=e.getSuggestLabel||a.getSuggestLabel,this.skipSuggest=e.skipSuggest||a.skipSuggest,this.fixtures=e.fixtures||a.fixtures}function o(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var a=n(792);e.exports=r,r.prototype.getSuggestions=function(e,t){var n=this,r={query:e.input};if(e.position&&e.position.coords){var o=e.position.coords.latitude,a=e.position.coords.longitude;r.proximity=[o,a]}this.client.query(r,(function(r,o){return r?void t(r):void n.updateSuggests(o.results.features,e.input,t)}))},r.prototype.updateSuggests=function(e,t,n){var r=[],a=new RegExp(o(t),"gim"),i=this.skipSuggest,u=this;u.fixtures.forEach((function(e){!i(e)&&e.label.match(a)&&(e.placeId=e.label,r.push(e))})),e.forEach((function(e){i(e)||r.push({label:u.getSuggestLabel(e),placeId:e.id,location:{lat:e.geometry.coordinates[1],lng:e.geometry.coordinates[0]}})})),n(null,r)},r.prototype.geocodeSuggest=function(e,t){this.client.query({query:e.label},(function(n,r){return n?void t(n):(e.location={lat:r.latlng[0],lng:r.latlng[1]},void t(null,e))}))}},function(e,t){"use strict";e.exports={fixtures:[],getSuggestLabel:function(e){return e.place_name},skipSuggest:function(){}}},[1603,791],function(e,t,n){"use strict";var r=n(793),o=n(790);e.exports=function(e){var t=e&&e.provider?e.provider:"google";return"mapbox"===t.toLowerCase()?r(e):o(e)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(7),f=r(d),p=n(796),h=r(p),m=n(798),g=r(m),_=n(362),y=r(_),b=n(794),v=r(b),E=n(797),T=r(E),O=n(800),P=r(O),w=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isSuggestsHidden:!0,userInput:n.props.initialValue,activeSuggest:null,suggests:[],timer:null,position:{}},n}return i(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){this.props.initialValue!==e.initialValue&&this.setState({userInput:e.initialValue}),e.geoLocating&&this.setState({isSuggestsHidden:!0})}},{key:"componentDidMount",value:function(){this.setState({userInput:this.props.initialValue}),this.initializeProvider(),this.setState({isMounted:!0}),this.props.onInitialSuggestion&&Boolean(this.props.initialValue)&&this.geocodeSuggest({label:this.props.initialValue},this.props.onInitialSuggestion)}},{key:"initializeProvider",value:function(){var e=this,t=this.props.provider;switch(t.toLowerCase()){case"mapbox":if(!L)return void console.error("Mapbox api was not found in the page.");this.MapboxClient=L.mapbox.geocoder("mapbox.places"),this.geoSuggestProvider=(0,v.default)({provider:"mapbox",client:this.MapboxClient}),navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){e.setState({position:t})}));break;default:var n=this.props.googleMaps||window.google&&window.google.maps||this.googleMaps;if(!n)return void console.error("Google map api was not found in the page.");this.googleMaps=n,this.geoSuggestProvider=(0,v.default)({provider:"google",client:this.googleMaps})}}},{key:"componentWillUnmount",value:function(){clearTimeout(this.state.timer)}},{key:"onInputChange",value:function(e){var t=this;this.setState({userInput:e},(function(){t.showSuggests(),t.props.onChange(e)}))}},{key:"onInputFocus",value:function(){this.props.onFocus(),this.showSuggests()}},{key:"focus",value:function(){this.refs.input.focus()}},{key:"update",value:function(e){this.setState({userInput:e}),this.props.onChange(e)}},{key:"clear",value:function(){var e=this;this.setState({userInput:""},(function(){return e.hideSuggests()}))}},{key:"searchSuggests",value:function(){var e=this;if(!e.state.userInput||!e.geoSuggestProvider)return void this.updateSuggests();var t={input:this.state.userInput};t.props=this.props,t.position=this.state.position,e.geoSuggestProvider.getSuggestions(t,(function(t,n){e.updateSuggests(n),e.props.autoActivateFirstSuggest&&e.activateSuggest("next")}))}},{key:"updateSuggests",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.setState({suggests:e})}},{key:"showSuggests",value:function(){this.searchSuggests(),this.setState({isSuggestsHidden:!1})}},{key:"hideSuggests",value:function(){var e=this;if(!this.state.ignoreBlur){var t=setTimeout((function(){e.setState({isSuggestsHidden:!0})}),100);this.setState({timer:t})}var n,r;n=this.state.suggests[0],n&&n.label&&(n.currentAddress=this.state.userInput,r=this,n.location&&n.location.lat&&n.location.lng?r.props.onBlur(n):r.geoSuggestProvider.geocodeSuggest(n,(function(e,t){e?(console.error(e),r.props.onBlur(n)):r.props.onBlur(t)})))}},{key:"onInputBlur",value:function(){this.state.ignoreBlur||this.hideSuggests()}},{key:"activateSuggest",value:function(e){if(this.state.isSuggestsHidden)return void this.showSuggests();var t=this.state.suggests.length-1,n="next"===e,r=null,o=0,a=0;for(a;a<=t;a++)this.state.suggests[a]===this.state.activeSuggest&&(o=n?a+1:a-1);this.state.activeSuggest||(o=n?0:t),o>=0&&o<=t&&(r=this.state.suggests[o]),this.setState({activeSuggest:r})}},{key:"selectSuggest",value:function(e){return e||(e={label:this.state.userInput}),this.setState({isSuggestsHidden:!0,userInput:e.label}),e.location?(e.currentAddress=this.state.userInput,this.setState({ignoreBlur:!1}),void this.props.onSuggestSelect(e)):void this.geocodeSuggest(e)}},{key:"geocodeSuggest",value:function(e,t){var n=t||this.props.onSuggestSelect,r=this;e.currentAddress=this.state.userInput,e.location&&e.location.lat&&e.location.lng?n(e):r.geoSuggestProvider.geocodeSuggest(e,(function(t,r){t?(console.error(t),n(e)):n(r)}))}},{key:"render",value:function(){var e=this,t=(0,y.default)(this.props),n=(0,f.default)("geosuggest",this.props.className);return c.default.createElement("div",{className:n},c.default.createElement(T.default,u({className:this.props.inputClassName,ref:"input",value:this.state.userInput,onChange:this.onInputChange.bind(this),onFocus:this.onInputFocus.bind(this),onBlur:this.onInputBlur.bind(this),onNext:function(){return e.activateSuggest("next")},onPrev:function(){return e.activateSuggest("prev")},onSelect:function(){return e.selectSuggest(e.state.activeSuggest)},onEscape:this.hideSuggests.bind(this)},t)),c.default.createElement(P.default,{isHidden:this.state.isSuggestsHidden,suggests:this.state.suggests,activeSuggest:this.state.activeSuggest,onSuggestMouseDown:function(){return e.setState({ignoreBlur:!0})},onSuggestMouseOut:function(){return e.setState({ignoreBlur:!1})},onSuggestSelect:this.selectSuggest.bind(this)}))}}]),t})(c.default.Component);w.propTypes=g.default,w.defaultProps=h.default,t.default=w},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={fixtures:[],initialValue:"",placeholder:"Search places",disabled:!1,className:"",inputClassName:"",location:null,radius:null,bounds:null,country:null,types:null,googleMaps:null,onSuggestSelect:function(){},onFocus:function(){},onBlur:function(){},onChange:function(){},skipSuggest:function(){},getSuggestLabel:function(e){return e.description},autoActivateFirstSuggest:!1,provider:"google"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(7),f=r(d),p=n(362),h=r(p),m=(function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"onChange",value:function(){this.props.onChange(this.refs.input.value)}},{key:"onInputKeyDown",value:function(e){switch(e.which){case 40:e.preventDefault(),this.props.onNext();break;case 38:e.preventDefault(),this.props.onPrev();break;case 13:e.preventDefault(),this.props.onSelect();break;case 9:this.props.onSelect();break;case 27:this.props.onEscape()}}},{key:"focus",value:function(){this.refs.input.focus()}},{key:"render",value:function(){var e=(0,h.default)(this.props),t=(0,f.default)("geosuggest__input",this.props.className);return c.default.createElement("input",u({className:t,ref:"input",type:"text"},e,{value:this.props.value,onKeyDown:this.onInputKeyDown.bind(this),onChange:this.onChange.bind(this),onFocus:this.props.onFocus.bind(this),onBlur:this.props.onBlur.bind(this)}))}}]),t})(c.default.Component);m.defaultProps={className:"",value:"",onChange:function(){},onFocus:function(){},onBlur:function(){},onNext:function(){},onPrev:function(){},onSelect:function(){},onEscape:function(){}},t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o);t.default={fixtures:a.default.PropTypes.array,initialValue:a.default.PropTypes.string,placeholder:a.default.PropTypes.string,disabled:a.default.PropTypes.bool,className:a.default.PropTypes.string,inputClassName:a.default.PropTypes.string,location:a.default.PropTypes.object,radius:a.default.PropTypes.oneOfType([a.default.PropTypes.string,a.default.PropTypes.number]),bounds:a.default.PropTypes.object,country:a.default.PropTypes.string,types:a.default.PropTypes.array,googleMaps:a.default.PropTypes.object,onSuggestSelect:a.default.PropTypes.func,onFocus:a.default.PropTypes.func,onBlur:a.default.PropTypes.func,onChange:a.default.PropTypes.func,skipSuggest:a.default.PropTypes.func,getSuggestLabel:a.default.PropTypes.func,autoActivateFirstSuggest:a.default.PropTypes.bool}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(7),u=r(i);t.default=function(e){var t=e.isActive,n=void 0!==t&&t,r=e.className,o=void 0===r?"":r,i=e.suggest,l=void 0===i?{}:i,s=e.onMouseDown,c=void 0===s?function(){}:s,d=e.onMouseOut,f=void 0===d?function(){}:d,p=e.onSelect,h=void 0===p?function(){}:p,m=(0,u.default)("geosuggest-item",o,{"geosuggest-item--active":n});return a.default.createElement("li",{className:m,onMouseDown:c,onMouseOut:f,onClick:function(e){e.preventDefault(),h()}},l.label)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(7),u=r(i),l=n(799),s=r(l);t.default=function(e){var t=e.isHidden,n=void 0===t||t,r=e.suggests,o=void 0===r?[]:r,i=e.activeSuggest,l=e.onSuggestMouseDown,c=void 0===l?function(){}:l,d=e.onSuggestMouseOut,f=void 0===d?function(){}:d,p=e.onSuggestSelect,h=void 0===p?function(){}:p,m=(0,u.default)("geosuggest__suggests",{"geosuggest__suggests--hidden":n});return a.default.createElement("ul",{className:m},o.map((function(e){var t=i&&e.placeId===i.placeId;return a.default.createElement(s.default,{key:e.placeId,className:e.className,suggest:e,isActive:t,onMouseDown:c,onMouseOut:f,onSelect:function(){return h(e)}})})))}},function(e,t){function n(e){var t;if(!e){if(window.parent===window||!document.getElementById("boomr-if-as"))return;if(window.BOOMR&&BOOMR.boomerang_frame&&BOOMR.window)try{BOOMR.boomerang_frame.document.domain!==BOOMR.window.document.domain&&(BOOMR.boomerang_frame.document.domain=BOOMR.window.document.domain)}catch(e){BOOMR.isCrossOriginError(e)||BOOMR.addError(e,"BOOMR_check_doc_domain.domainFix")}e=document.domain}if(e.indexOf(".")!==-1){try{return void(t=window.parent.document)}catch(t){document.domain=e}try{return void(t=window.parent.document)}catch(t){e=e.replace(/^[\w\-]+\./,"")}n(e)}}window.BOOMR_start=(new Date).getTime(),n(),(function(e){var t,r,o,a,i,u,l,s,c=e;e.parent!==e&&document.getElementById("boomr-if-as")&&"script"===document.getElementById("boomr-if-as").nodeName.toLowerCase()&&(e=e.parent,a=document.getElementById("boomr-if-as").src),o=e.document,e.BOOMR||(e.BOOMR={}),BOOMR=e.BOOMR,BOOMR.version||(BOOMR.version="0.9",BOOMR.window=e,BOOMR.boomerang_frame=c,BOOMR.plugins||(BOOMR.plugins={}),(function(){try{void 0!==new e.CustomEvent("CustomEvent")&&(i=function(t,n){return new e.CustomEvent(t,n)})}catch(e){}try{!i&&o.createEvent&&o.createEvent("CustomEvent")&&(i=function(e,t){var n=o.createEvent("CustomEvent");return t=t||{cancelable:!1,bubbles:!1},n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n})}catch(e){}!i&&o.createEventObject&&(i=function(e,t){var n=o.createEventObject();return n.type=n.propertyName=e,n.detail=t.detail,n}),i||(i=function(){})})(),u=function(e,t,n){function r(){o.dispatchEvent?o.dispatchEvent(a):o.fireEvent&&o.fireEvent("onpropertychange",a)}var a=i(e,{detail:t});a&&(n?BOOMR.setImmediate(r):r())},"undefined"!=typeof document.hidden?(l="visibilityState",s="visibilitychange"):"undefined"!=typeof document.mozHidden?(l="mozVisibilityState",s="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(l="msVisibilityState",s="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(l="webkitVisibilityState",s="webkitvisibilitychange"),t={beacon_url:"",beacon_type:"AUTO",site_domain:e.location.hostname.replace(/.*?([^.]+\.[^.]+)\.?$/,"$1").toLowerCase(),
//! User's ip address determined on the server.  Used for the BA cookie
user_ip:"",autorun:!0,strip_query_string:!1,onloadfired:!1,handlers_attached:!1,events:{page_ready:[],page_unload:[],before_unload:[],dom_loaded:[],visibility_changed:[],before_beacon:[],onbeacon:[],xhr_load:[],click:[],form_submit:[]},public_events:{before_beacon:"onBeforeBoomerangBeacon",onbeacon:"onBoomerangBeacon",onboomerangloaded:"onBoomerangLoaded"},vars:{},errors:{},disabled_plugins:{},xb_handler:function(n){return function(r){var o;r||(r=e.event),r.target?o=r.target:r.srcElement&&(o=r.srcElement),3===o.nodeType&&(o=o.parentNode),o&&"OBJECT"===o.nodeName.toUpperCase()&&"application/x-shockwave-flash"===o.type||t.fireEvent(n,o)}},fireEvent:function(e,t){var n,r,o;if(e=e.toLowerCase(),this.events.hasOwnProperty(e))for(this.public_events.hasOwnProperty(e)&&u(this.public_events[e],t),o=this.events[e],n=0;n<o.length;n++)try{r=o[n],r.fn.call(r.scope,t,r.cb_data)}catch(t){BOOMR.addError(t,"fireEvent."+e+"<"+n+">")}}},r={t_lstart:null,t_start:BOOMR_start,t_end:null,
//! t_pload: Value of the BOOMR_onload set in the host page
t_onload:void 0,url:a,utils:{objectToString:function(e,t,n){var r,o=[];if(!e||"object"!=typeof e)return e;if(void 0===t&&(t="\n\t"),n||(n=0),"[object Array]"===Object.prototype.toString.call(e)){for(r=0;r<e.length;r++)n>0&&null!==e[r]&&"object"==typeof e[r]?o.push(this.objectToString(e[r],t+("\n\t"===t?"\t":""),n-1)):"&"===t?o.push(encodeURIComponent(e[r])):o.push(e[r]);t=","}else for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n>0&&null!==e[r]&&"object"==typeof e[r]?o.push(encodeURIComponent(r)+"="+this.objectToString(e[r],t+("\n\t"===t?"\t":""),n-1)):"&"===t?o.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r])):o.push(r+"="+e[r]));return o.join(t)},getCookie:function(e){if(!e)return null;e=" "+e+"=";var t,n;return n=" "+o.cookie+";",(t=n.indexOf(e))>=0?(t+=e.length,n=n.substring(t,n.indexOf(";",t)).replace(/^"/,"").replace(/"$/,"")):null},setCookie:function(e,n,r){var a,i,u,l,s;if(!e||!t.site_domain)return BOOMR.debug("No cookie name or site domain: "+e+"/"+t.site_domain),!1;if(a=this.objectToString(n,"&"),i=e+'="'+a+'"',l=[i,"path=/","domain="+t.site_domain],r&&(s=new Date,s.setTime(s.getTime()+1e3*r),s=s.toGMTString(),l.push("expires="+s)),i.length<500){if(o.cookie=l.join("; "),u=this.getCookie(e),a===u)return!0;BOOMR.warn("Saved cookie value doesn't match what we tried to set:\n"+a+"\n"+u)}else BOOMR.warn("Cookie too long: "+i.length+" "+i);return!1},getSubCookies:function(e){var t,n,r,o,a=!1,i={};if(!e)return null;if("string"!=typeof e)return BOOMR.debug("TypeError: cookie is not a string: "+typeof e),null;for(t=e.split("&"),n=0,r=t.length;n<r;n++)o=t[n].split("="),o[0]&&(o.push(""),i[decodeURIComponent(o[0])]=decodeURIComponent(o[1]),a=!0);return a?i:null},removeCookie:function(e){return this.setCookie(e,{},-86400)},cleanupURL:function(e){return e&&"[object Array]"!==Object.prototype.toString.call(e)?t.strip_query_string?e.replace(/\?.*/,"?qs-redacted"):e:""},hashQueryString:function(e,t){return e?e.match?(e.match(/^\/\//)&&(e=location.protocol+e),e.match(/^(https?|file):/)?(t&&(e=e.replace(/#.*/,"")),BOOMR.utils.MD5?e.replace(/\?([^#]*)/,(function(e,t){return"?"+(t.length>10?BOOMR.utils.MD5(t):t)})):e):(BOOMR.error("Passed in URL is invalid: "+e),"")):(BOOMR.addError("TypeError: Not a string","hashQueryString",typeof e),""):e},pluginConfig:function(e,t,n,r){var o,a=0;if(!t||!t[n])return!1;for(o=0;o<r.length;o++)void 0!==t[n][r[o]]&&(e[r[o]]=t[n][r[o]],a++);return a>0},arrayFilter:function(e,t){var n=[];if("function"==typeof e.filter)n=e.filter(t);else for(var r,o=-1,a=e.length;++o<a;)r=e[o],t(r,o,e)&&(n[n.length]=r);return n},addObserver:function(e,t,n,r,o,a){function i(e){var t=!1;u.timer&&(clearTimeout(u.timer),u.timer=null),r&&(t=r.call(a,e,o),t||(r=null)),!t&&u.observer&&(u.observer.disconnect(),u.observer=null),"number"==typeof t&&t>0&&(u.timer=setTimeout(i,t))}var u={observer:null,timer:null};return window.MutationObserver&&r&&e?(u.observer=new MutationObserver(i),n&&(u.timer=setTimeout(i,u.timeout)),u.observer.observe(e,t),u):null},addListener:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},removeListener:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},pushVars:function(e,t,n){var r,o,a,i=0;for(r in t)if(t.hasOwnProperty(r))if("[object Array]"===Object.prototype.toString.call(t[r]))for(o=0;o<t[r].length;++o)i+=BOOMR.utils.pushVars(e,t[r][o],r+"["+o+"]");else a=document.createElement("input"),a.type="hidden",a.name=n?n+"["+r+"]":r,a.value=void 0===t[r]||null===t[r]?"":t[r],e.appendChild(a),i+=encodeURIComponent(a.name).length+encodeURIComponent(a.value).length+2;return i},sendData:function(e,n){function r(e){var t=document.getElementById(e);t&&t.parentNode.removeChild(t)}function o(){var t,n="boomerang_post-"+encodeURIComponent(e.action)+"-"+Math.random();try{t=document.createElement('<iframe name="'+n+'">')}catch(e){t=document.createElement("iframe")}e.action=a.shift(),t.name=t.id=n,t.style.display=e.style.display="none",t.src="javascript:false",r(t.id),r(e.id),document.body.appendChild(t);var i=t.contentWindow||t.contentDocument;i.document&&(i=i.document),i.body?i.body.appendChild(e):i.appendChild(e);try{e.submit()}catch(e){}a.length&&BOOMR.setImmediate(o),setTimeout((function(){r(t.id)}),1e4)}var a=(document.createElement("input"),[t.beacon_url]);e.method=n,e.id="beacon_form",e.enctype="application/x-www-form-urlencoded",t.secondary_beacons&&t.secondary_beacons.length&&a.push.apply(a,t.secondary_beacons),o()}},init:function(r){var a,i,u=["beacon_url","beacon_type","site_domain","user_ip","strip_query_string","secondary_beacons","autorun"];if(n(),r||(r={}),r.primary&&t.handlers_attached)return this;void 0!==r.log&&(this.log=r.log),this.log||(this.log=function(){});for(i in this.plugins)if(this.plugins.hasOwnProperty(i)){if(r[i]&&r[i].hasOwnProperty("enabled")&&r[i].enabled===!1){t.disabled_plugins[i]=1,"function"==typeof this.plugins[i].disable&&this.plugins[i].disable();continue}if(t.disabled_plugins[i]){if(!r[i]||!r[i].hasOwnProperty("enabled")||r[i].enabled!==!0)continue;"function"==typeof this.plugins[i].enable&&this.plugins[i].enable(),delete t.disabled_plugins[i]}if("function"==typeof this.plugins[i].init)try{this.plugins[i].init(r)}catch(e){BOOMR.addError(e,i+".init")}}for(a=0;a<u.length;a++)void 0!==r[u[a]]&&(t[u[a]]=r[u[a]]);return t.handlers_attached?this:(t.onloadfired||void 0!==r.autorun&&r.autorun===!1||(o.readyState&&"complete"===o.readyState?(BOOMR.loadedLate=!0,this.setImmediate(BOOMR.page_ready_autorun,null,null,BOOMR)):e.onpagehide||null===e.onpagehide?BOOMR.utils.addListener(e,"pageshow",BOOMR.page_ready_autorun):BOOMR.utils.addListener(e,"load",BOOMR.page_ready_autorun)),BOOMR.utils.addListener(e,"DOMContentLoaded",(function(){t.fireEvent("dom_loaded")})),(function(){var n,r;for(void 0!==s&&(BOOMR.utils.addListener(o,s,(function(){t.fireEvent("visibility_changed")})),BOOMR.subscribe("visibility_changed",(function(){BOOMR.lastVisibilityEvent[BOOMR.visibilityState()]=BOOMR.now()}))),BOOMR.utils.addListener(o,"mouseup",t.xb_handler("click")),n=o.getElementsByTagName("form"),r=0;r<n.length;r++)BOOMR.utils.addListener(n[r],"submit",t.xb_handler("form_submit"));e.onpagehide||null===e.onpagehide||BOOMR.utils.addListener(e,"unload",(function(){BOOMR.window=e=null}))})(),t.handlers_attached=!0,this)},page_ready_autorun:function(e){t.autorun&&BOOMR.page_ready(e)},page_ready:function(n){return n||(n=e.event),n||(n={name:"load"}),t.onloadfired?this:(t.fireEvent("page_ready",n),t.onloadfired=!0,this)},setImmediate:function(t,n,r,o){var a,i;"undefined"!=typeof Error&&(i=new Error,i=i.stack?i.stack.replace(/^Error/,"Called"):void 0),a=function(){t.call(o||null,n,r||{},i),a=null},e.setImmediate?e.setImmediate(a):e.msSetImmediate?e.msSetImmediate(a):e.webkitSetImmediate?e.webkitSetImmediate(a):e.mozSetImmediate?e.mozSetImmediate(a):setTimeout(a,10)},now:(function(){try{if("performance"in window&&window.performance&&window.performance.now)return function(){return Math.round(window.performance.now()+window.performance.timing.navigationStart)}}catch(e){}return Date.now||function(){return(new Date).getTime()}})(),visibilityState:void 0===l?function(){return"visible"}:function(){return o[l]},lastVisibilityEvent:{},subscribe:function(n,r,o,a){var i,u,l;if(n=n.toLowerCase(),!t.events.hasOwnProperty(n))return this;for(l=t.events[n],i=0;i<l.length;i++)if(u=l[i],u&&u.fn===r&&u.cb_data===o&&u.scope===a)return this;return l.push({fn:r,cb_data:o||{},scope:a||null}),"page_ready"===n&&t.onloadfired&&this.setImmediate(r,null,o,a),"page_unload"!==n&&"before_unload"!==n||!(function(){var i,u=l.length;i=function(i){r&&r.call(a,i||e.event,o),"page_unload"===n&&u===t.events[n].length&&BOOMR.real_sendBeacon()},"page_unload"===n&&(e.onpagehide||null===e.onpagehide?BOOMR.utils.addListener(e,"pagehide",i):BOOMR.utils.addListener(e,"unload",i)),BOOMR.utils.addListener(e,"beforeunload",i)})(),this},addError:function(e,n,r){var o;"string"!=typeof e&&(o=String(e),o.match(/^\[object/)&&(o=e.name+": "+(e.description||e.message).replace(/\r\n$/,"")),e=o),void 0!==n&&(e="["+n+":"+BOOMR.now()+"] "+e),r&&(e+=":: "+r),t.errors[e]?t.errors[e]++:t.errors[e]=1},isCrossOriginError:function(e){return"SecurityError"===e.name||"TypeError"===e.name&&"Permission denied"===e.message||"Error"===e.name&&e.message&&e.message.match(/^(Permission|Access is) denied/)},addVar:function(e,n){if("string"==typeof e)t.vars[e]=n;else if("object"==typeof e){var r,o=e;for(r in o)o.hasOwnProperty(r)&&(t.vars[r]=o[r])}return this},removeVar:function(e){var n,r;if(!arguments.length)return this;for(r=1===arguments.length&&"[object Array]"===Object.prototype.toString.apply(e)?e:arguments,n=0;n<r.length;n++)t.vars.hasOwnProperty(r[n])&&delete t.vars[r[n]];return this},hasVar:function(e){return t.vars.hasOwnProperty(e)},requestStart:function(e){var t=BOOMR.now();return BOOMR.plugins.RT.startTimer("xhr_"+e,t),{loaded:function(n){BOOMR.responseEnd(e,t,n)}}},responseEnd:function(e,n,r){"object"==typeof e&&e.url?t.fireEvent("xhr_load",e):(BOOMR.plugins.RT.startTimer("xhr_"+e,n),t.fireEvent("xhr_load",{name:"xhr_"+e,data:r}))},uninstrumentXHR:function(){},instrumentXHR:function(){},sendBeacon:function(e){return e&&(t.beacon_url=e),t.beaconQueued||(t.beaconQueued=!0,BOOMR.setImmediate(BOOMR.real_sendBeacon,null,null,BOOMR)),!0},real_sendBeacon:function(){var n,r,a,i,u,l=0,s=[],c=0;if(!t.beaconQueued)return!1;t.beaconQueued=!1,BOOMR.debug("Checking if we can send beacon");for(n in this.plugins)if(this.plugins.hasOwnProperty(n)){if(t.disabled_plugins[n])continue;if(!this.plugins[n].is_complete())return BOOMR.debug("Plugin "+n+" is not complete, deferring beacon send"),!1}var d="spa"===t.vars["http.initiator"],f=d?o.URL:o.URL.replace(/#.*/,"");t.vars.pgu=BOOMR.utils.cleanupURL(f),t.vars.u&&!d||(t.vars.u=t.vars.pgu),t.vars.pgu===t.vars.u&&delete t.vars.pgu,t.vars.v=BOOMR.version,BOOMR.visibilityState()&&(t.vars["vis.st"]=BOOMR.visibilityState(),BOOMR.lastVisibilityEvent.visible&&(t.vars["vis.lv"]=BOOMR.now()-BOOMR.lastVisibilityEvent.visible),BOOMR.lastVisibilityEvent.hidden&&(t.vars["vis.lh"]=BOOMR.now()-BOOMR.lastVisibilityEvent.hidden)),t.vars["ua.plt"]=navigator.platform,t.vars["ua.vnd"]=navigator.vendor,e!==window&&(t.vars.if="");for(n in t.errors)t.errors.hasOwnProperty(n)&&s.push(n+(t.errors[n]>1?" (*"+t.errors[n]+")":""));if(s.length>0&&(t.vars.errors=s.join("\n")),t.errors={},t.fireEvent("before_beacon",t.vars),BOOMR.debug("Ready to send beacon: "+BOOMR.utils.objectToString(t.vars)),!t.beacon_url)return BOOMR.debug("No beacon URL, so skipping."),!0;if(BOOMR.hasVar("restiming"))r=document.createElement("form"),l=BOOMR.utils.pushVars(r,t.vars);else{u=[];for(n in t.vars)t.vars.hasOwnProperty(n)&&(c++,u.push(encodeURIComponent(n)+"="+(void 0===t.vars[n]||null===t.vars[n]?"":encodeURIComponent(t.vars[n]))));a=t.beacon_url+(t.beacon_url.indexOf("?")>-1?"&":"?")+u.join("&")}if(t.fireEvent("onbeacon",t.vars),0===l&&0===c)return this;if(c){if(i=new Image,i.src=a,t.secondary_beacons)for(n=0;n<t.secondary_beacons.length;n++)a=t.secondary_beacons[n]+"?"+u.join("&"),i=new Image,i.src=a}else BOOMR.utils.sendData(r,"AUTO"===t.beacon_type?l>2e3?"POST":"GET":"POST");return!0}},delete window.BOOMR_start,"number"==typeof BOOMR_lstart?(r.t_lstart=BOOMR_lstart,delete window.BOOMR_lstart):"number"==typeof BOOMR.window.BOOMR_lstart&&(r.t_lstart=BOOMR.window.BOOMR_lstart),"number"==typeof BOOMR.window.BOOMR_onload&&(r.t_onload=BOOMR.window.BOOMR_onload),(function(){var e;"object"==typeof console&&void 0!==console.log&&(r.log=function(e,t,n){console.log(n+": ["+t+"] "+e)}),e=function(e){return function(t,n){return this.log(t,e,"boomerang"+(n?"."+n:"")),this}},r.debug=e("debug"),r.info=e("info"),r.warn=e("warn"),r.error=e("error")})(),(function(){var e;for(e in r)r.hasOwnProperty(e)&&(BOOMR[e]=r[e]);BOOMR.xhr_excludes||(
//! URLs to exclude from automatic XHR instrumentation
BOOMR.xhr_excludes={})})(),u("onBoomerangLoaded",{BOOMR:BOOMR},!0))})(window),(function(){function e(e){if(!e)return null;e.href=e.href;var t=e.pathname;return"/"!==t.charAt(0)&&(t="/"+t),t}function t(t){return BOOMR.xhr_excludes.hasOwnProperty(t.href)||BOOMR.xhr_excludes.hasOwnProperty(t.hostname)||BOOMR.xhr_excludes.hasOwnProperty(e(t))}function n(){this.watch=0,this.timer=null,this.pending_events=[]}function r(){BOOMR.subscribe("click",(function(){if(!s){var e={timing:{},initiator:"click"};BOOMR.orig_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest!==BOOMR.window.XMLHttpRequest&&(e.timing.requestStart=BOOMR.now(),u.addEvent(e))}}))}function o(){if(!BOOMR.proxy_XMLHttpRequest||BOOMR.proxy_XMLHttpRequest!==BOOMR.window.XMLHttpRequest){if(BOOMR.proxy_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest===BOOMR.window.XMLHttpRequest)return BOOMR.window.XMLHttpRequest=BOOMR.proxy_XMLHttpRequest,void n.start();BOOMR.orig_XMLHttpRequest=BOOMR.window.XMLHttpRequest,n.start(),r(),BOOMR.proxy_XMLHttpRequest=function(){var e,n,r,o={timing:{},initiator:"xhr"};return e=new BOOMR.orig_XMLHttpRequest,n=e.open,r=e.send,e.open=function(r,a,i){function f(){o.timing.loadEventEnd||(o.timing.loadEventEnd=BOOMR.now(),o.index>-1?u.load_finished(o.index):s&&!c||u.addEvent(o))}function _(t,n){e.addEventListener(t,(function(){"readystatechange"===t?(o.timing[d[e.readyState]]=BOOMR.now(),4===e.readyState&&f()):(o.status=void 0===n?e.status:n,f())}),!1)}if(l.href=a,t(l))return n.apply(e,arguments);void 0===i&&(i=!0),s&&u.watch&&u.add_event_resource(o),i&&_("readystatechange"),_("load"),_("timeout",p),_("error",m),_("abort",h),o.url=l.href,o.method=r,delete o.status,i||(o.synchronous=!0);try{return n.apply(e,arguments)}catch(e){o.status=g,f()}},e.send=function(){if(o.timing.requestStart=BOOMR.now(),"undefined"==typeof o.status||o.status!==g)return r.apply(e,arguments)},e.resource=o,e},BOOMR.window.XMLHttpRequest=BOOMR.proxy_XMLHttpRequest}}function a(){BOOMR.orig_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest!==BOOMR.window.XMLHttpRequest&&(BOOMR.window.XMLHttpRequest=BOOMR.orig_XMLHttpRequest)}var i,u,l,s=!1,c=!1,d=["uninitialized","open","responseStart","domInteractive","responseEnd"],f=1e3,p=-1001,h=-999,m=-998,g=-997;window.XMLHttpRequest&&(new XMLHttpRequest).addEventListener&&(BOOMR=BOOMR||{},BOOMR.plugins=BOOMR.plugins||{},BOOMR.plugins.AutoXHR||(n.stop=function(){n.observer&&n.observer.observer&&(n.observer.observer.disconnect(),n.observer=null)},n.start=function(){n.observer=BOOMR.utils.addObserver(i,{childList:!0,attributes:!0,subtree:!0,attributeFilter:["src","href"]},null,u.mutation_cb,null,u),BOOMR.subscribe("page_unload",n.stop,null,n)},n.prototype.addEvent=function(e){var t,r,o={type:e.initiator,resource:e,nodes_to_wait:0,resources:[],complete:!1},a=this.pending_events.length;for(t=a-1;t>=0;t--)if(this.pending_events[t]&&!this.pending_events[t].complete){r=this.pending_events[t];break}if(r)if("click"===r.type){if(0===r.nodes_to_wait||!r.resource.url)return this.pending_events[t]=void 0,null}else if("xhr"===r.type){if("click"===o.type)return null}else if("spa"===r.type&&"xhr"===o.type)return null;return this.watch++,this.pending_events.push(o),n.observer?("spa"!==o.type?this.setTimeout(50,a):this.setTimeout(f,a),a):(e.url&&e.timing.loadEventEnd&&this.sendEvent(a),null)},n.prototype.sendEvent=function(e){var t=this.pending_events[e];if(t&&!t.complete){if(t.complete=!0,this.watch--,this.clearTimeout(),t.resource.resources=t.resources,BOOMR.plugins.ResourceTiming&&BOOMR.plugins.ResourceTiming.is_supported()&&t.resource.timing&&t.resource.timing.requestStart){var n=BOOMR.plugins.ResourceTiming.getResourceTiming(t.resource.timing.requestStart);BOOMR.addVar("restiming",JSON.stringify(n))}t.resource.onComplete&&t.resource.onComplete();var r=t.resource.timing?t.resource.timing.requestStart:void 0;BOOMR.responseEnd(t.resource,r,t.resource),this.pending_events[e]=void 0}},n.prototype.setTimeout=function(e,t){var n=this;e&&(this.clearTimeout(),this.timer=setTimeout((function(){n.timedout(t)}),e))},n.prototype.timedout=function(e){this.clearTimeout(),!this.pending_events[e]||"xhr"!==this.pending_events[e].type&&"spa"!==this.pending_events[e].type?(this.watch>0&&this.watch--,this.pending_events[e]=void 0):"xhr"===this.pending_events[e].type?this.sendEvent(e):"spa"===this.pending_events[e].type&&0===this.pending_events[e].nodes_to_wait&&this.sendEvent(e)},n.prototype.clearTimeout=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},n.prototype.load_cb=function(e){var t,n;t=e.target||e.srcElement,t&&t._bmr&&(t._bmr.end||(t._bmr.end=BOOMR.now(),t._bmr.state=e.type,n=t._bmr.res,this.load_finished(n)))},n.prototype.load_finished=function(e){var t=this.pending_events[e];t&&(t.nodes_to_wait--,0===t.nodes_to_wait&&(t.resource.timing.loadEventEnd=BOOMR.now(),"spa"===t.type?this.setTimeout(f,e):this.sendEvent(e)))},n.prototype.wait_for_node=function(e,n){var r,o,a,i,u,c=this,d=!1,f=!1;if(e.nodeName.match(/^(IMG|SCRIPT|IFRAME)$/)||"LINK"===e.nodeName&&e.rel&&e.rel.match(/\<stylesheet\>/i)){if(e._bmr&&e._bmr.end&&(f=!0),e._bmr={start:BOOMR.now(),res:n},u=e.src||e.href,"IMG"===e.nodeName){if(e.naturalWidth&&!f)return!1;if(""===e.getAttribute("src"))return!1}if(!u||u.match(/^(about:|javascript:)/i))return!1;if(r=this.pending_events[n],!r)return!1;if(r.urls||(r.urls={}),r.urls[u])return!1;if("SCRIPT"===e.nodeName&&s)return!1;if(!r.resource.url&&("SCRIPT"===e.nodeName||"IMG"===e.nodeName)){if(l.href=u,t(l))return!1;r.resource.url=l.href}e.addEventListener("load",(function(e){c.load_cb(e)})),e.addEventListener("error",(function(e){c.load_cb(e)})),r.nodes_to_wait++,r.resources.push(e),r.urls[u]=1,d=!0}else if(e.nodeType===Node.ELEMENT_NODE&&(o=e.getElementsByTagName("IMG"),o&&o.length))for(a=0,i=o.length;a<i;a++)d|=this.wait_for_node(o[a],n);return d},n.prototype.add_event_resource=function(e){var t,n=this.pending_events.length-1;return n<0?-1:(t=this.pending_events[n])&&e?(t.nodes_to_wait++,e.index=n,n):-1},n.prototype.mutation_cb=function(e){var t,n,r;return!this.watch||(this.clearTimeout(),t=this,n=!1,r=this.pending_events.length-1,r<0||!this.pending_events[r]||(e&&e.length&&(this.pending_events[r].resource.timing.domComplete=BOOMR.now(),e.forEach((function(e){var o,a;if("attributes"===e.type)n|=t.wait_for_node(e.target,r);else if("childList"===e.type)for(a=e.addedNodes.length,o=0;o<a;o++)n|=t.wait_for_node(e.addedNodes[o],r)}))),n||this.setTimeout(f,r),!0))},n.prototype.queue_is_empty=function(){if(0===this.pending_events.length)return!0;var e=this.pending_events.length-1;return!this.pending_events[e]||0===this.pending_events[e].nodes_to_wait},u=new n,BOOMR.plugins.AutoXHR={is_complete:function(){return!0},init:function(e){if(i=BOOMR.window.document,l=BOOMR.window.document.createElement("A"),BOOMR.instrumentXHR=o,BOOMR.uninstrumentXHR=a,c=e.instrument_xhr,BOOMR.plugins.SPA&&BOOMR.plugins.SPA.supported_frameworks)for(var t=BOOMR.plugins.SPA.supported_frameworks(),n=0;n<t.length;n++){var r=t[n];if(e[r]&&e[r].enabled){s=!0;break}}s?(c=!1,BOOMR.instrumentXHR()):c?BOOMR.instrumentXHR():c===!1&&BOOMR.uninstrumentXHR()},getMutationHandler:function(){return u},getPathname:e,enableAutoXhr:function(){c=!0}}))})(),(function(){var e=!1,t=!1,n=!1,r="",o=!1,a=[];BOOMR.plugins.SPA||(BOOMR.plugins.SPA={is_complete:function(){return!0},init:function(e){e&&e.instrument_xhr&&(o=e.instrument_xhr,t&&o&&BOOMR.plugins.AutoXHR.enableAutoXhr())},register:function(e){a.push(e)},supported_frameworks:function(){return a},hook:function(t){return e?this:(t&&(o&&BOOMR.plugins.AutoXHR.enableAutoXhr(),n=!0,BOOMR.addVar("http.initiator","spa"),BOOMR.page_ready()),e=!0,this)},route_change:function(){t=!0;var e=n?BOOMR.now():BOOMR.plugins.RT.navigationStart(),a=r?r:BOOMR.window.document.URL,i={timing:{requestStart:e},initiator:"spa",url:a};n||(i.onComplete=function(){n=!0}),i.index=BOOMR.plugins.AutoXHR.getMutationHandler().addEvent(i),o&&BOOMR.plugins.AutoXHR.enableAutoXhr()},last_location:function(e){r=e}})})(BOOMR.window)},[1604,804],function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),o=(function(){function e(){n(this,e),this.isEnabled=!0,this.handleHistoryChange=this.handleHistoryChange.bind(this),this.handleRouteChange=this.handleRouteChange.bind(this)}return r(e,[{key:"is_complete",value:function(){return!0}},{key:"hook",value:function(e){window.addEventListener("beforepushstate",this.handleHistoryChange),window.addEventListener("beforereplacestate",this.handleHistoryChange),window.addEventListener("popstate",this.handleHistoryChange),window.addEventListener("hashchange",this.handleHistoryChange),window.addEventListener("pushstate",this.handleRouteChange),window.addEventListener("replacestate",this.handleRouteChange),window.addEventListener("popstate",this.handleRouteChange),window.addEventListener("hashchange",this.handleRouteChange),window.BOOMR.plugins.SPA.hook(e)}},{key:"enable",value:function(){return this.isEnabled=!0,this}},{key:"disable",value:function(){return this.isEnabled=!1,this}},{key:"handleHistoryChange",value:function(e){if(this.isEnabled){var t=e.url||window.location.href;window.BOOMR.plugins.SPA.last_location(t)}}},{key:"handleRouteChange",value:function(){this.isEnabled&&window.BOOMR.plugins.SPA.route_change()}}]),e})();t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(806),a=r(o);t.default=a.default},function(e,t){"use strict";function n(){a||(a=!0,r(history,"pushState","beforepushstate","pushstate"),r(history,"replaceState","beforereplacestate","replacestate"))}function r(e,t,n,r){var a=e[t];e[t]=function(t,i,u){o(n,u),a.call(e,t,i,u),o(r,u)}}function o(e,t){var n=window.document.createEvent("Event");n.url=t,n.initEvent(e,!1,!1),window.dispatchEvent(n)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var a=!1},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=(r(l),n(805)),c=r(s),d=n(803),f=r(d),p=(function(e){function t(e){o(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return(0,c.default)(),n.plugin=new f.default,n}return i(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this.props.onNavigationComplete;n(801);var t=window,r=t.BOOMR;r.plugins.SPA.register("React"),r.plugins.React=this.plugin,r.init({React:{enabled:!0},autorun:!1,instrument_xhr:!0}).subscribe("xhr_load",(function(t){"spa"===t.initiator&&e&&e(t)})),this.plugin.hook(!0)}},{key:"render",value:function(){return null}}]),t})(l.Component);t.default=p,p.propTypes={onNavigationComplete:l.PropTypes.func},p.initialize=c.default},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){window.onerror=function(t,n,r,o,a){e.executeAction(i.default,{error:a,type:"Uncaught client error",message:t,meta:{file:n,line:r,column:o}})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(251),i=r(a);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),n(1400),n(1375);var o=n(460),a=r(o),i=n(55),u=r(i),l=n(250),s=r(l),c=n(1),d=r(c),f=n(28),p=r(f),h=n(68),m=n(927),g=r(m),_=n(388),y=r(_),b=n(970),v=r(b),E=n(933),T=r(E),O=n(925),P=r(O),w=n(3),I=r(w);u.default.enable(window[a.default.APP_DEBUG]);var S=window[a.default.APP_STATE],C=S.appName,x=S.config,k=S.locale,D=S.localizedStrings;window.debug=s.default,window.React=d.default,window.ReactDOM=p.default;var A=v.default.createContext({locale:k,localizedStrings:D});(0,P.default)(A),t.default=Promise.resolve().then((function(){return A.executeAction(y.default,x)})).then((function(){var e=A.getStore(I.default.ROUTE).getRoute(window.location.pathname+window.location.search);if(!e)return window.location="/",Promise.reject(e)})).then((function(){return A.executeAction(T.default).catch((function(e){(0,s.default)("auth err",e)}))})).then((function(){return A.executeAction(g.default,C)})).then((function(){return p.default.render((0,h.createElementWithContext)(A),document.getElementById("editor"))})).then((function(){(0,s.default)("mounted")})).catch((function(e){throw(0,s.default)("route error",e),e})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return e.dispatch(i.default.APP_SET_NAME,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(31),i=r(a);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.device,r=t.orientation,o=t.keyboardVisible;return e.dispatch(i.default.APP_SET_DEVICE_AND_ORIENTATION,{device:n,orientation:r,keyboardVisible:o})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(31),i=r(a);e.exports=t.default},function(e,t,n){"use strict";function r(e){e.dispatch(o.APP_SET_FULL_ERROR_PAGE,{force:!0})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(31);t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.dispatch(r.APP_SET_SCALE,{id:t.id,scale:t.scale})};var r=n(31);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return e.dispatch(i.default.APP_TOGGLE_EMAIL_MARKETING,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(31),i=r(a);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.id,r=t.packs,o=t.packCategories;return e.dispatch(i.default.SET_WEBSITE_THEME,{id:n,packs:r,packCategories:o})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(53),i=r(a);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.getStore(i.default.CONFIG),n=e.getCookie(t.get("auth.cookie"));return n?e.dispatch(l.default.AUTH_SET_INFO,n):e.dispatch(l.default.AUTH_REMOVE_INFO),Promise.resolve()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(3),i=r(a),u=n(176),l=r(u);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.domainName,r=t.accountId,o=function(){return e.dispatch(l.SET_MODAL,{modal:null})};return Promise.resolve().then((function(){return e.dispatch(l.SET_MODAL,{modal:i.default.createElement(m.default,null),forceModal:!0})})).then((function(){return e.executeAction(p.default,{domainName:n})})).then((function(){(0,u.logImpression)(d.default.domain_attach.domain_attach_after_purchase_success)})).then((function(){return e.executeAction(b.default,{domainName:n,accountId:r,traffic2Prefix:d.default.domain_attach,fallbackModal:i.default.createElement(_.default,{domainName:n,close:o})})})).catch((function(t){(0,u.logEvent)({code:d.default.domain_attach.domain_attach_after_purchase,message:t}),e.dispatch(s.APP_TOGGLE_ERROR_PAGE,{enable:!0})}))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=r(a),u=n(11),l=n(81),s=n(31),c=n(9),d=r(c),f=n(232),p=r(f),h=n(1097),m=r(h),g=n(1098),_=r(g),y=n(110),b=r(y);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.accountId;return e.executeAction(i.default,{accountId:n}).then((function(t){return e.dispatch(l.default.SET_DOMAINS,t),Promise.resolve()}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(1177),i=r(a),u=n(95),l=r(u);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return e.dispatch(i.default.SET_DOMAIN_SEARCH,{alternatives:[],exactMatch:null})}Object.defineProperty(t,"__esModule",{value:!0});var a=n(95),i=r(a);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return e.dispatch(i.default.SET_DOMAIN_SUGGESTIONS,{suggestions:[]})}Object.defineProperty(t,"__esModule",{value:!0});var a=n(95),i=r(a);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.domainName,r=e.getStore(f.default.DOMAIN).getAvailableDomainNames();return r.contains(n)?e.executeAction(c.default,{domainName:n}):Promise.resolve().then((function(){return e.executeAction(l.default,{domainName:n})})).then((function(t){var r=t.domainAvailable;return r?e.executeAction(i.default,{domainName:n}):Promise.reject(new Error(n+" is not available"))})).then((function(){return e.executeAction(c.default,{domainName:n})}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(965),i=r(a),u=n(939),l=r(u),s=n(232),c=r(s),d=n(3),f=r(d);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){function n(t){var n=[404,200].includes(t.status);return e.dispatch(u.SET_DOMAIN_AVAILABLE,{domainAvailable:n}),Promise.resolve({domainAvailable:n})}var r=t.domainName;return e.executeAction(i.default,{domain:r}).then(n,(function(e){return n(e.response)}))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1176),i=r(a),u=n(95);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(63),a=r(o),i=n(228),u=r(i),l=n(388),s=r(l);t.default={website:{update:a.default},page:{update:u.default},config:{update:s.default}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=e.getStore(D.CONFIG),r=n.getFeatureFlag("enableDashboardRedirect"),o=t.query.account_uid;if(!o||A.all.has(o))return e.executeAction(C.default,{accountId:o});var u={domain:function(t){return e.executeAction(g.default,{domainName:t,accountId:o})},path:function(t){return t&&"renew"===t.toLowerCase()&&e.executeAction(y.default,{accountId:o,traffic2Prefix:k.default.lifecycle_email})},purchaseComplete:function(){return e.executeAction(I.default)}};return Promise.all([e.executeAction(l.default,{accountId:o}),e.executeAction(T.default).then((function(t){return e.executeAction(P.default,{config:t})}))]).then((function(t){var n=a(t,1),r=n[0];return e.executeAction(v.default,{website:r}).then((function(){return r}))})).then((function(n){var o=!!(0,i.get)(n,"properties.firstPublishUtcDateTime"),a=Object.keys(u).some((function(e){return t.query[e]})),l=r&&o&&!a;return l?e.executeAction(f.default,n):e.executeAction(c.default,{website:n})})).then((function(){return Object.keys(u).find((function(e){var n=t.query[e];if(n)return u[e](n)}))})).catch((function(t){if(404===(0,i.get)(t,"response.status"))return e.executeAction(h.default,{accountId:o});throw t}))}Object.defineProperty(t,"__esModule",{value:!0});var a=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})();t.default=o;var i=n(2),u=n(1172),l=r(u),s=n(399),c=r(s),d=n(954),f=r(d),p=n(229),h=r(p),m=n(934),g=r(m),_=n(110),y=r(_),b=n(231),v=r(b),E=n(225),T=r(E),O=n(393),P=r(O),w=n(957),I=r(w),S=n(398),C=r(S),x=n(9),k=r(x),D=n(3),A=n(468);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=e.getStore(s.default.REGISTRY).getRegistry();return new Promise(function(r,o){var a=t.get("id");n.loadWidgetLayout(c,a,(function(t,n){return t||!n.Component?void o(t):void r(e.executeAction(u.default,{type:c,preset:a,data:n}))}))})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(15),i=n(394),u=r(i),l=n(3),s=r(l),c=a.constants.widgetTypes.LAYOUT;e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.getStore(l.default.REGISTRY).getLayoutVariations();if(t)return Promise.all(t.map((function(t){return e.executeAction(i.default,t)})))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(942),i=r(a),u=n(3),l=r(u);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return e.dispatch(i.default.NOTIFICATION_DISMISS)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(81),i=r(a);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.pageName,r=t.externalUrl,o=t.showLink,a=e.getStore(i.default.WEBSITE).getCurrentWebsiteId(),u=e.getStore(i.default.PAGE).getPages(),s=r&&!r.match(/^[a-zA-Z]+:\/\//)?"http://"+r:r,f=r?s:(0,g.getUniqueRoutePath)(n,u),h={websiteId:a,title:n,name:n,properties:{routePath:f},options:{showLink:o,isExternalUrl:!!r}};return e.executeAction(y.default).then((function(){return e.executeAction(l.default,h)})).then((function(t){var n=t.id;return e.executeAction(c.default,{websiteId:a,pageId:n})})).then((function(t){if(e.dispatch(d.ADD_PAGE,t),!r)return e.executeAction(m.default,{routeName:p.default.EDIT,params:{websiteId:a,pageId:t.id}})}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(3),i=r(a),u=n(1184),l=r(u),s=n(1179),c=r(s),d=n(82),f=n(10),p=r(f),h=n(17),m=r(h),g=n(498),_=n(76),y=r(_);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.pageId,r=e.getStore(c.default.WEBSITE).getCurrentWebsite().toJS(),o=e.getStore(c.default.PAGE).getCurrentPageId(),a=r.id;return e.executeAction(g.default).then((function(){return e.executeAction(h.default,{websiteId:a,pageId:n})})).then((function(){if(e.dispatch(i.default.DELETE_PAGE,{pageId:n}),o===n)return e.executeAction(f.default,{routeName:l.default.EDIT,params:{websiteId:a,pageId:r.homepageId}})}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(82),i=r(a),u=n(10),l=r(u),s=n(3),c=r(s),d=n(17),f=r(d),p=n(1178),h=r(p),m=n(76),g=r(m);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.pageId,r=e.getStore(l.default.PAGE).getCurrentPage();if(r&&r.get("id")===n)return Promise.resolve();var o=e.getStore(l.default.WEBSITE).getCurrentWebsiteId();return e.executeAction(c.default,{websiteId:o,pageId:n}).then((function(t){e.dispatch(i.default.SET_PAGE_AND_WIDGETS,{pageId:n,widgets:t})}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(82),i=r(a),u=n(3),l=r(u),s=n(1181),c=r(s);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.type,r=t.manifest;return e.dispatch(i.default.SET_WIDGET_MANIFEST,{type:n,manifest:r}),Promise.resolve()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(117),i=r(a);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.pageId,r=t.query,o=t.routePath,a=t.routeName,u=e.getStore(i.default.PAGE),s=void 0;if(o&&(s=u.getPageByRoutePath(o),n=s&&s.get("id")),n)return s=s||u.getPage(n),s&&s.getIn(["options","isExternalUrl"],!1)?(window.open(o||s.getIn(["properties","routePath"]),"_blank"),Promise.resolve()):e.executeAction(l.default,{routeName:a,params:{pageId:n},query:r})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(3),i=r(a),u=n(17),l=r(u);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.widget,r=t.fieldGroupName,o=t.fieldProperty,a=t.fieldDataObject,i=n.id,l=n.type,s=n.properties;s=void 0===s?{}:s;var c=s.preset,f=e.getStore(d.default.REGISTRY),p=f.getVariationByType(l,c),h=p&&p.get("fieldSets").toJS()||[],g=u(i,h,r,o,a);g&&e.executeAction(m.default,g)}function a(e,t){var n=null;return e.some((function(e){return e.fields.some((function(r){var o=r.property,a=r.linkToDataObjectProperty;if(o===t||a===t)return n={fieldSet:e,field:r},!0}))})),n}function i(e,t){var n=e.find((function(e){return e.name===t}));return n?{fieldSet:n}:null}function u(e,t,n,r,o){var u=i(t,n)||a(t,r);if(!u)return null;var c=null,d=u.field,f=void 0===d?{}:d,h=u.fieldSet.name,m={params:{widgetId:e,fieldSet:h},preserveScrollPosition:!0};if(f.linkToDataObjectProperty)c=(0,l.merge)(m,{routeName:p.default.EDIT_WIDGET_DATA,params:{dataObjectProperty:r,dataObjectPropertyId:o}});else if(f.type===s.constants.editors.IMAGE||f.type===s.constants.editors.BACKGROUND)c=(0,l.merge)(m,{routeName:p.default.EDIT_WIDGET_PROP,params:{prop:r}});else{var g={routeName:p.default.EDIT_WIDGET_PROPS};(0,l.isEmpty)(f)||(g.query={prop:r}),c=(0,l.merge)(m,g)}return c}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var l=n(2),s=n(15),c=n(3),d=r(c),f=n(10),p=r(f),h=n(17),m=r(h);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.param;if(n)return e.executeAction(i.default,{pageId:n})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(947),i=r(a);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.param;if(n)return e.executeAction(i.default,{websiteId:n})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(399),i=r(a);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){var r=t.param;e.dispatch(i.default.SET_WIDGET_ID,{widgetId:r}),n()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(83),i=r(a);e.exports=t.default},function(e,t,n){"use strict";function r(e,t){var n=t.accountId,r=e.getStore(o.CONFIG),a=e.getStore(o.AUTH).getResellerId();return window.location.href=r.getURL("dashboard.url",a)+"/account/"+n,new Promise(function(){})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(3);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return e.executeAction(i.default,{routeName:u.SELECT_WEBSITE,params:{locale:e.getCookie("market")||"en-US"}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(17),i=r(a),u=n(10);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.accountId,r=t.traffic2Prefix;if(!n)return Promise.reject("accountId is required");var o=function(){return e.executeAction(f.default)},a=function(){return e.dispatch(p.SET_MODAL,{modal:null})};return e.executeAction(l.default,{accountId:n}).then((function(){e.executeAction(c.default,{showFreeTrialBanner:!1}),e.dispatch(h.SHOPPER_SET_AUTORENEW,!0),e.dispatch(p.SET_MODAL,{modal:i.default.createElement(y.default,{handleClose:a,traffic2Prefix:r}),forceModal:!0})})).catch((function(){e.dispatch(p.SET_MODAL,{modal:i.default.createElement(g.default,{handleContinue:o,traffic2Prefix:r}),forceModal:!0})}))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=r(a),u=n(1188),l=r(u),s=n(387),c=r(s),d=n(396),f=r(d),p=n(81),h=n(246),m=n(1103),g=r(m),_=n(448),y=r(_);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=function(){return e.dispatch(s.SET_MODAL,{modal:null})};return e.dispatch(s.SET_MODAL,{modal:i.default.createElement(l.default,{handleClose:t,traffic2Prefix:d.default.free_trial_banner}),forceModal:!0})}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=r(a),u=n(448),l=r(u),s=n(81),c=n(9),d=r(c);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.getStore(l.default.CONFIG),n=t.getFeatureFlag("enableSuspensionModals");if(n){var r={goToMYA:function(){window.location.href=t.getURL("mya.url")}};e.executeAction(c.default,{modal:i.default.createElement(f.default,r),forceModal:!0})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(1),i=r(a),u=n(3),l=r(u),s=n(35),c=r(s),d=n(1115),f=r(d);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.getStore(l.default.CONFIG),n=t.getFeatureFlag("enableExpiredModal");if(n){var r=e.getStore(l.default.WEBSITE),o=r.isWebsiteSuspended(),a={goToMYA:function(){window.location.href=t.getURL("mya.url")},handlePurchaseNow:function(){e.executeAction(c.default)}};o?e.executeAction(f.default,{modal:i.default.createElement(h.default,a),forceModal:!0}):e.executeAction(f.default,{modal:i.default.createElement(g.default,a),forceModal:!0})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(1),i=r(a),u=n(3),l=r(u),s=n(961),c=r(s),d=n(35),f=r(d),p=n(1106),h=r(p),m=n(1105),g=r(m);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.getStore(l.default.CONFIG),n=t.getFeatureFlag("enableSuspensionModals");if(n){var r={goToMYA:function(){window.location.href=t.getURL("mya.url")}};e.executeAction(c.default,{modal:i.default.createElement(f.default,r),forceModal:!0})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(1),i=r(a),u=n(3),l=r(u),s=n(35),c=r(s),d=n(1116),f=r(d);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.getStore(i.default.WEBSITE),n=e.getStore(i.default.CONFIG),r=n.getURL("legacyCart.url"),o=t.getCurrentWebsiteAccountId();return e.executeAction(l.default,{accountId:o}).then((function(){window.location.href=(0,c.default)(r,{itc:"app_vnext_free_trial_expired_renewal"})}))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),i=r(a),u=n(1189),l=r(u),s=n(177),c=r(s);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.category,r=t.fetchParents;if(!n)return Promise.resolve([]);var o={businessCategory:n};return r&&(o.parentBackfill="true"),e.executeAction(l.default,o).then((function(t){if(!t)return Promise.resolve([]);var r=t.results,o=void 0===r?[]:r,a=e.getStore(f.default.CONFIG),u=a.get("images.stock.baseDownloadURL"),l=o.filter((function(e){return e.large})).map((function(e){var t=e.large;return u+"/"+(0,i.default)(t).split("/").last()}));return e.dispatch(s.SET_STOCK_PHOTOS,{category:n,images:l}),l})).catch((function(t){var r=t||{},o=r.response;o=void 0===o?{}:o;var a=o.status,i=void 0===a?500:a;if(422!==i)throw e.dispatch(c.APP_TOGGLE_ERROR_PAGE,{
enable:!0}),t;var u=[];return e.dispatch(s.SET_STOCK_PHOTOS,{category:n,images:u}),u}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(2),i=r(a),u=n(1190),l=r(u),s=n(464),c=n(31),d=n(3),f=r(d);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.getStore(i.default.SHOPPER),n=e.getStore(i.default.WEBSITE),r=n.isWebsiteSuspended(),o=n.isWebsiteAbuseSuspended(),a=n.getCurrentWebsiteAccountId();return e.executeAction(l.default,{accountId:a}).then((function(){if(o)return e.executeAction(f.default);var n=t.isUnderFreeTrialSuspension();if(n)return e.executeAction(h.default);var a=t.isFreeTrialSubscription()&&r;if(a)return e.executeAction(f.default);var i=t.isPaidSubscription()&&r;return i?e.executeAction(c.default):void 0}),(function(){if(o)return e.executeAction(f.default)}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(3),i=r(a),u=n(230),l=r(u),s=n(960),c=r(s),d=n(958),f=r(d),p=n(959),h=r(p);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.getStore(i.default.WEBSITE).getCurrentWebsiteId();return e.executeAction(h.default).then((function(){return e.executeAction(l.default,{websiteId:t})})).then((function(){e.executeAction(f.default)})).catch((function(){e.executeAction(c.default)}))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),i=r(a),u=n(1195),l=r(u),s=n(929),c=r(s),d=n(229),f=r(d),p=n(76),h=r(p);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=t.domainName,r=o({},l.default.EXTERNAL_DOMAIN_NAME,n);return e.dispatch(i.SET_WEBSITE_PROPERTIES,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=n(53),u=n(65),l=r(u);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.navigation,r=e.getStore(l.default.WEBSITE),o=r.getCurrentWebsite();return!o||(0,i.isEqual)(r.getNavigation().toJS(),n)?Promise.resolve():void e.dispatch(a.SET_WEBSITE_DATA,{navigation:n})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(53),i=n(2),u=n(3),l=r(u);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return e.dispatch(i.default.SET_WEBSITE_OPTIONS,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(53),i=r(a);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=e.dispatch,r=e.executeAction,o=t.widget,a=o.id,u=o.websiteId,s=o.pageId;if(a&&u&&s)return r(h.default).then((function(){return r(f.default,{widgetId:a,websiteId:u,pageId:s})})).then((function(){n(i.default.DELETE_PAGE_WIDGET,{widget:o})})).then((function(){return r(c.default,{routeName:l.default.EDIT})}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(83),i=r(a),u=n(10),l=r(u),s=n(17),c=r(s),d=n(1180),f=r(d),p=n(76),h=r(p);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.navigation,r=n.slice(1,-1),o=e.getStore(u.default.PAGE);return(0,l.isEqual)(o.getRootWidgetIds().toJS(),r)?Promise.resolve():void e.dispatch(a.REARRANGE_WIDGETS,{widgetIds:r})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(83),i=n(3),u=r(i),l=n(2);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(194),a=r(o),i=n(1435),u=r(i),l=n(562),s=r(l),c=n(2),d=n(320),f=r(d),p=n(250),h=r(p),m=n(253),g=r(m),_=n(972),y=r(_),b=n(460),v=r(b),E=new a.default({component:y.default,stores:(0,c.values)(g.default)});E.plug((0,u.default)()),E.plug((0,f.default)({logger:h.default})),E.plug((0,s.default)({enabled:window[v.default.APP_DEBUG_PERF],printInclusive:!1,printWasted:!1,verbose:!0,printActionPayload:!0})),t.default=E,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=n(6),d=n(177),f=r(d),p=n(3),h=r(p),m=(function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.handleAuth()}},{key:"componentDidUpdate",value:function(){this.handleAuth()}},{key:"handleAuth",value:function(){var e=this.props,t=e.shopperId,n=e.ssoApps,r=e.ssoUrl;t||"undefined"!=typeof window&&!(function(){var e=window.location,t=e.host,o=e.port,a=e.pathname,i=e.search,u=t.split("."),l=u[0],s=n.find((function(e){return l===e}));s||(s=l+"."+n.find((function(e){return u[1]===e})));var c=""+a+i;window.location.href=(0,f.default)(r,{app:s,port:o,path:c})})()}},{key:"render",value:function(){return null}}]),t})(s.Component);t.default=(0,c.subscribeToStores)(m,[h.default.AUTH,h.default.CONFIG],(function(e){var t=u(e,2),n=t[0],r=t[1];return{shopperId:n.getShopperId(),ssoUrl:r.getURL("auth.sso.url",n.getResellerId()),ssoApps:r.get("auth.sso.apps")}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(2),f=n(5),p=r(f),h=n(68),m=n(126),g=n(990),_=r(g),y=n(1e3),b=r(y),v=n(971),E=r(v),T=n(1070),O=r(T),P=n(928),w=r(P),I="undefined"!=typeof window&&window.matchMedia,S={xs:"(max-width:767px)",sm:"(min-width:768px)",md:"(min-width:992px)",lg:"(min-width:1200px)",portrait:"(max-aspect-ratio: 14/9)",keyboardVisible:"(min-aspect-ratio: 1/1)"},C=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._updateMatches=n._updateMatches.bind(n),n._updateAppStore=n._updateAppStore.bind(n),n}return i(t,e),l(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.isNavigateComplete&&p.default.shouldComponentUpdate.call(this,e,t)}}]),l(t,[{key:"componentWillMount",value:function(){var e=this;I&&(this.matches=(0,d.map)(S,(function(t,n){var r=I(t);return r.addListener(e._updateMatches),{size:n,match:r}})),this._updateMatches())}},{key:"componentWillUnmount",value:function(){var e=this;I&&(0,d.each)(this.matches,(function(t){t.removeListener(e._updateMatches)}))}},{key:"_updateMatches",value:function(){var e=(0,d.mapValues)((0,d.keyBy)(this.matches,"size"),"match.matches"),t=void 0;t=!e.sm&&!e.xs||e.md?"tablet":"mobile";var n=e.portrait?"portrait":"landscape",r=e.keyboardVisible&&e.portrait,o=this.props.currentRoute||{},a=o.query,i=void 0===a?{}:a;t=i.device?i.device:t,n=i.orientation?i.orientation:n,this._updateAppStore({device:t,orientation:n,keyboardVisible:r})}},{key:"_updateAppStore",value:function(e){this.context.executeAction(w.default,e)}},{key:"render",value:function(){var e=this.props,t=e.currentRoute,n=e.currentNavigateError,r=t&&t.handler,o=null;if(r)if(n)o=c.default.createElement("h1",{className:"ux-editor"},n.statusCode," ErrorPage");else{var a=t.params,i=t.name;o=c.default.createElement(r,u({route:i},a))}else o=null===r?null:c.default.createElement("h1",{className:"ux-editor"},"NotFoundPage");return c.default.createElement("div",null,c.default.createElement(_.default,{key:"saver"}),c.default.createElement(E.default,{key:"auth"}),c.default.createElement(b.default,null),c.default.createElement(O.default,null),o)}}]),t})(s.Component);C.contextTypes={executeAction:s.PropTypes.func.isRequired},t.default=(0,h.provideContext)((0,m.handleHistory)(C,{checkRouteOnPageLoad:!0}),{getIntlString:s.PropTypes.func}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){return u.default.createElement(s.default,{onNavigationComplete:a})}function a(e){var t=e.url,n=e.timing,r=n.requestStart,o=n.domComplete,a=void 0===o?0:o,i=n.loadEventEnd,u=void 0===i?0:i,l=Math.max(r,a,u);(0,c.logVirtualPagePerf)({page:t.replace(d,""),navigationStart:r,fetchStart:r,domainLookupStart:r,domainLookupEnd:r,connectStart:r,connectEnd:r,requestStart:r,responseStart:r,responseEnd:r,domLoading:r,domInteractive:a,domContentLoaded:a,domComplete:a,loadEventStart:l,loadEventEnd:l})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(1),u=r(i),l=n(802),s=r(l),c=n(11),d=/^(https?:)?\/\/[^\/:]+(:\d+)?/i;e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),c=n(1),d=r(c),f=n(5),p=r(f),h=n(11),m=n(3),g=r(m),_=n(9),y=r(_),b=n(16),v=n(467),E=n(6),T=n(96),O=n(232),P=r(O),w=n(392),I=r(w),S=n(937),C=r(S),x=n(386),k=r(x),D=n(1111),A=r(D),M=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n.publish=n.publish.bind(n),n.close=n.close.bind(n),n.viewMySite=n.viewMySite.bind(n);var r=e.isImmediatePublish;return r&&window.setImmediate(n.publish),n.state={publishStatus:r?v.PUBLISHING:v.PRE_PUBLISH,isPublishingToNewExtDomain:!1},n}return i(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.requestPending,n=e.requestError,r=e.externalDomainName;t&&this.setState({publishStatus:v.PUBLISHING}),this.props.requestPending&&!t&&(n?this._handlePublishFailure():this._handlePublishSuccess()),r!==this.props.externalDomainName&&this.setState({isPublishingToNewExtDomain:!0})}},{key:"publish",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.domainName,t=this.context.getStore(g.default.CONFIG),n=(0,T.isDpsSubdomain)(t,e),r=t.getFeatureFlag("enableDomainsXSell");r&&n&&this.context.executeAction(I.default),this.context.executeAction(P.default,{domainName:e})}},{key:"close",value:function(){this.props.onClose(),this.context.executeAction(C.default)}},{key:"_handlePublishFailure",value:function(){this.setState({publishStatus:v.PUBLISH_ERROR})}},{key:"_handlePublishSuccess",value:function(){this.state.publishStatus!==v.PUBLISH_SUCCESS&&((0,h.logImpression)(y.default.editor_publish_modal.successful_publish),this.setState({publishStatus:v.PUBLISH_SUCCESS}))}},{key:"viewMySite",value:function(e){var t=this.props,n=t.domainName,r=t.enableNPS,o="http://"+n;window.open(o),r&&(this.context.executeAction(k.default,{showNetPromoterScore:!0}),(0,h.logEvent)({code:y.default.nps_dialog.trigger_nps,domEvent:e})),this.close()}},{key:"render",value:function(){var e=this.props,t=e.domainName,n=e.externalDomainName,r=e.modalProps,o=this.state,a=o.publishStatus,i=o.isPublishingToNewExtDomain;return d.default.createElement(A.default,l({publishStatus:a,domainName:t,publish:this.publish,viewMySite:this.viewMySite,close:this.close,isExternalDomain:t===n,hasAnExternalDomain:!!n,isPublishingToNewExtDomain:i},r))}}]),t})(c.Component);M.contextTypes={getStore:c.PropTypes.func.isRequired,executeAction:c.PropTypes.func.isRequired},t.default=(0,E.subscribeToStores)(M,[g.default.WEBSITE,g.default.REQUEST],(function(e){var t=u(e,2),n=t[0],r=t[1],o=n.getDomainName(),a=n.getExternalDomainName(),i=[b.SAVE_AND_PUBLISH,b.GET_DOMAIN_SUGGESTIONS].some((function(e){return r.isAnyRequestPending(e)})),l=Boolean(r.hasAnyRequestFailedForTypes(b.SAVE_AND_PUBLISH));return{domainName:o,externalDomainName:a,requestPending:i,requestError:l}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(3),f=r(d),p=n(6),h=(function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"componentDidMount",value:function(){window.location.href=this.props.url}},{key:"render",value:function(){return null}}]),t})(c.default.Component);t.default=(0,p.subscribeToStores)(h,[f.default.ROUTE],(function(e){var t=u(e,1),n=t[0],r=n.getCurrentRoute();return{url:r.query.url}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.handleMouseDown,n=e.handleTouchStart,r=e.isMovable,o=(0,l.default)("grabber-list-item flex flex--abs-center",{"uxicon uxicon-larger uxicon-grab-vert":r},{"no-grabber-hand":!r});return i.default.createElement("div",{onMouseDown:r&&t,onTouchStart:r&&n,className:o})}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=r(a),u=n(7),l=r(u);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i={};i.arrow=function(){return a.default.createElement("g",{"fill-rule":"evenodd"},a.default.createElement("path",{transform:"translate(-21-5)",d:"m36 9.583h-11.2l3.6-3.3-1.4-1.283-6 5.5 6 5.5 1.4-1.283-3.6-3.3h11.2z"}))},i.sev=function(){return a.default.createElement("g",{id:"Vnextside",stroke:"none",strokeWidth:"1",fill:"none","fill-rule":"evenodd"},a.default.createElement("g",{id:"link-to-SEV-3",transform:"translate(-31.000000, -440.000000)"},a.default.createElement("g",{id:"sev-vnext-logo",transform:"translate(31.000000, 440.000000)"},a.default.createElement("path",{d:"M1.34271979,36.5679255 C1.06904271,36.5679255 0.792678125,36.4840431 0.553938542,36.3095137 C-0.0462697917,35.8707098 -0.179301042,35.0246706 0.256521875,34.4199059 L2.89788646,30.7588471 C3.33370938,30.1536314 4.17400104,30.0196902 4.77510521,30.4593961 C5.37531354,30.8982 5.50834479,31.7442392 5.07252188,32.3490039 L2.43115729,36.0100627 C2.16823021,36.3744549 1.75838646,36.5679255 1.34271979,36.5679255",id:"Fill-1",fill:"#2DC158"}),a.default.createElement("path",{d:"M41.5348198,42.55 L39.5057573,44.597451 C39.4206531,44.6786275 39.3445073,44.6786275 39.2594031,44.5929412 L39.1563823,44.4937255 L38.744299,44.0788235 L41.0197156,41.7878431 L41.431799,42.2027451 L41.5348198,42.3064706 C41.5796115,42.3470588 41.5885698,42.3966667 41.5885698,42.4282353 C41.5885698,42.4598039 41.5796115,42.5094118 41.5348198,42.55 L41.5348198,42.55 Z M37.7991948,43.1227451 L27.7882573,33.0433333 C27.7300281,32.9847059 27.7210698,32.9215686 27.7210698,32.8854902 C27.7210698,32.8494118 27.7300281,32.7817647 27.7882573,32.7231373 L29.7456531,30.7523529 C29.8038823,30.6982353 29.8710698,30.6892157 29.9069031,30.6892157 C29.9382573,30.6892157 30.0054448,30.6982353 30.063674,30.7523529 L30.4981531,31.1898039 L40.0701323,40.8317647 L37.7991948,43.1227451 Z M25.5262781,29.5076471 C25.7188823,29.3272549 25.9114865,29.1468627 26.0951323,28.9619608 C26.2563823,28.7996078 26.4041948,28.6417647 26.5520073,28.4794118 L28.3302365,30.2652941 L27.3045073,31.2980392 L25.5262781,29.5076471 Z M41.9200281,40.7776471 L41.4945073,40.3537255 L31.0132573,29.7962745 C30.5922156,29.3723529 29.9472156,29.2505882 29.4007573,29.4309804 L27.4209656,27.4376471 C28.2585698,26.3237255 28.908049,25.1827451 29.4052365,23.9696078 C29.5440906,23.6223529 29.3828406,23.23 29.0379448,23.0856863 C28.693049,22.9458824 28.3033615,23.1082353 28.1600281,23.4554902 C27.7121115,24.5603922 27.1208615,25.5976471 26.4041948,26.5492157 C26.1488823,26.8964706 25.8801323,27.2211765 25.5800281,27.5458824 C25.441174,27.6992157 25.2933615,27.8570588 25.145549,28.0058824 C24.9663823,28.1862745 24.7827365,28.3576471 24.6035698,28.5245098 C24.2676323,28.8266667 23.9316948,29.1017647 23.6002365,29.3452941 C18.1535698,33.4266667 10.4135698,32.8539216 5.59846563,28.0058824 C2.99159063,25.3766667 1.55377813,21.8860784 1.55377813,18.1654902 C1.55377813,14.444902 2.99159063,10.9543137 5.60294479,8.32509804 C9.42367396,4.47372549 15.1614865,3.22 20.2229448,5.12764706 C20.5723198,5.26294118 20.9575281,5.08254902 21.087424,4.73529412 C21.221799,4.38352941 21.0426323,3.99568627 20.6977365,3.86490196 C15.1390906,1.76784314 8.84586146,3.14333333 4.65336146,7.36901961 C1.78669479,10.2507843 0.210028125,14.0841176 0.210028125,18.1654902 C0.210028125,22.2468627 1.78669479,26.0801961 4.64888229,28.9619608 C7.57377813,31.9068627 11.4796115,33.4131373 15.3988823,33.4131373 C18.561174,33.4131373 21.732424,32.43 24.3975281,30.4321569 C24.4244031,30.4096078 26.4669031,32.3668627 26.4669031,32.3668627 C26.408674,32.5292157 26.3773198,32.705098 26.3773198,32.8854902 C26.3773198,33.304902 26.543049,33.7017647 26.838674,33.9994118 L37.319924,44.5568627 L38.3098198,45.5535294 C38.5964865,45.8421569 38.9772156,46 39.3848198,46 C39.7879448,46 40.168674,45.8421569 40.4553406,45.5535294 L42.4844031,43.5060784 C42.7710698,43.217451 42.9323198,42.8341176 42.9323198,42.4282353 C42.9323198,42.0178431 42.7710698,41.6345098 42.4844031,41.3458824 L41.9200281,40.7776471 Z",id:"Fill-5",fill:"#FFFFFF"}),a.default.createElement("path",{d:"M29.633674,12.9566667 C28.8722156,10.8415686 27.6807573,8.96098039 26.0951323,7.3645098 C25.8308615,7.09843137 25.4053406,7.09843137 25.145549,7.3645098 C24.8812781,7.63058824 24.8812781,8.05901961 25.145549,8.32058824 C26.5878406,9.7727451 27.6762781,11.4909804 28.370549,13.4166667 C28.4690906,13.6917647 28.7288823,13.8631373 29.0021115,13.8631373 C29.0782573,13.8631373 29.1544031,13.8496078 29.230549,13.822549 C29.579924,13.6962745 29.7590906,13.3084314 29.633674,12.9566667 M25.8263823,23.2705882 C25.5038823,23.0856863 25.0962781,23.2029412 24.9126323,23.5321569 C24.4154448,24.4205882 23.8062781,25.2323529 23.0985698,25.9403922 C18.8388823,30.2292157 11.9096115,30.2247059 7.64992396,25.9358824 C3.39023646,21.6470588 3.39023646,14.674902 7.64992396,10.3860784 C10.337424,7.68470588 14.153674,6.58431373 17.8534656,7.45019608 C18.2162781,7.53588235 18.5746115,7.31039216 18.6597156,6.94509804 C18.7448198,6.57980392 18.5208615,6.21901961 18.158049,6.13333333 C14.0013823,5.16372549 9.71929896,6.39490196 6.70034063,9.43 C1.91659063,14.2419608 1.91659063,22.08 6.70034063,26.8919608 C9.09221563,29.3001961 12.2365906,30.5088235 15.3809656,30.5043137 C18.5208615,30.5043137 21.6562781,29.3047059 24.0481531,26.8964706 C24.8409656,26.1027451 25.5262781,25.1917647 26.086174,24.1905882 C26.2653406,23.8658824 26.1533615,23.4554902 25.8263823,23.2705882",id:"Fill-7",fill:"#FFFFFF"}),a.default.createElement("path",{d:"M41.1048198,0.753137255 L39.9357573,11.5090196 C39.9088823,11.7390196 39.765549,11.9419608 39.5550281,12.0456863 C39.4654448,12.0907843 39.3669031,12.1088235 39.2683615,12.1088235 C39.1429448,12.1088235 39.013049,12.0727451 38.905549,12.005098 L35.9716948,10.097451 L28.4601323,21.2411765 C28.182424,21.6515686 27.7076323,21.8770588 27.214924,21.827451 C26.7222156,21.7778431 26.301174,21.4621569 26.1085698,21.0021569 L21.7548198,10.5394118 L10.7629448,24.7813725 C10.498674,25.1241176 10.1000281,25.3 9.70138229,25.3 C9.41471563,25.3 9.12356979,25.2098039 8.87721563,25.0158824 C8.29044479,24.5603922 8.18742396,23.7080392 8.63981979,23.1172549 L21.0471115,7.05333333 C21.3382573,6.6745098 21.8085698,6.48058824 22.2833615,6.53921569 C22.7581531,6.60235294 23.1612781,6.91803922 23.344924,7.36 L27.6314865,17.6558824 L33.7097156,8.63176471 L30.8251323,6.76019608 C30.628049,6.63392157 30.5115906,6.41294118 30.5160698,6.17843137 C30.520549,5.94392157 30.6459656,5.72745098 30.8475281,5.61019608 L40.0925281,0.0947058824 C40.3120073,-0.0360784314 40.5852365,-0.0315686275 40.8002365,0.108235294 C41.0152365,0.248039216 41.1316948,0.496078431 41.1048198,0.753137255",id:"Fill-9",fill:"#2DC158"}))))},t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(7),d=r(c),f=n(8),p=r(f),h=(function(e){function t(){var e;o(this,t);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var u=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return u.state={value:"",disableSubmit:!0},u.handleChange=u.handleChange.bind(u),u.handleSubmit=u.handleSubmit.bind(u),u}return i(t,e),u(t,[{key:"componentWillMount",value:function(){n(1361)}},{key:"handleChange",value:function(e){var t=e.target.value,n=""===t.trim();this.setState({value:t,disableSubmit:n})}},{key:"handleSubmit",value:function(e){var t=this.props.onSubmit,n=this.state,r=n.value,o=n.disableSubmit;e.preventDefault(),!o&&t&&t(r)}},{key:"render",value:function(){var e=this.props,t=e.placeholder,n=e.dataAid,r=(0,d.default)("uxicon uxicon-larger uxicon-magnifying-glass ux-core-input-submit",{"uxicon-magnifying-glass-disabled":this.state.disableSubmit});return s.default.createElement("form",{className:"ux-core-input-form",onSubmit:this.handleSubmit},s.default.createElement("div",{className:"ux-core-input-container"},s.default.createElement("input",{"data-aid":n,className:"ux-core-input",placeholder:t,type:"text",value:this.state.value,onChange:this.handleChange})),s.default.createElement("div",{className:r,onClick:this.handleSubmit,"data-aid":p.default.SEARCH_BUTTON}))}}]),t})(s.default.Component);t.default=h,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(7),c=r(s),d=n(1),f=r(d),p=n(5),h=r(p),m=(n(4),(function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=h.default.shouldComponentUpdate.bind(n),n}return u(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.showInternal,r=e.icon;if(!r)return null;var a=void 0,i=void 0;r.get?(a=r.get("image"),i=!!a||r.get("isFromUrl"),a||(a=r.get("value"))):r.image?a=r.image:(i=!1,a=String(r));var u=(0,c.default)(t,"list-group-item-icon-left pivot-btn-image-icon",o({},"uxicon uxicon-"+a,!i&&n));if(i){var l=25,s='url("'+a+"/:/rs=w:"+l+",h:"+l+",m/cr=w:"+l+",h:"+l+'")';return f.default.createElement("div",{className:u,style:{backgroundImage:s}})}return n?f.default.createElement("div",{className:u}):null}}]),t})(d.Component));t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(7),d=r(c),f=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n}return i(t,e),u(t,[{key:"handleClick",value:function(){var e=this.props,t=e.index,n=e.onClick;n(t)}},{key:"render",value:function(){var e=this.props,t=e.baseClassName,n=e.isSelected,r=e.title,o=e.trafficId,a=this.context.getIntlString,i=(0,d.default)(t,"fs-base btn flex--abs-center",{"color-bg-primary-darker":n,"color-bg-444":!n});return s.default.createElement("div",{className:i,"data-aid":r.toUpperCase()+"_SEGMENTED_CONTROL","data-traffic2":o,onClick:this.handleClick},a(r))}}]),t})(l.Component);f.contextTypes={getIntlString:l.PropTypes.func.isRequired},f.defaultProps={baseClassName:"segmented-control-btn"},t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(2),f=n(982),p=r(f),h=n(239),m=r(h),g=n(144),_=r(g),y=n(240),b=r(y),v=n(490),E=r(v),T=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._uniqueId=(0,d.uniqueId)("ux-editor-scaler"),n.state={scale:1,viewportRect:{scale:1,left:0,top:0,width:0,height:0}},n.handleResize=n.handleResize.bind(n),n.handleAnimatedPercentage=n.handleAnimatedPercentage.bind(n),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.handleResize()}},{key:"componentWillReceiveProps",
value:function(e){e.scrollTop!==this.props.scrollTop&&this.handleAnimatedPercentage(e.scrollTop)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"handleResize",value:function(){var e=this;if(this._isMounted){var t=this.refs.container;t=void 0===t?{}:t;var n=t.offsetWidth,r=void 0===n?0:n,o=t.offsetHeight,a=void 0===o?0:o;if(!r||!a)return void requestAnimationFrame((function(){return e.handleResize()}));var i=p.default[this.props.skin],u=i.chrome,l=i.viewport,s=u.width/u.height,c=r/a,d=c>s?{factor:a/u.height,width:s*a,height:a}:{factor:r/u.width,width:r,height:r/s},f={left:(r-d.width)/2,top:(a-d.height)/2},h=l.scale*d.factor,m=l.width*d.factor,g=l.height*d.factor;this.setState({backgroundImage:u.url,scale:h,viewportRect:{left:f.left+l.left*d.factor,top:f.top+l.top*d.factor,width:m,height:g}})}}},{key:"handleAnimatedPercentage",value:function(e){var t=this.refs.viewport;t&&(t.scrollTop=e)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.skin,r=e.status,o=e.onReadyToUnload,a=this.state,i=a.scale,l=a.backgroundImage,s=a.viewportRect,d=this&&this.refs.viewport?this.refs.viewport.scrollTop:0,f={backgroundImage:l&&'url("'+l+'")',backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"},p=u({position:"absolute",overflowY:"scroll"},s);return c.default.createElement("div",{className:"flex flex--abs-center"},c.default.createElement("div",{ref:"container",className:"device-chrome device-chrome-"+n+" "+this._uniqueId,style:f},c.default.createElement(_.default,{onResize:this.handleResize}),"unloading"===r&&c.default.createElement(b.default,{duration:300,from:d,to:0,spline:E.default,onFrame:this.handleAnimatedPercentage,onDone:o}),c.default.createElement("div",{className:"viewport",ref:"viewport",style:p},c.default.createElement(m.default,{scale:i,display:"block"},t))))}}]),t})(c.default.Component);t.default=T,T.defaultProps={status:"loaded",onReadyToUnload:d.noop},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(84),a=n(1409),i=r(a),u=n(1408),l=r(u),s={chrome:{url:i.default,width:228,height:465},viewport:{scale:195.85/o.REPRESENTED_MOBILE_WIDTH,left:16.12,top:59.368,width:195.85,height:348.16}},c={chrome:{url:l.default,width:1109,height:639},viewport:{scale:836.25/o.REPRESENTED_DESKTOP_WIDTH,left:136.374,top:47.57,width:836.25,height:520.715}};t.default={mobile:s,desktop:c},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(128),p=r(f),h=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props.show,t=this.context.getIntlString,n=void 0;return e&&(n=s.default.createElement("div",{className:" flex flex--center flex--column add-confirmation"},s.default.createElement("div",{className:"add-confirmation-circle flex--abs-center ux-editor"},s.default.createElement("div",{className:"uxicon uxicon-checkmark"})),s.default.createElement("div",{className:"add-confirmation-text","data-aid":"ADD_WIDGET_CONFIRMATION"},t("sectionAdded")))),s.default.createElement("div",null,s.default.createElement(p.default,{transitionName:"add-confirmation",transitionEnterTimeout:500,transitionLeaveTimeout:500},n))}}]),t})(l.Component);t.default=h,h.contextTypes={getIntlString:l.PropTypes.func},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(7),u=r(i),l=n(11),s=n(17),c=r(s),d=n(10),f=n(9),p=r(f),h=n(255),m=r(h),g=n(492),_=r(g),y=function(e,t){var n=e.isDimmed,r=e.scale,o=e.show,i=e.widgetId,s=t.executeAction,f=function(){var e=document.getElementById(i).getElementsByClassName("add-section-placeholder")[0];if(e){var t=e.offsetTop,n=e.offsetHeight,r=(0,m.default)(e),o=r.container,a=r.clientHeight,u=(2*t-a)/2-n;(0,_.default)(o,u,500)}},h=function(e){e.preventDefault(),e.stopPropagation(),s(c.default,{routeName:d.EDIT_ADD_SECTION_TYPE,params:{addWidgetId:i,sectionType:null},preserveScrollPosition:!0}),(0,l.logEvent)({code:p.default.edit_site.add_widget_button,domEvent:e}),window.setTimeout(f,0)};if(!o)return null;var g=40/r,y={height:g,width:g,top:-g/2},b={fontSize:22/r},v=(0,u.default)("add-section-button",{dimmed:n});return a.default.createElement("div",{className:v,onClick:h},a.default.createElement("div",{className:"add-section-button-image-container",style:y},a.default.createElement("div",{className:"ux-editor add-section-button-image-circle flex--abs-center","data-aid":"ADD_WIDGET_PLUS_ICON"},a.default.createElement("span",{className:"uxicon uxicon-larger uxicon-plus add-section-button-image",style:b}))))};y.contextTypes={executeAction:o.PropTypes.func.isRequired},y.defaultProps={show:!0},t.default=y,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(11),u=n(128),l=r(u),s=n(8),c=r(s),d=n(248),f=n(9),p=r(f),h=n(21),m=r(h),g=n(17),_=r(g),y=n(10),b=r(y),v=function(e,t){var n=e.isMobile,r=e.show,o=e.scale,u=e.widgetId,s=t.executeAction,f=t.getIntlString,h=function(e){s(_.default,{routeName:b.default.EDIT_ADD_SECTION_TYPE,params:{addWidgetId:u},preserveScrollPosition:!0}),(0,i.logEvent)({code:p.default.edit_site.add_first_page_widget_button,domEvent:e})};if(!r)return null;var g={},y={},v=1/o;g={transform:"scale("+v+")",WebkitTransform:"scale("+v+")",width:100/v+"%"};var E=n?0:d.RIGHT_GUTTER_WIDTH,T=420,O=100,P=n?T+O+40/o:T;return y={borderWidth:3/o+"px",margin:40/o+"px "+E/o+"px "+40/o+"px 0",height:P+"px"},a.default.createElement(l.default,{transitionName:"add-section-guidance",transitionAppear:!0,transitionAppearTimeout:400,transitionEnterTimeout:400,transitionLeaveTimeout:400},a.default.createElement("div",{className:"ux-editor add-section-guidance flex flex--abs-center",onClick:h,style:y},a.default.createElement("div",{className:"add-section-guidance-content flex flex--column flex--abs-center",style:g},a.default.createElement("div",{className:"add-section-guidance-header"},f("pageEmtpy")),a.default.createElement("div",{className:"add-section-guidance-description"},f("addContent")),a.default.createElement(m.default,{"data-aid":c.default.ADD_SECTION_NEW_PAGE},f("addSection")))))};v.contextTypes={executeAction:o.PropTypes.func.isRequired,getIntlString:o.PropTypes.func.isRequired},v.defaultProps={show:!0,scale:1},t.default=v,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(10),d=r(c),f=n(175),p=r(f),h=n(431),m=r(h),g=n(433),_=r(g),y=(function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props.route===d.default.EDIT_ADD_SECTION_TYPE?s.default.createElement(_.default,null):s.default.createElement(m.default,null);return s.default.createElement(p.default,{show:this.props.show},e)}}]),t})(s.default.Component);t.default=y,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(406),p=r(f),h=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.ToggleComponent,n=e.widgetId,r=e.scale;return s.default.createElement(t,{show:!0,widgetId:n,scale:r,isMobile:!0})}}]),t})(l.Component);t.default=(0,p.default)(h),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(5),f=r(d),p=(n(4),n(7)),h=r(p),m=n(15),g=n(6),_=n(248),y=n(39),b=r(y),v=n(16),E=r(v),T=n(10),O=r(T),P=n(3),w=r(P),I=n(171),S=r(I),C=n(1411),x=r(C),k=n(17),D=r(k),A=m.constants.renderModes.ADD,M=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=f.default.shouldComponentUpdate.bind(n),n.handlePlaceholderClick=n.handlePlaceholderClick.bind(n),n.handleCloseClick=n.handleCloseClick.bind(n),n.state={isAddingWidget:!1},n}return i(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){this.props.isPostPageWidgetPending&&!e.isPostPageWidgetPending&&this.setState({isAddingWidget:!0})}},{key:"handlePlaceholderClick",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"handleCloseClick",value:function(){this.context.executeAction(D.default,{routeName:O.default.EDIT,preserveScrollPosition:!0})}},{key:"render",value:function(){if(this.state.isAddingWidget)return null;var e=this.context.getIntlString,t=this.props,n=t.previewPreset,r=t.website,o=t.scale,a=t.scrollToView,i=void 0;n&&(i=c.default.createElement("div",{className:"add-section-placeholder-widget-container"},c.default.createElement("div",{className:"add-section-placeholder-title-container"},c.default.createElement("div",{className:"add-section-placeholder-title flex flex--middle"},e("sectionPreview"))),c.default.createElement(S.default,{className:"add-section-placeholder-widget",widgets:n,route:T.ADD_SECTION,renderMode:A,website:r,hasAddSectionWidgetId:!0,scrollToView:a})));var u={},l=n?0:20;u={borderWidth:3/o+"px",fontSize:20/o+"px",margin:l/o+"px "+_.RIGHT_GUTTER_WIDTH/o+"px "+l/o+"px 0"};var s=(0,h.default)("ux-editor",{"flex--abs-center":!0,"add-section-placeholder":!n,"add-section-placeholder-preview":n}),d=n?null:[c.default.createElement("img",{src:x.default,key:"section-png"}),c.default.createElement("div",{key:"section-text",style:{marginLeft:15}},e("chooseSection")," "),c.default.createElement("div",{key:"section-close",className:"uxicon uxicon-larger uxicon-x add-section-placeholder-close-btn",onClick:this.handleCloseClick})];return c.default.createElement("div",{className:s,"data-aid":"ADD_SECTION_PLACEHOLDER",style:u,onClick:this.handlePlaceholderClick},d,i)}}]),t})(s.Component);M.contextTypes={executeAction:s.PropTypes.func.isRequired,getIntlString:s.PropTypes.func.isRequired},M.defaultProps={scale:1},t.default=(0,g.subscribeToStores)(M,[w.default.REQUEST,w.default.WIDGET,w.default.WEBSITE,b.default.GET_SECTION_TYPES],(function(e){var t=u(e,4),n=t[0],r=t[1],o=t[2],a=t[3],i=void 0;return a&&!(function(){var e=r.getPreviewWidget();if(e){var t=a.filter((function(t){return t.get("label")===e.get("type")}));t.size&&(i=t.get(0).get("presets").filter((function(t){return t.get("id")===e.get("id")})))}})(),{isPostPageWidgetPending:n.isAnyRequestPending(E.default.POST_PAGE_WIDGET),previewPreset:i,website:o.getCurrentWebsite(),sectionTypes:a,scrollToView:r.getPageWidgets().size>1}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(988),p=r(f),h=n(406),m=r(h),g=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.addSectionWidgetId,n=e.isDimmed,r=e.isSelected,o=e.scale,a=e.ToggleComponent,i=e.widgetId,u=void 0;return t&&r&&(u=s.default.createElement(p.default,{show:!0,scale:o})),s.default.createElement("div",null,s.default.createElement(a,{isDimmed:n,show:!t||!r,widgetId:i,scale:o}),u)}}]),t})(l.Component);t.default=(0,m.default)(g),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(3),f=r(d),p=n(6),h=n(5),m=r(h),g=n(76),_=r(g),y=n(16),b=r(y),v=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n.shouldComponentUpdate=m.default.shouldComponentUpdate.bind(n),n}return i(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,n=e.isSaving,r=e.queuedHistoryCount,o=e.saveTimeout,a=e.saveFailed,i=this.state.timeout;!r||n||a||(i&&clearTimeout(i),this.setState({timeout:setTimeout((function(){t.context.executeAction(_.default)}),o)}))}},{key:"render",value:function(){return null}}]),t})(s.Component);v.contextTypes={executeAction:c.default.PropTypes.func.isRequired},t.default=(0,p.subscribeToStores)(v,[f.default.HISTORY,f.default.REQUEST,f.default.CONFIG],(function(e){var t=u(e,3),n=t[0],r=t[1],o=t[2];return{saveTimeout:o.get("saveTimeout",6e4),isSaving:r.isSaving(),saveFailed:!!r.getRequestFailure({type:b.default.SAVE}),queuedHistoryCount:n.getQueuedHistoryCount()}})),e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=n(50),i=n(15),u=i.constants.colorPackCategories,l=(function(){function e(){r(this,e)}return o(e,null,[{key:"buildAlternatePacks",value:function(e){var t=e.id,n=e.meta,r=[{id:t,type:u.PRIMARY,meta:{primary:n.primary,accent:n.accent,neutral:n.neutral}},{id:t,type:u.NEUTRAL,meta:{primary:n.neutral,accent:n.neutral,neutral:n.neutral}},{id:t,type:u.ACCENT,meta:{primary:n.accent,accent:n.accent,neutral:n.neutral}}];return r}},{key:"buildPacks",value:function(){return a.colors.packs.map((function(t){var n=e.buildAlternatePacks(t);return{id:t.id,shade:t.meta.primary,packs:n}}))}},{key:"getColorPackIndexById",value:function(e){var t=0;return a.colors.packs.some((function(n,r){return n.id===e&&(t=r,!0)})),t}}]),e})();t.default={colorPacks:l.buildPacks(),getColorPackIndexById:l.getColorPackIndexById},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(994),p=r(f),h=n(238),m=r(h),g=n(998),_=r(g),y=n(991),b=n(43),v=r(b),E=n(407),T=r(E),O=(function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));e.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(e);var n=e.props,r=n.enableThemes,i=n.colorPackCategory;return e.state={showPaintJobs:!r&&"primary"!==i},e}return i(t,e),u(t,[{key:"render",value:function(){var e=this.state.showPaintJobs,t=this.props,n=t.isMobile,r=t.mobileZoom,o=t.colorPackId,a=t.fontPackId,i=t.colorPackCategory,u=t.enableThemes,l=(0,y.getColorPackIndexById)(o),c=y.colorPacks[l];return s.default.createElement("div",{className:"color-editor-container"},!n&&s.default.createElement(m.default,{title:"chooseColor"}),s.default.createElement("div",{className:"color-selector flex flex--space-around flex--center"},s.default.createElement(p.default,{selectedIndex:l,isMobile:n,mobileZoom:r,colorPacks:y.colorPacks})),s.default.createElement("br",null),!u&&s.default.createElement(v.default,null,s.default.createElement(T.default,{fontPackId:a})),e&&s.default.createElement(_.default,{selectedShade:c,isMobile:n,categoryName:i}))}}]),t})(l.Component);O.defaultProps={mobileZoom:.8},t.default=O,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(7),p=r(f),h=n(11),m=n(9),g=r(m),_=n(8),y=r(_),b=n(63),v=r(b),E=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isPendingSelection:!1},n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n.handleClick=n.handleClick.bind(n),n}return i(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){e.isSelected&&this.setState({isPendingSelection:!1})}},{key:"handleClick",value:function(e){var t=this,n=this.props,r=n.colorPack,o=n.isSelected,a=this.state.isPendingSelection;o||a||((0,h.logEvent)({code:g.default.edit_styles.select_color_from_squares,domEvent:e,colorPack:r.id,selectedPrimaryColor:r.shade}),this.setState({isPendingSelection:!0},(function(){t.context.executeAction(v.default,{colorPack:r.id})})))}},{key:"render",value:function(){var e=this.props,t=e.colorPack,n=e.isSelected,r=this.state.isPendingSelection,o=(0,p.default)("color-pack-selector-color-container","flex--abs-center",{selected:n||r});return s.default.createElement("div",{className:o,onClick:this.handleClick},s.default.createElement("div",{className:"color-pack-selector-color",style:{backgroundColor:t.shade},"data-aid":n?y.default.COLOR_SELECTED:y.default.COLOR_UNSELECTED}))}}]),t})(l.Component);t.default=E,E.contextTypes={executeAction:l.PropTypes.func},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(993),p=r(f),h=5,m=6,g=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n}return i(t,e),u(t,[{key:"render",value:function(){for(var e=this.props,t=e.colorPacks,n=e.isMobile,r=e.mobileZoom,o=e.selectedIndex,a=n?{zoom:Math.round(100*r)+"%"}:null,i=[],u=0;u<h;u++){for(var l=[],c=0;c<m;c++){var d=u*m+c,f=o===d,g=t[d];g&&l.push(s.default.createElement(p.default,{key:d,isSelected:f,colorPack:g}))}i.push(s.default.createElement("div",{key:u,className:"flex"},l))}return s.default.createElement("div",{className:"color-pack-selector",style:a},i)}}]),t})(l.Component);t.default=g,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){var n=t.getIntlString,r=e.backgroundColor,a=e.colorPackId,u=o(e,["backgroundColor","colorPackId"]);if(!r){var c=s.colors.getPackById(a);r=c&&c.meta&&c.meta.primary}var f=void 0;return r&&(f=l.default.createElement("div",{className:"color-pivot-icon list-group-item-icon-left",style:{backgroundColor:r}})),l.default.createElement(d.default,i({id:"COLORS_SEGMENTED_CONTROL",title:n("colors"),icon:f,showInternalIcon:!0,route:p.default.EDIT_COLORS,trafficId:m.default.edit_styles.colors_tab},u))}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(1),l=r(u),s=n(50),c=n(38),d=r(c),f=n(10),p=r(f),h=n(9),m=r(h);a.contextTypes={getIntlString:u.PropTypes.func.isRequired},t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(11),p=n(9),h=r(p),m=n(1405),g=r(m),_=n(997),y=r(_),b=n(63),v=r(b),E=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isPendingSelection:!1},n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n.handleClick=n.handleClick.bind(n),n}return i(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){e.isSelected&&this.setState({isPendingSelection:!1})}},{key:"handleClick",value:function(e){var t=this,n=this.props,r=n.index,o=n.isSelected,a=n.pack,i=this.state.isPendingSelection;o||i||((0,f.logEvent)({code:h.default.edit_styles.select_paint_job,domEvent:e,selectedPaintJobIndex:r,selectedPaintJobType:a.type}),this.setState({isPendingSelection:!0},(function(){t.context.executeAction(v.default,{colorPackCategory:a.type})})))}},{key:"render",value:function(){var e=this.props,t=e.isMobile,n=e.mobileZoom,r=e.isSelected,o=e.pack,a=e.selectedColor,i=this.state.isPendingSelection,u=r||i?"selected":"",l=t?{zoom:n}:null;return s.default.createElement("div",{className:"color-paint-job-container flex--abs-center "+u,style:l,onClick:this.handleClick},s.default.createElement("div",{className:"color-paint-job-outline-container "+u+" flex--abs-center"},s.default.createElement("div",{className:"color-paint-job-canvas-outer-container flex--abs-center"},s.default.createElement("div",{className:"color-paint-job-canvas-container "+u},s.default.createElement(y.default,{primary:o.meta.primary,accent:o.meta.accent,selectedColor:a}),s.default.createElement("img",{className:"color-paint-job-image",src:g.default})))))}}]),t})(l.Component);E.defaultProps={mobileZoom:"60%"},E.contextTypes={executeAction:l.PropTypes.func},t.default=E,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=148,p=180,h="lightGray",m="#eee",g=12,_=64,y=g+_,b=50,v=10,E=26,T=4,O=40,P=5,w=120,I=20,S=90,C=18,x=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.isBaseDrawn=!1,n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n}return i(t,e),u(t,[{key:"componentDidMount",value:function(){this.drawColorPaintJob()}},{key:"drawBaseLayer",value:function(e){if(!this.isBaseDrawn){e.fillStyle=m,e.fillRect(0,y,f,p),e.fillStyle=h,e.fillRect((f-E)/2,y+2*v+T,E,T);var t=w+2*P,n=w+4*P;e.fillRect(I,w,O,P),e.fillRect(I,t,O,P),e.fillRect(I,n,.75*O,P),e.fillRect(S,w,O,P),e.fillRect(S,t,O,P),e.fillRect(S,n,O/4,P),this.isBaseDrawn=!0}}},{key:"drawHeader",value:function(e){var t=this.props.primary;e.fillStyle=t,e.fillRect(0,0,f,g)}},{key:"drawContent",value:function(e){var t=this.props.selectedColor;e.fillStyle=t,e.fillRect(f/2-b/2,y+v,b,v)}},{key:"drawFooter",value:function(e){
var t=this.props.accent;e.fillStyle=t,e.fillRect(0,p-C,f,C)}},{key:"drawColorPaintJob",value:function(){var e=this.refs.paintJobCanvas;if(e){var t=e.getContext("2d");t&&(this.drawBaseLayer(t),this.drawHeader(t),this.drawContent(t),this.drawFooter(t))}}},{key:"render",value:function(){return this.drawColorPaintJob(),s.default.createElement("canvas",{ref:"paintJobCanvas",width:f,height:p})}}]),t})(l.Component);t.default=x,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(996),p=r(f),h=n(238),m=r(h),g=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.isMobile,n=e.selectedShade,r=e.categoryName;return s.default.createElement("div",null,s.default.createElement(m.default,{title:"selectPaintJob"}),s.default.createElement("div",{className:"flex flex--space-around color-preview"},n.packs.map((function(e,o){return s.default.createElement("div",{key:o,className:"color-paint-job-wrapper"},s.default.createElement(p.default,{index:o,isMobile:t,isSelected:r===e.type,pack:e,selectedColor:n.shade}))}))))}}]),t})(l.Component);t.default=g,g.defaultProps={isMobile:!1},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(2),c=n(50),d=n(1),f=r(d),p=n(7),h=r(p),m=n(5),g=r(m),_=n(63),y=r(_),b=n(9),v=r(b),E=n(11),T=n(254),O=r(T),P=n(6),w=n(3),I=r(w),S=(function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));e.shouldComponentUpdate=g.default.shouldComponentUpdate.bind(e);var n=(0,s.sortBy)(c.fonts.getAllPacks(e.props.marketFonts),"meta.order"),r=c.fonts.getPackById(e.props.fontPackId),i=n.indexOf(r);return i>0&&(n.splice(i,1),n.unshift(r)),e.state={sorted:n},e}return i(t,e),l(t,[{key:"handleFontChange",value:function(e,t){(0,E.logEvent)({code:v.default.edit_styles.select_font_from_spectrum,domEvent:t,selectedFontPack:e.id}),this.context.executeAction(y.default,{fontPack:e.id})}},{key:"render",value:function(){var e=this,t=this.state.sorted,n=this.props.fontPackId;return f.default.createElement("div",null,f.default.createElement("ul",{className:"font-editor-list"},t.map((function(t){var r=t.meta.primary.name;if(t.assets&&t.assets.primary){var o=t.assetsBaseUrl;r=f.default.createElement("img",{src:o+"/"+t.assets.primary,alt:r})}else(0,O.default)(t);return f.default.createElement("li",{key:t.id,"data-aid":"FONT:"+t.meta.primary.name,className:(0,h.default)("font-editor-list-item un-selectable flex flex--center flex--middle",{"font-editor-list-item-active":t.id===n}),onClick:e.handleFontChange.bind(e,t),style:{fontFamily:t.meta.primary.family,textTransform:t.meta.primary.isUppercase&&"uppercase"}},r)}))))}}]),t})(d.Component);S.contextTypes={executeAction:d.PropTypes.func.isRequired},t.default=(0,P.subscribeToStores)(S,[I.default.CONFIG],(function(e){var t=u(e,1),n=t[0];return{marketFonts:n.getMarketFonts()}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=n(50),d=n(6),f=n(254),p=r(f),h=n(3),m=r(h),g=(function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.loadFont()}},{key:"componentDidUpdate",value:function(){this.loadFont()}},{key:"loadFont",value:function(){var e=this.props.currentFontId,t=c.fonts.getPackById(e);t&&t.meta&&(0,p.default)(t)}},{key:"render",value:function(){return null}}]),t})(s.Component);t.default=(0,d.subscribeToStores)(g,[m.default.WEBSITE],(function(e){var t=u(e,1),n=t[0];return{currentFontId:n.getCurrentOrDefaultFontPackId()}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(7),s=r(l),c=n(4),d=n(1),f=r(d),p=n(574),h=r(p),m=n(11),g=n(50),_=n(9),y=r(_),b=n(43),v=r(b),E=n(21),T=r(E),O=n(112),P=r(O),w=n(995),I=r(w),S=n(407),C=r(S),x=n(238),k=r(x),D=n(64),A=r(D),M=(function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments)),n=e.props,r=n.themeId,i=n.themes,u=i.findIndex((function(e){return e.get("id")===r}));return e.handleReset=e.handleReset.bind(e),e.handleBeforeChange=e.handleBeforeChange.bind(e),e.handleAfterChange=e.handleAfterChange.bind(e),e.state={initialSlide:u},e}return i(t,e),u(t,[{key:"handleReset",value:function(){var e=this.props,t=e.themes,n=e.themeId,r=e.handleChange,o=t.findIndex((function(e){return e.get("id")===n})),a=t.get(o),i=a.get("id"),u=a.get("packs",(0,c.Map)()).toJS(),l=a.get("packCategories",(0,c.Map)()).toJS();r&&r(i,u,l)}},{key:"handleBeforeChange",value:function(e,t){var n=this.props.themes,r=t+1,o=n.size,a=n.get(e);a&&(0,m.logEvent)({code:y.default.edit_styles.theme_switch,type:"click",theme:a.get("id"),direction:r===e||r===o&&0===e?"right":"left"})}},{key:"handleAfterChange",value:function(e){var t=this.props,n=t.themes,r=t.handleChange,o=n.get(e);if(o){var a=o.get("id"),i=o.getIn(["current","packs"],(0,c.Map)()).toJS(),u=o.getIn(["current","packCategories"],(0,c.Map)()).toJS();r&&r(a,i,u)}}},{key:"render",value:function(){var e=this.state.initialSlide,t=this.context.getIntlString,n=this.props,r=n.themes,o=n.themeId,a=n.colorPackId,i=n.fontPackId,u=n.isMobile,l=r.findIndex((function(e){return e.get("id")===o})),c=r.get(l),d=c.get("loaded"),p=c.get("customized"),m=c.getIn(["current","packs","font"],i),_=c.getIn(["current","packs","color"],a);return f.default.createElement("div",{className:(0,s.default)("theme-editor",{"mt-20":u})},!u&&f.default.createElement(A.default,{description:"themeDescription"}),f.default.createElement("div",{style:{display:"flex",alignItems:"center"}},f.default.createElement(h.default,{arrows:d,width:"100%",slideWidth:"100%",dots:!1,lazyLoad:!1,initialSlide:e,beforeChange:this.handleBeforeChange,afterChange:this.handleAfterChange},r.map((function(e){var n=e.get("id"),r=e.get("name"),o=e.get("Component")&&e.get("Component").Preview,u=g.colors.getPackById(e.getIn(["current","packs","color"],a)),l=g.fonts.getPackById(e.getIn(["current","packs","font"],i)),c=u&&u.meta&&u.meta.primary,d=l&&l.meta&&l.meta.primary||{};return o?f.default.createElement("div",{className:(0,s.default)("x",u&&g.colors.getPackClassNameById(u.id),l&&g.fonts.getPackClassNameById(l.id))},f.default.createElement(o,{key:n,color:c,font:d.family||d.name},t("widgetContent.LAYOUT."+r)||r||null)):f.default.createElement("div",{key:n,className:"flex flex--column flex--center"},f.default.createElement(P.default,{size:"medium"}))})))),f.default.createElement(k.default,{bypassI18N:!0,title:l+1+" / "+r.size}),f.default.createElement(v.default,null,f.default.createElement(I.default,{colorPackId:_,disabled:!d}),f.default.createElement(C.default,{fontPackId:m,disabled:!d})),f.default.createElement("div",{className:"labeled-input"},p?f.default.createElement(T.default,{type:"link",className:"btn-sm",onClick:this.handleReset,style:{padding:"0",fontWeight:"normal",whiteSpace:"normal"}},t("themeReset")):null))}}]),t})(d.Component);M.contextTypes={getIntlString:d.PropTypes.func.isRequired},t.default=M,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){var t,n;return n=t=function e(){o(this,e)},t.Preview=function(){return u.default.createElement("img",{src:e})},n}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),u=r(i),l=n(4),s=n(1417),c=r(s),d=n(1418),f=r(d),p=n(1419),h=r(p),m=n(1420),g=r(m),_=n(1421),y=r(_),b=n(1422),v=r(b);t.default=(0,l.fromJS)([{id:"layout1",Component:a(c.default),packs:{color:"008",font:"dancing-script"},packCategories:{color:"neutral"}},{id:"layout2",Component:a(f.default),packs:{color:"020",font:"josefin-slab"},packCategories:{color:"accent"}},{id:"layout3",Component:a(h.default),packs:{color:"002",font:"fredoka-one"},packCategories:{color:"primary"}},{id:"layout4",Component:a(g.default),packs:{color:"004",font:"lobster"},packCategories:{color:"primary"}},{id:"layout5",Component:a(y.default),packs:{color:"016",font:"fjalla-one"},packCategories:{color:"neutral"}},{id:"layout6",Component:a(v.default),packs:{color:"005",font:"playfair-display"},packCategories:{color:"accent"}}]),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){function i(i){var l=i.children;return a.default.createElement(u,{theme:e&&e.Theme&&new e.Theme},e&&e.getPropsByTypeAndCategory?o.Children.map(l,(function(a){return(0,o.cloneElement)(a,e.getPropsByTypeAndCategory(t,n,r))})):l)}return i};var o=n(1),a=r(o),i=n(15),u=i.UX2.Element.Element;e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(128),d=r(c),f=n(7),p=r(f),h=n(11),m=n(21),g=r(m),_=n(402),y=r(_),b=n(84),v=r(b),E=n(9),T=r(E),O=n(8),P=r(O),w=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={widgetId:e.widget.id,useButtonRow:!1},n.handleConfirmClick=n.handleConfirmClick.bind(n),n.handleCancelClick=n.handleCancelClick.bind(n),n}return i(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){if(e.show){var t=document.getElementById("add-section-wrapper-container"+e.widget.id).clientHeight;t<72&&this.setState({useButtonRow:!0})}}},{key:"handleConfirmClick",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.props.widget;(0,h.logEvent)({code:T.default.edit_site.add_section_confirmation_button,widgetType:t.type,widgetPreset:t.properties.preset}),this.context.executeAction(y.default,{widget:t})}},{key:"handleCancelClick",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"render",value:function(){var e=this.context.getIntlString,t=this.props,n=t.show,r=t.widget,o=this.state.useButtonRow,a=v.default.TABLET_EDITOR_PANEL_SCALE,i={};i.transform=i.WebkitTransform="scale("+1/a+")",i.transformOrigin=i.WebkitTransformOrigin="top left",i.height=i.width=100*a+"%";var u=(0,p.default)("add-section-wrapper-container",{"add-section-wrapper-container-hidden":!n}),l=(0,p.default)("flex","flex--middle",{"flex--center":o}),c=o?null:(0,p.default)("flex","flex--column","flex--middle"),f={marginBottom:o?0:5},h=void 0;n&&(h=s.default.createElement("div",{className:l,style:{height:"100%"}},s.default.createElement("div",{key:"add-section-wrapper-container",className:c},s.default.createElement(g.default,{style:f,className:"btn-sm add-section-confirm-btn","data-aid":P.default.ADD_SECTION_BUTTON,onClick:this.handleConfirmClick},e("addSection")),s.default.createElement(g.default,{type:"link dark",className:"btn-sm",onClick:this.handleCancelClick},e("cancel")))));var m="add-section-wrapper-container"+r.id;return s.default.createElement("div",{id:m,className:u,style:i},s.default.createElement(d.default,{transitionName:"add-section-confirmation-wrapper",transitionEnterTimeout:150,transitionLeaveTimeout:150},h))}}]),t})(l.Component);t.default=w,w.contextTypes={executeAction:l.PropTypes.func.isRequired,getIntlString:l.PropTypes.func.isRequired},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return e&&e.target&&"true"===e.target.getAttribute("data-edit-interactive")}function s(e,t){return{onClick:function(){},onClickCapture:function(n){t||l(n)||(n.preventDefault(),n.stopPropagation(),n.target.blur(),e&&e(n))}}}Object.defineProperty(t,"__esModule",{value:!0});var c=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),p=n(2),h=n(1),m=r(h),g=n(5),_=r(g),y=n(7),b=r(y),v=n(15),E=n(17),T=r(E),O=n(8),P=r(O),w=n(248),I=n(118),S=n(10),C=r(S),x=n(3),k=r(x),D=n(9),A=r(D),M=n(6),N=n(987),R=r(N),j=n(989),L=r(j),U=n(1006),G=r(U),B=n(1004),W=r(B),F=v.constants.widgetTypes,H=[C.default.EDIT,C.default.EDIT_WIDGET,C.default.EDIT_WIDGET_DATA,C.default.EDIT_WIDGET_EDIT_BG,C.default.EDIT_WIDGET_EDIT_IMG,C.default.EDIT_WIDGET_MUTATOR,C.default.EDIT_WIDGET_PROP,C.default.EDIT_WIDGET_PROP_EDIT_BG,C.default.EDIT_WIDGET_PROP_EDIT_IMG,C.default.EDIT_WIDGET_PROP_STOCK_PHOTOS,C.default.EDIT_WIDGET_PROP_MY_PHOTOS,C.default.EDIT_WIDGET_PROPS,C.default.EDIT_WIDGET_STOCK_PHOTOS,C.default.EDIT_WIDGET_MY_PHOTOS],V=(function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._onSelect=e._onSelect.bind(e),e.shouldComponentUpdate=_.default.shouldComponentUpdate.bind(e),e}return u(t,e),f(t,[{key:"_onSelect",value:function(){var e=this.props.widget;this.context.executeAction(T.default,{routeName:C.default.EDIT_WIDGET,params:{widgetId:e.id},preserveScrollPosition:!0})}},{key:"_renderPencilIcon",value:function(){var e=this.props,t=e.scale,n=e.widget,r={cursor:"pointer",zIndex:10};return t&&1!==t&&(r.transform=r.WebkitTransform="scale("+1/t+")",r.transformOrigin=r.WebkitTransformOrigin="bottom right"),m.default.createElement("div",{className:"ux-editor edit-wrapper-image-container",style:r,"data-aid":P.default.EDIT_PANEL+"_EDIT_"+n.type+"_ICON"},m.default.createElement("span",{className:"edit-wrapper-image uxicon uxicon-large uxicon-pencil","data-traffic2":A.default.edit_site.click_pencil_icon_to_edit}))}},{key:"_getTitleSection",value:function(e,t){var n=e&&e[t.id]?m.default.createElement("div",{className:"layout-variation-title"},e[t.id]):null;return n}},{key:"_getContainerProps",value:function(){var e=this.props,t=e.route,n=e.scale,r=e.viewDevice,o=e.widget,a=o.wrapperContext,i=a.onSelect,u=a.selectedWidgetId,l=a.hasAddSectionWidgetId,c=a.widgetLayoutLabels,f=o.id===u,p=u&&!f,h=r===I.MOBILE_RENDER_DEVICE,g=this._getTitleSection(c,o);switch(t){case C.default.ADD_SECTION:var _=[m.default.createElement(W.default,{show:f,widget:o})];return g&&_.push(g),d({className:(0,b.default)("widget-selection-box",{selected:f||l})},s(i.bind(null,o),f),{children:_});case C.default.EDIT:case C.default.EDIT_ADD_SECTION:case C.default.EDIT_ADD_SECTION_TYPE:case C.default.EDIT_WIDGET:case C.default.EDIT_WIDGET_DATA:case C.default.EDIT_WIDGET_EDIT_BG:case C.default.EDIT_WIDGET_EDIT_IMG:case C.default.EDIT_WIDGET_MUTATOR:case C.default.EDIT_WIDGET_PROP:case C.default.EDIT_WIDGET_PROP_EDIT_BG:case C.default.EDIT_WIDGET_PROP_EDIT_IMG:case C.default.EDIT_WIDGET_PROP_STOCK_PHOTOS:case C.default.EDIT_WIDGET_PROP_MY_PHOTOS:case C.default.EDIT_WIDGET_PROPS:case C.default.EDIT_WIDGET_STOCK_PHOTOS:case C.default.EDIT_WIDGET_MY_PHOTOS:return r===I.MOBILE_RENDER_DEVICE&&t!==C.default.EDIT?{}:d({className:(0,b.default)("edit-wrapper","widget-selection-box",{selected:f,"not-selected":p}),style:{marginRight:Math.round((h?0:w.RIGHT_GUTTER_WIDTH)/n)}},s(this._onSelect),{"data-traffic2":A.default.edit_site.click_section_to_edit,children:!f&&this._renderPencilIcon()});case C.default.EDIT_LAYOUTS:return d({className:(0,b.default)("layout-wrapper","widget-selection-box",{selected:f})},s(i.bind(null,o)),{"data-traffic2":A.default.edit_layout.select_widget_on_desktop,children:g});case C.default.EDIT_STYLES:case C.default.EDIT_COLORS:case C.default.EDIT_FONTS:return d({style:{marginRight:Math.round((h?0:w.RIGHT_GUTTER_WIDTH)/n)}},s());default:return{}}}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.isPreviewMode,r=e.route,a=e.viewDevice,i=e.widget,u=e.scale,l=this._getContainerProps(),s=l.children,c=o(l,["children"]),d=void 0,f=this.context.getStore(k.default.CONFIG),h=f.getFeatureFlag("disableNoClickWrapper"),g=a===I.MOBILE_RENDER_DEVICE,_=g?R.default:L.default,y=(0,p.includes)(H,r),b=i.wrapperContext.selectedWidgetId,v=i.id===b,E=b&&!v;if((y||r===C.default.EDIT_ADD_SECTION||r===C.default.EDIT_ADD_SECTION_TYPE)&&i.type!==F.FOOTER){var T=v||E;d=m.default.createElement(_,{widget:i,widgetId:i.id,scale:u,isDimmed:T})}var O=y&&!E,P=O||h||n?"plain-wrapper":"no-click-wrapper";return m.default.createElement(G.default,{enableClickToEdit:O&&!g,isPreviewMode:n,widget:i},m.default.createElement("div",c,s,m.default.createElement("div",{className:P},t)),d)}}]),t})(h.Component);V.contextTypes={getStore:h.PropTypes.func.isRequired,executeAction:h.PropTypes.func.isRequired},t.default=(0,M.subscribeToStores)(V,[k.default.APP],(function(e,t,n){var r=c(e,1),o=r[0],a=1;return n.scalerId&&(a=o.getScaleById(n.scalerId)||1),{scale:a}}),{scalerId:h.PropTypes.string}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){var n,r=window.document.querySelectorAll(t);do for(n=r.length;--n>=0&&r.item(n)!==e;);while(n<0&&(e=e.parentElement));return e}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),c=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),d=n(1),f=r(d),p=n(3),h=r(p),m=n(10),g=r(m),_=n(9),y=r(_),b=n(11),v=n(17),E=r(v),T=n(949),O=r(T),P=n(950),w=r(P),I=n(492),S=r(I),C=n(255),x=r(C),k=10,D=(function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onClickCapture=e.onClickCapture.bind(e),e.handleClickToEdit=e.handleClickToEdit.bind(e),e.handleJumpToSection=e.handleJumpToSection.bind(e),e.handleNavigation=e.handleNavigation.bind(e),e.eventDataAttributes={"data-field":e.handleClickToEdit,"data-field-group":e.handleClickToEdit,"data-route":e.handleClickToEdit,"data-page":e.handleNavigation,"data-section-jump":e.handleJumpToSection},e}return i(t,e),c(t,[{key:"handleJumpToSection",value:function(e,t){t.preventDefault();var n=".preview-container",r=e.closet?e.closest(n):u(e,n),o=e.getAttribute("data-section-jump"),a=(r||document).querySelector("[id='"+o+"']"),i=(0,x.default)(a),l=i.container,s=i.pos;(0,S.default)(l,s,500)}},{key:"handleClickToEdit",value:function(e,t){var n=this.props,r=n.enableClickToEdit,o=n.widget;if(r){var a=e.getAttribute("data-route");if(a)this.context.executeAction(E.default,{routeName:g.default.EDIT_WIDGET_MUTATOR,params:{widgetId:o.id,mutatorPath:decodeURIComponent(a).split("/")},preserveScrollPosition:!0});else{var i=e.getAttribute("data-field"),u=e.getAttribute("data-field-group"),l=e.getAttribute("data-field-id");this.context.executeAction(w.default,{widget:o,fieldProperty:i,fieldGroupName:u,fieldDataObject:l})}t.preventDefault(),t.stopPropagation(),t.target.blur()}}},{key:"handleNavigation",value:function(e,t){var n=this;if(this.props.isPreviewMode||e.getAttribute("data-edit-interactive")){var r=e.getAttribute("data-page");r&&!(function(){t.preventDefault(),t.stopPropagation();var o=n.context.getStore(h.default.APP).isMobile()?"mobile":"desktop";(0,b.logEvent)({code:y.default.editor_preview[o+"_view_header_navigation_link"],domEvent:t});var a=e.getAttribute("data-page-query"),i={};a&&a.split("&").forEach((function(e){var t=e.split("="),n=s(t,2),r=n[0],o=n[1];i[r]=o})),n.context.executeAction(O.default,{pageId:r,query:i})})()}}},{key:"handlePageLinks",value:function(e){var t=e.target.href,n=e.target.getAttribute("data-page");if(t&&!n){e.preventDefault();var r=!e.target.hostname||window.location.hostname===e.target.hostname;r?this.context.executeAction(O.default,{routePath:e.target.pathname}):window.open(t,"_blank")}}},{key:"onClickCapture",value:function(e){for(var t=Object.keys(this.eventDataAttributes),n=null,r=null,o=e.target,a=1;null===r&&o&&o!==this._wrapper&&a<k;)t.some((function(e){if(o.getAttribute(e))return n=e,r=o,!0})),o=o.parentNode,a+=1;n&&r&&this.eventDataAttributes[n](r,e),this.props.isPreviewMode&&this.handlePageLinks(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.enableClickToEdit,r=t.isPreviewMode,o=t.children,a=n||r,i=a?{onClickCapture:this.onClickCapture}:{};return f.default.createElement("div",l({},i,{ref:function(t){return e._wrapper=t}}),o)}}]),t})(d.Component);D.defaultProps={enableClickToEdit:!1,isPreviewMode:!1},D.contextTypes={getStore:d.PropTypes.func.isRequired,executeAction:d.PropTypes.func.isRequired},t.default=D,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n){var r=S[e]||C[t]&&C[t][e];return(0,O.default)(u({"transition-wrapper":!0},""+r,!0),n)}Object.defineProperty(t,"__esModule",{value:!0});var s,c=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),d=n(1),f=r(d),p=n(1005),h=r(p),m=n(10),g=r(m),_=n(118),y=n(1084),b=r(y),v=n(1209),E=r(v),T=n(7),O=r(T),P="transition-wrapper-edit",w="-styles",I="-widget",S=u({},g.default.EDIT,P),C=u({},_.TABLET_RENDER_DEVICE,(s={},u(s,g.default.EDIT_ADD_SECTION,P),u(s,g.default.EDIT_ADD_SECTION_TYPE,P),u(s,g.default.EDIT_STYLES,P+w),u(s,g.default.EDIT_COLORS,P+w),u(s,g.default.EDIT_FONTS,P+w),u(s,g.default.EDIT_LAYOUTS,P+"-layouts"),u(s,g.default.EDIT_WIDGET,P+I),u(s,g.default.EDIT_WIDGET_MUTATOR,P+I),u(s,g.default.EDIT_WIDGET_PROPS,P+I),u(s,g.default.EDIT_WIDGET_STOCK_PHOTOS,P+I),u(s,g.default.EDIT_WIDGET_MY_PHOTOS,P+I),u(s,g.default.EDIT_WIDGET_PROP_MY_PHOTOS,P+I),u(s,g.default.EDIT_WIDGET_PROP_STOCK_PHOTOS,P+I),u(s,g.default.EDIT_WIDGET_EDIT_BG,P+I),u(s,g.default.EDIT_WIDGET_PROP_EDIT_BG,P+I),u(s,g.default.EDIT_WIDGET_EDIT_IMG,P+I),u(s,g.default.EDIT_WIDGET_PROP_EDIT_IMG,P+I),u(s,g.default.EDIT_WIDGET_PROP,P+I),u(s,g.default.EDIT_WIDGET_DATA,P+I),s)),x=!1,k=(function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),c(t,[{key:"componentDidUpdate",value:function(){var e=this.props.data,t=e.wrapperInfo.WidgetComponent;"WidgetLoader"===t.name||"HEADER"!==e.type||x||(x=!0,(0,E.default)("header-rendered"))}},{key:"render",value:function(){var e=this.props.data,t=e.wrapperContext,n=e.wrapperInfo,r=t.editingId,o=n.route,a=n.WidgetComponent,i=n.viewDevice,u=i===_.MOBILE_RENDER_DEVICE,s=!(u&&r),c=o===g.default.PREVIEW||o===g.default.PREVIEW_DESKTOP||o===g.default.PREVIEW_MOBILE,d=l(o,i,{"transition-wrapper-add-widget":o===g.default.EDIT_ADD_SECTION||o===g.default.EDIT_ADD_SECTION_TYPE,"wrapper-hidden":!s});return f.default.createElement(b.default,{context:t},f.default.createElement("div",{className:d},s&&a&&f.default.createElement(h.default,{route:o,widget:e,renderProps:this.props,viewDevice:i,isPreviewMode:c},f.default.createElement(b.default,{context:this.context},f.default.createElement(a,this.props)))))}}]),t})(f.default.Component);k.contextTypes={getRenderContext:d.PropTypes.func,getStore:d.PropTypes.func,executeAction:d.PropTypes.func},t.default=k,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t);
}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(1200),f=r(d),p=n(6),h=n(3),m=r(h),g=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n.handlePosition=n.handlePosition.bind(n),n.handleGeolocationError=n.handleGeolocationError.bind(n),n}return i(t,e),l(t,[{key:"handleClick",value:function(e){var t=this.props.onGeoLocationStarted;t&&t(e),window.navigator.geolocation.getCurrentPosition(this.handlePosition,this.handleGeolocationError),e.preventDefault()}},{key:"handlePosition",value:function(e){var t=e.coords;this.props.mapboxClient.reverseGeocode(t).then(this.handleGeolocationSuccess.bind(this,t)).catch(this.handleGeolocationError)}},{key:"handleGeolocationSuccess",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=this.props,r=n.onLocation,o=n.onGeoLocationFinished;r({address:t,lat:String(e.latitude),lng:String(e.longitude)}),o&&o()}},{key:"handleGeolocationError",value:function(e){var t=this.props,n=t.onLocationError,r=t.onGeoLocationFinished;n&&n(e),r&&r()}},{key:"render",value:function(){return window.navigator.geolocation?c.default.createElement("button",{className:"glyphicon glyphicon-screenshot geo-locator",onMouseDown:this.handleClick}):null}}]),t})(s.Component);t.default=(0,p.subscribeToStores)(g,[m.default.CONFIG],(function(e){var t=u(e,1),n=t[0];return{mapboxClient:new f.default({accessToken:n.get("mapbox.accessToken")})}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(6),f=n(3),p=r(f),h=n(410),m=r(h),g=(function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,n=e.libraries,r=e.onLoaded,o=e.apiKey,a=n.filter((function(e){return!(e in t.libraryPromises)})),i="https://maps.googleapis.com/maps/api/js?key="+o+"&libraries="+a.join(",");return c.default.createElement(m.default,{srcUrl:i,libraries:n,onLoaded:r,libraryPromises:t.libraryPromises})}}]),t})(s.Component);g.libraryPromises={},t.default=(0,d.subscribeToStores)(g,[p.default.CONFIG],(function(e){var t=u(e,1),n=t[0];return{apiKey:n.get("google.maps.api.key")}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(6),f=n(3),p=r(f),h=n(410),m=r(h),g=(function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"onLoaded",value:function(e,t){return function(){L.mapbox.accessToken=t,e()}}},{key:"render",value:function(){var e=this.props,n=e.libraries,r=e.onLoaded,o=e.accessToken,a=this.onLoaded(r,o);return c.default.createElement(m.default,{srcUrl:"https://api.mapbox.com/mapbox.js/v2.3.0/mapbox.js",libraries:n,onLoaded:a,libraryPromises:t.libraryPromises})}}]),t})(s.Component);g.libraryPromises={},t.default=(0,d.subscribeToStores)(g,[p.default.CONFIG],(function(e){var t=u(e,1),n=t[0];return{accessToken:n.get("mapbox.accessToken")}})),e.exports=t.default},function(e,t,n){(function(r,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),d=n(1),f=a(d),p=n(28),h=n(2),m=n(7),g=a(m),_=(function(e){function t(e){i(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleKnobMouseDown=n.handleKnobMouseDown.bind(n),n.handleDrag=n.handleDrag.bind(n),n.removeEventListeners=n.removeEventListeners.bind(n),n.handleSliderMouseDown=n.handleSliderMouseDown.bind(n),n.handleMouseOut=n.handleMouseOut.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.handleTouch=n.handleTouch.bind(n),n.state={sliderWidth:0,handleWidth:0},n}return l(t,e),c(t,[{key:"componentDidMount",value:function(){var e=this;this._immediateId=r((function(){e._immediateId=null;var t=(0,p.findDOMNode)(e.slider).getBoundingClientRect(),n=(0,p.findDOMNode)(e.handle).getBoundingClientRect(),r=t.width||t.right-t.left,o=n.width||n.right-n.left;e.setState({sliderWidth:r,handleWidth:o})}))}},{key:"componentWillUnmount",value:function(){this.removeEventListeners(),this._immediateId&&o(this._immediateId)}},{key:"handleSliderMouseDown",value:function(e){var t=this.props.onChange,n=this.getValueFromPosition(e.clientX);t(n)}},{key:"handleKnobMouseDown",value:function(e){e.stopPropagation(),document.addEventListener("mousemove",this.handleDrag,!1),document.addEventListener("mouseup",this.removeEventListeners,!1),document.addEventListener("mouseout",this.handleMouseOut,!1)}},{key:"handleDrag",value:function(e){this.handleSliderMouseDown(e)}},{key:"removeEventListeners",value:function(){document.removeEventListener("mousemove",this.handleDrag,!1),document.removeEventListener("mouseup",this.removeEventListeners,!1),document.removeEventListener("mouseout",this.handleMouseOut,!1)}},{key:"handleKeyDown",value:function(e){var t=this.props,n=t.min,r=t.max,o=t.step,a=t.value,i=t.onChange;"ArrowLeft"===e.key||"ArrowDown"===e.key?i(Math.max(a-o,n)):"ArrowRight"!==e.key&&"ArrowUp"!==e.key||i(Math.min(a+o,r))}},{key:"handleMouseOut",value:function(e){e.relatedTarget||e.toElement||this.removeEventListeners()}},{key:"handleTouch",value:function(e){var t=this.props.onChange,n=e.changedTouches[0],r=this.getValueFromPosition(n.clientX);e.preventDefault(),t(r)}},{key:"getValueFromPosition",value:function(e){var t=this.props,n=t.min,r=t.max,o=t.step,a=(0,p.findDOMNode)(this.slider),i=a.getBoundingClientRect(),u=i.left,l=i.right,s=(0,h.clamp)((e-u)/(l-u),0,1);return o*Math.round(s*(r-n)/o)+n}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.min,o=t.max,a=t.onBlur,i=t.value,u=t.disabled,l=this.state,c=l.sliderWidth,d=l.handleWidth,p=(i-r)/(o-r),m=void 0;if(u)m={left:0};else if(this.slider){var _=c*p-d/2;m={left:_}}else{var y=Math.round(100*p);m={left:y+"%"}}return f.default.createElement("div",{ref:function(t){return e.slider=t},className:(0,g.default)("slider-input",n,{disabled:u}),onMouseDown:u?h.noop:this.handleSliderMouseDown,onTouchStart:u?h.noop:this.handleTouch},f.default.createElement("div",{className:"slider-track"}),f.default.createElement("div",s({},this.props,{tabIndex:"0",ref:function(t){return e.handle=t},className:"slider-handle",role:"slider",onMouseDown:u?h.noop:this.handleKnobMouseDown,style:m,onBlur:a,onKeyDown:u?h.noop:this.handleKeyDown,onTouchStart:u?h.noop:this.handleTouch,onTouchMove:u?h.noop:this.handleTouch,"aria-valuemin":r,"aria-valuemax":o,"aria-valuenow":i})))}}]),t})(d.Component);t.default=_,_.defaultProps={className:""},e.exports=t.default}).call(t,n(49).setImmediate,n(49).clearImmediate)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(28),f=r(d),p=n(5),h=r(p),m=n(15),g=n(219),_=r(g),y=n(45),b=r(y),v=n(7),E=r(v),T=n(3),O=r(T),P=n(6),w=n(114),I=r(w),S=(function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return(0,b.default)(e),e.state={value:(0,g.createValueFromString)(e.props.value),isFocused:!1},e._focusContainer=e._focusContainer.bind(e),e.shouldComponentUpdate=h.default.shouldComponentUpdate.bind(e),e._checkInvalidLength=e._checkInvalidLength.bind(e),e._highlightTimer=null,e._focusTriggered=!1,e}return i(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){if(this.props.id!==e.id){var t=(0,g.createValueFromString)(e.value),n={target:{value:t.toString()},invalidInputLength:!1};I.default.toggleSelection(this._getFieldElements(),"remove"),this._focusTriggered=!1,e.onChange(n),this.setState({value:t})}}},{key:"componentWillMount",value:function(){n(545),n(540),n(541),n(546),n(547),n(544),n(542),n(543)}},{key:"_getFieldElements",value:function(){var e=this.props,t=e.dataRoute,n=e.id,r=e.editingId,o=I.default.getFieldElements(n,r);return 0===o.length?I.default.getHighlightedElementsByRoute(t,r):o}},{key:"_onFocus",value:function(){I.default.toggleSelection(this._getFieldElements(),"add"),this.setState({isFocused:!0}),this.props.onFocus()}},{key:"_onBlur",value:function(e){I.default.toggleSelection(this._getFieldElements(),"remove");var t={target:{value:e.toString()}};this.setState({value:e}),this.props.onBlur(t)}},{key:"_onChange",value:function(e){var t=e.toString(),n=this.state.value.toString();t!==n&&(this._highlightTimer=I.default.triggerChange(this._getFieldElements(),this._highlightTimer));var r={target:{value:t}};this.setState({value:e}),this._checkInvalidLength(e),this.props.onChange(r)}},{key:"_checkInvalidLength",value:function(e){var t=this.props.maxCount;this.setState({invalidInputLength:e.getEditorState().getCurrentContent().getPlainText().replace(/\n|\r/g,"").length>t})}},{key:"_focusContainer",value:function(){var e=document.activeElement===f.default.findDOMNode(this.refs.draftEditorContainer);this._focusTriggered&&!e||(this._focusTriggered=!0,this._focusEditor(!0))}},{key:"render",value:function(){var e=this,t=this.state,n=t.value,r=t.invalidInputLength,o=t.isFocused,a=this.props,i=a.id,u=a.automationId,l=a.disabled,s=a.dataRoute,d=a.isMobile,f=this.context.getIntlString,p=(0,E.default)({focused:o&&!r,"invalid-length":r}),h={bold:f("textBold"),italic:f("textItalic"),underline:f("textUnderline"),ul:f("unorderdList"),ol:f("orderedList"),link:f("link"),removeLink:f("removeLink"),linkPlaceholder:f("linkPlaceholder")};return c.default.createElement("div",{id:i,tabIndex:"-1","data-route":s,onFocus:this._focusContainer,ref:"draftEditorContainer"},c.default.createElement(_.default,{id:i,toolbarBottom:d,dataAid:u,className:p,value:n,readOnly:l,transformLink:m.utils.sanitizeUrl,onBlur:this._onBlur,onChange:this._onChange,onFocus:this._onFocus,onRender:function(t,n){e._editor=t,e._focusEditor=n},styleText:h}))}}]),t})(s.Component);S.contextTypes={getIntlString:s.PropTypes.func.isRequired},t.default=(0,P.subscribeToStores)(S,[O.default.APP],(function(e){var t=u(e,1),n=t[0];return{isMobile:n.isMobile()}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(2),d=n(7),f=r(d),p=500,h=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=n.onChange.bind(n),n._getStyles=n._getStyles.bind(n),n.rowHeightChange=!0,n.state={height:e.minHeight},n}return i(t,e),u(t,[{key:"componentWillUnmount",value:function(){this._hiddenElement&&(document.body.removeChild(this._hiddenElement),this._hiddenElement=null)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.minHeight,n=e.maxHeight,r=window.getComputedStyle(this._textarea),o="visibility:hidden;height:auto;position:absolute;top:-999999em;";this._hiddenElement=document.createElement("textarea"),this._hiddenElement.style.cssText=o,document.body.appendChild(this._hiddenElement),this._minHeight=t||parseInt(r.getPropertyValue("min-height"),10)||parseInt(r.getPropertyValue("height"),10),this._maxHeight=n||parseInt(r.getPropertyValue("max-height"),10)||p,this.updateHeight()}},{key:"onChange",value:function(e){this.updateHeight(),this.props.onChange(e)}},{key:"updateHeight",value:function(){var e=this.calculateHeight();e&&e!==this.state.height&&this.setState({height:e})}},{key:"calculateHeight",value:function(){var e=window.getComputedStyle(this._textarea),t=this._hiddenElement;t.style.fontSize=e.getPropertyValue("font-size"),t.style.fontFamily=e.getPropertyValue("font-family"),t.style.lineHeight=e.getPropertyValue("line-height"),t.style.width=e.getPropertyValue("width"),t.style.padding=e.getPropertyValue("padding"),t.style.border=e.getPropertyValue("border"),t.value=this._textarea.value,t.rows=1;for(var n=t.clientHeight;this.rowHeightChange&&t.scrollHeight>t.clientHeight;)t.rows>1&&t.clientHeight===n&&(this.rowHeightChange=!1),t.rows=t.rows+1;var r=this.rowHeightChange&&t.offsetHeight||t.scrollHeight;return r=Math.max(this._minHeight,r),Math.min(this._maxHeight,r)}},{key:"_getStyles",value:function(){var e=this.state.height,t=this.props,n=t.value,r=t.isFocused,o=t.minHeight,a={resize:"none"};return e&&(a.height=e+"px",e<this._maxHeight&&(a.overflow="hidden")),""===n&&(a.height=r?o+"px":"140px"),a}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,r=t.value,o=t.automationId,a=t.className,i=t.dataRoute,u=t.onFocus,l=t.onBlur,c=t.disabled,d=t.autoFocus,p=t.onKeyPress,h=t.placeholder,m=t.isInvalid,g=(0,f.default)("text-area",a,{"text-input-invalid":m});return s.default.createElement("textarea",{ref:function(t){return e._textarea=t},style:this._getStyles(),id:n,"data-aid":o,"data-route":i,value:r,placeholder:h,className:g,onFocus:u,onBlur:l,disabled:c,onChange:this.onChange,autoFocus:d,onKeyPress:p})}}]),t})(l.Component);t.default=h,h.defaultProps={onChange:c.noop,className:"",onBlur:c.noop,onFocus:c.noop,disabled:!1},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(2),f=n(7),p=r(f),h=n(6),m=n(3),g=r(m),_=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.prefixOnClick=n.prefixOnClick.bind(n),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this._updateStyle(this.props)}},{key:"componentDidUpdate",value:function(){this._updateStyle(this.props)}},{key:"_updateStyle",value:function(e){if(e.prefix){var t=this.input,n=this.prefix,r=this.prefixSpan;n.style.width=r.offsetWidth+4+"px",e.disabled?t.style.paddingLeft="":t.style.paddingLeft=r.offsetWidth+1+"px"}}},{key:"prefixOnClick",value:function(){var e=this.input;e.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,r=t.isFocused,o=t.prefix,a=t.value,i=t.automationId,u=t.placeholder,l=t.className,s=t.dataRoute,d=t.onChange,f=t.onClear,h=t.onFocus,m=t.onBlur,g=t.disabled,_=t.autoFocus,y=t.onKeyPress,b=t.isInvalid,v=t.isMobile,E=t.subText,T=t.subTextLink,O=t.showTag,P=t.subTextLinkLabel,w=(g?o:"")+a,I=O&&c.default.createElement("div",{className:"sub-text"},E,c.default.createElement("a",{href:T}," ",P," ")),S=o&&c.default.createElement("div",{className:(0,p.default)("text-input-prefix",{hidden:g})},c.default.createElement("input",{disabled:!0,ref:function(t){e.prefix=t},className:(0,p.default)("text-input",{inactive:!a&&!r}),style:{width:0},defaultValue:o}),c.default.createElement("span",{ref:function(t){e.prefixSpan=t},onClick:this.prefixOnClick,className:"un-selectable"},o)),C=r&&a&&v&&f&&c.default.createElement("button",{className:"clear-btn uxicon uxicon-delete-fill",onMouseDown:f}),x=(0,p.default)("ux-form-control","text-input",l,{"text-input-invalid":b,"text-input-clearable":!!C});return c.default.createElement("div",null,c.default.createElement("input",{key:"input",id:n,ref:function(t){e.input=t},"data-aid":i,"data-route":s,type:"text",value:w,placeholder:u,className:x,onFocus:h,onBlur:m,disabled:g,onChange:d,autoFocus:_,onKeyPress:y}),C,S,I)}}]),t})(s.Component);_.defaultProps={onBlur:d.noop,onFocus:d.noop,prefix:"",disabled:!1},t.default=(0,h.subscribeToStores)(_,[g.default.APP],(function(e){var t=u(e,1),n=t[0];return{isMobile:n.isMobile()}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(2),d=n(174),f=r(d),p=n(35),h=r(p),m=n(390),g=r(m),_=n(493),y=r(_),b=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=n.handleChange.bind(n),n}return i(t,e),u(t,[{key:"showModal",value:function(e){this.context.executeAction(h.default,{modal:s.default.createElement(f.default,e),forceModal:!0})}},{key:"blockIfInvalid",value:function(e,t,n){var r=e.every(t);return!r&&(this.showModal(n),!0)}},{key:"handleChange",value:function(e){var t=this,n=[],r=e.target.files;if(r&&r.length){var o=this.props,a=o.allowedMimeTypes,i=o.onChange,u=o.executeUpload,l=o.maxFileSize,s=o.maxFileCount,d=o.currentFileCount,f=o.modalTitle,p=o.modalDescription,h=o.listItems,m=(0,c.toArray)(r);if(s&&d+r.length>s)return void this.showModal({modalTitle:"fileCountLimitTitle",modalDescription:"fileCountLimitDescription"});if(a&&a.length>0){var _=function(e){return a.indexOf(e.type)!==-1};if(this.blockIfInvalid(m,_,{modalTitle:f,modalDescription:p,listItems:h}))return}if(l){var b=function(e){return e.size<l};if(this.blockIfInvalid(m,b,{modalTitle:"anotherFile",modalDescription:"largeFileSizeDescription"}))return}u&&!(function(){var e=t.props,r=e.existingFilenames,o=e.basePath,a=e.widgetId,i=e.widgetMatcher;m.forEach((function(e){var u=y.default.generateFileUploadInfo(e,r,o);n.push({label:e.name,name:u.filename,type:e.type,size:e.size}),t.context.executeAction(g.default,Object.assign({widgetId:a,widgetMatcher:i},u))}))})(),i(n)}}},{key:"render",value:function(){var e=this.props,t=e.buttonLabel,n=e.trafficId,r=e.dataAid,o=e.accept;return s.default.createElement("div",{className:"file-uploader btn btn-default btn-dark btn-sm","data-traffic2":n},s.default.createElement("span",null,t),s.default.createElement("input",{type:"file",className:"upload-image-input","data-aid":r,accept:o,onChange:this.handleChange,multiple:!0}))}}]),t})(l.Component);t.default=b,b.contextTypes={executeAction:l.PropTypes.func.isRequired},b.defaultProps={maxFileCount:10,currentFileCount:0,modalTitle:"anotherFile"},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(21),d=r(c),f=n(2),p=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n}return i(t,e),u(t,[{key:"handleClick",value:function(){var e=this.props,t=e.value,n=e.newTab;n?window.open(t,"_blank"):window.location.href=t}},{key:"getDescription",value:function(){var e=this.props,t=e.description,n=e.descriptionOnTop;if(!t)return null;var r="marginBottom",o={lineHeight:"1.5",color:"#CCCCCC"};return n||(r="marginTop"),o[r]="10px",s.default.createElement("div",{style:o},t)}},{key:"getHeader",value:function(){var e=this.props.header;return e?s.default.createElement("div",{className:"ex-link-btn-header"}," ",e," "):null}},{key:"render",value:function(){var e=this.props,t=e.label,n=e.id,r=e.disabled,o=e.traffic2,a=e.descriptionOnTop,i=e.format,u=this.props.style||{},l=this.getDescription(),c="primary dark";"link"===i&&(c="link",(0,f.assign)(u,{textTransform:"none",paddingLeft:"0px"}));var p={padding:"20px"};return s.default.createElement("div",{style:p},this.getHeader(),a?l:null,s.default.createElement(d.default,{id:n,type:c,className:"btn-sm",style:u,disabled:r,title:t,"data-traffic2":o,onClick:this.handleClick},t),a?null:l)}}]),t})(l.Component);p.defaultProps={descriptionOnTop:!0},t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(15),p=n(38),h=r(p),m=f.constants.editors,g=[m.TEXT,m.MULTILINE,m.ADDRESS,m.RADIO,m.VIDEOURL],_=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n}return i(t,e),u(t,[{key:"isFieldForDescription",value:function(e,t){return g.indexOf(e.get("type"))>=0&&e.get("property")!==t.get("headerFromProp")}},{key:"getFieldLabel",value:function(e){var t=e.get("value");if(e.get("type")===m.RADIO)for(var n=e.get("optionLabels"),r=e.get("options"),o=0;r&&n&&o<r.size&&o<n.size;o++)if(t===r.get(o))return n.get(o);return t}},{key:"getPreviewDescription",value:function(e){var t=this,n=e.get("hint");if(n)return n;var r=this.props.showDescription,o=e.get("fields");return r?e.get("description"):o.filter((function(n){return t.isFieldForDescription(n,e)})).map(this.getFieldLabel).join(" ")}},{key:"render",value:function(){var e=this.props,t=e.fieldSet,n=e.onClick,r=t.get("header"),o=t.get("icon","ellipses"),a=t.get("name"),i=a.replace(/\W/g,"_").toUpperCase();return s.default.createElement(h.default,{id:i,icon:o,title:r,description:this.getPreviewDescription(t),onClick:n.bind(null,t)})}}]),t})(l.Component);t.default=_,_.defaultProps={showDescription:!1},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(5),f=r(d),p=n(1017),h=r(p),m=n(412),g=r(m),_=n(6),y=n(3),b=r(y),v=n(10),E=r(v),T=n(17),O=r(T),P=n(43),w=r(P),I=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));
return n.shouldComponentUpdate=f.default.shouldComponentUpdate.bind(n),n}return i(t,e),l(t,[{key:"isFieldSetEnabled",value:function(e){var t=e.get("behindFeatureFlag");if(!t)return!0;var n=this.props.configStore,r=n.get("featureFlags."+t);return!!r}},{key:"navigateToEditField",value:function(e){this.context.executeAction(O.default,{routeName:E.default.EDIT_WIDGET_PROPS,params:{fieldSet:e.get("name")},preserveScrollPosition:!0})}},{key:"render",value:function(){var e=this,t=this.props,n=t.fieldSets,r=t.handleChange,o=t.handleBlur,a=t.widgetType,i=t.route,u=n.filter((function(t){return e.isFieldSetEnabled(t)})),l=u.map((function(t,n){return t.get("inline")?c.default.createElement("div",{className:"pivot-inline"},c.default.createElement(g.default,{fieldSet:t,onChange:r,onBlur:o,route:i,widgetType:a,key:n})):c.default.createElement(h.default,{fieldSet:t,key:n,onClick:e.navigateToEditField.bind(e)})}));return c.default.createElement(w.default,null,l)}}]),t})(s.Component);I.contextTypes={executeAction:s.PropTypes.func.isRequired},t.default=(0,_.subscribeToStores)(I,[b.default.CONFIG],(function(e){var t=u(e,1),n=t[0];return{configStore:n}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(2),d=n(8),f=r(d),p=n(411),h=r(p),m=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=n.handleUpdateEvent.bind(n,"handleChange"),n.handleBlur=n.handleUpdateEvent.bind(n,"handleBlur"),n}return i(t,e),u(t,[{key:"handleUpdateEvent",value:function(e,t){this.props[e]({value:t.address,lat:t.lat,lng:t.lng})}},{key:"render",value:function(){var e=this.props,t=e.label,n=e.defaultValue,r=e.labelClassNames,o=e.property,a=e.maxCount,i=f.default.TEXT_INPUT+"_"+o.toUpperCase();return s.default.createElement(h.default,{id:o,isModal:!1,label:t,value:n,validate:c.noop,onChange:this.handleChange,onBlur:this.handleBlur,onSelect:this.handleBlur,onGeoLocated:this.handleBlur,labelClassNames:r,automationId:i,maxCount:a})}}]),t})(l.Component);m.defaultProps={handleChange:c.noop,handleBlur:c.noop},t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(2),d=n(8),f=r(d),p=n(48),h=r(p),m=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onChange=n.onChange.bind(n),n.onBlur=n.onBlur.bind(n);var r=e.property;return r=r.substr(r.lastIndexOf(".")+1),n.dataAid=f.default.TEXT_INPUT+"_"+r.toUpperCase(),n}return i(t,e),u(t,[{key:"onChange",value:function(e,t){return this.props.handleChange(e,t)}},{key:"onBlur",value:function(e,t){return this.props.handleBlur(e,t)}},{key:"render",value:function(){var e=this.props,t=e.label,n=e.property,r=e.linkToDataObjectProperty,o=e.labelClassNames,a=e.subText,i=e.showSubText,u=e.prefix,l=e.defaultValue,c=e.disabled,d=e.className,f=e.maxCount,p=e.autoLoadNewValue,m=e.autoSelectAll,g=e.link,_=e.placeholder;return s.default.createElement(h.default,{automationId:this.dataAid,label:t,maxCount:f,id:r||n,labelClassNames:o,prefix:u,value:l,subText:a,showSubText:i,placeholder:_,isRequired:!1,onChange:this.onChange,onBlur:this.onBlur,disabled:c,className:d,autoLoadNewValue:p,autoSelectAll:m,link:g})}}]),t})(l.Component);m.defaultProps={handleChange:c.noop,handleBlur:c.noop},t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(111),p=r(f),h=n(2),m=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.options,n=e.value,r=e.label,o=void 0;return"undefined"!=typeof n&&(o=t.find((function(e){return e.value===n}))||n),s.default.createElement(p.default,{label:r,onChange:this.props.handleChange,options:t,value:o,isMutator:!0,dataAidPrefix:"DROPDOWN_VALUE"})}}]),t})(l.Component);t.default=m,m.defaultProps={handleChange:h.noop,options:[]},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(2),d=r(c),f=n(4),p=n(15),h=n(494),m=n(64),g=r(m),_=n(235),y=r(_),b=p.constants.editors,v=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=n.handleChange.bind(n),n.handleBlur=n.handleBlur.bind(n),n.state={formFields:n.props.data||(0,f.fromJS)(h.contactFormFields)},n}return i(t,e),u(t,[{key:"handleChange",value:function(e,t,n,r){var o=this,a=this.props,i=a.dataObjectProperty,u=a.handleChange;r.persist(),this.updateFormFields(e,t.property,n,(function(){u&&u({property:i,fieldType:t.fieldType},o.state.formFields.toJS(),r)}))}},{key:"handleBlur",value:function(e,t,n,r){var o=this,a=this.props,i=a.dataObjectProperty,u=a.handleBlur;r.persist(),this.updateFormFields(e,t.property,n,(function(){u&&u({property:i},o.state.formFields.toJS(),r)}))}},{key:"updateFormFields",value:function(e,t,n,r){var o=this.state.formFields;this.setState({formFields:o.update(o.findIndex((function(t){return t.get("fieldId")===e})),(function(e){return e.set(t,n)}))},r)}},{key:"renderFormFields",value:function(){var e=this,t=this.state.formFields,n=this.context.getIntlString,r={EMAIL:n("emailAddress"),SUBMIT:n("submitButton")},o=t.map((function(t){var n=t.get("label"),o=t.get("fieldId"),a=t.get("editable")===!1,i=t.get("type"),u=new f.Map({label:d.default.get(r,i,n),property:"label",type:b.TEXT,value:n});return s.default.createElement(y.default,{key:o,field:u,disabled:a,onChange:e.handleChange.bind(null,o),onBlur:e.handleBlur.bind(null,o)})}));return s.default.createElement("div",null,o)}},{key:"render",value:function(){var e=this.context.getIntlString,t=e("labels"),n=e("editFormFieldsLabelsDescription");return s.default.createElement("div",null,s.default.createElement(g.default,{title:t,titleEnabled:!0,description:n}),this.renderFormFields())}}]),t})(l.Component);v.contextTypes={getIntlString:l.PropTypes.func.isRequired},t.default=v,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.modes=void 0;var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(2),p=n(11),h=n(13),m=r(h),g=n(21),_=r(g),y=n(9),b=r(y),v=n(361),E=r(v),T=n(413),O=r(T),P=n(8),w=r(P),I=n(1024),S=r(I),C=115,x=7,k=.1,D=25,A=75,M=250,N={minScale:k,maxScale:x*k,scale:k,rotation:0,imageAspectRatio:0,focalPoint:{x:"c",y:"c"},position:{x:Number.MAX_VALUE,y:Number.MAX_VALUE}},R=(t.modes=(0,m.default)({EDIT:null,SELECT:null,STOCK:null}),(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=e.handleChange;return n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n.throttledChangeHandler=(0,f.throttle)(r,M),n.handleZoom=n.handleZoom.bind(n),n.rotateRight=n.rotateRight.bind(n),n.handleImageEditChange=n.handleImageEditChange.bind(n),n.logEditEvent=(0,f.debounce)(n.logEditEvent,1e3,{leading:!0}),n.mockImageDimensions=n.mockImageDimensions.bind(n),n.state=(0,f.merge)({},n.getDefaultState(e),{loading:!0,displayWarningMessage:!1}),n._lastEditState=n.propsToEditState(e),n}return i(t,e),u(t,[{key:"componentDidMount",value:function(){this.mockImageDimensions()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.handleChange,r=t.defaultValue;e.handleChange!==n&&(this.throttledChangeHandler=(0,f.throttle)(e.handleChange,M)),e.defaultValue!==r&&(this.mockImageDimensions(),this._lastEditState=this.propsToEditState(e),this.setState(this.getDefaultState(e)))}},{key:"getDefaultState",value:function(e){var t=this,n=e.aspectRatio,r=e.editedAspectRatio,o=e.defaultValue,a=n||parseFloat(r);return o&&!a&&!(function(){var e=new Image;e.onload=function(){t.setState({imageAspectRatio:e.width/e.height})},e.src=o})(),(0,f.merge)({},N,{imageAspectRatio:a})}},{key:"propsToEditState",value:function(e){var t=e.rotation,n=void 0===t?"0":t,r=e.left,o=e.top,a=e.width,i=e.height,u=e.aspectRatio,l=e.editedAspectRatio,s=e.position,c=e.enableFocalSelector,d=parseFloat(l),f=!u||d&&Math.abs(u-d)<.05,p=void 0;return f&&(r&&o&&a&&i&&(p={rotation:n,left:r,top:o,width:a,height:i,editedAspectRatio:l}),c&&s&&(p=p||{rotation:n,top:"0",left:"0",width:"100%",height:"100%"},p.focalPoint=(0,S.default)(s))),p}},{key:"getOutputAspectRatio",value:function(){var e=this.props.aspectRatio,t=this._lastEditState&&this._lastEditState.editedAspectRatio;return e?parseFloat(e):t}},{key:"handleZoom",value:function(e){this.handleImageEditChange({scale:e})}},{key:"rotateRight",value:function(){var e=this.state.rotation;this.handleImageEditChange({rotation:e+90})}},{key:"logEditEvent",value:function(e){var t=e.rotation,n=e.position,r=e.scale;t&&(0,p.logEvent)({code:b.default.edit_widget.edit_image_rotate}),n&&(0,p.logEvent)({code:b.default.edit_widget.edit_image_pan}),r&&(0,p.logEvent)({code:b.default.edit_widget.edit_image_zoom})}},{key:"handleImageEditChange",value:function(e){var t=this,n=this.props.forceFill,r=this.state.loading,o=(0,f.merge)({},e,{loading:!1}),a=n?e.fillScale:e.fitScale;a&&(o.minScale=a,o=(0,f.merge)({},o,{maxScale:a*x})),this.setState(o,(function(){if(t._imageEditor&&(t._lastEditState=t._imageEditor.getImageState(),!r)){var n=(0,f.omit)(t._lastEditState,["focalPoint"]);t._lastEditState.focalPoint&&(n.position=t._lastEditState.focalPoint.x+" "+t._lastEditState.focalPoint.y),t.logEditEvent(e),t.throttledChangeHandler(n)}}))}},{key:"mockImageDimensions",value:function(){var e=this,t=this.props,n=t.defaultValue,r=t.minWidth,o=t.checkDimensions;if(o&&n){var a=new Image;a.onload=function(){e.setState({displayWarningMessage:a.width<r})},a.src=n}}},{key:"renderImageEditor",value:function(){var e=this,t=this.props,n=t.defaultValue,r=t.enableFocalSelector,o=this.state,a=o.rotation,i=o.scale,u=o.minScale,l=o.maxScale,c=o.position,d=o.focalPoint,f=this.getEditorDimensions(),p=(f.width||f.height)+A,h=f.height+D;return n?s.default.createElement(E.default,{imageSrc:n,rotation:a,scale:i,position:c,minScale:u,maxScale:l,focalPoint:d,outputAspectRatio:f.aspectRatio,width:p,height:h,maskPadding:D,maskBorderRadius:f.borderRadius,onChange:this.handleImageEditChange,initialState:this._lastEditState,ref:function(t){return e._imageEditor=t},imgAttrs:{"data-aid":w.default.IMAGE_EDIT_PREVIEW},enableFocalPoint:r}):s.default.createElement("div",{className:"image-preview-empty",style:{width:f.width,height:f.height,borderRadius:f.maskBorderRadius}})}},{key:"getEditorDimensions",value:function(){var e=this.props.borderRadius,t=this.state.imageAspectRatio,n=this.getOutputAspectRatio()||t,r={height:C,borderRadius:e,aspectRatio:n};return n&&(r.width=C*n),r}},{key:"render",value:function(){var e=this.context.getIntlString,t=this.props,n=t.defaultValue,r=t.enableFocalSelector,o=t.handleRemoveImage,a=t.minWidth,i=this.state,u=i.minScale,l=i.maxScale,c=i.scale,d=i.displayWarningMessage,f=e("imageEditRotate"),p=void 0;p=e(r?"backgroundAnchorLabel":n?"imageEditCurrentImage":"imageEditNoImage");var h=o?s.default.createElement(_.default,{className:"btn-sm remove-image-btn uxicon uxicon-large uxicon-trash",onClick:o,title:e("remove"),disabled:!n}):null,m=d?s.default.createElement("div",{className:"warning-message"},e("imageSelectionWarningGeneric",{context:a})):null;return s.default.createElement("div",{className:"image-input-container"},s.default.createElement("div",{className:"image-input-top-bar"},s.default.createElement("span",{className:"image-edit-label"},p),s.default.createElement("div",{className:"image-edit-buttons"},s.default.createElement(_.default,{"data-aid":w.default.IMAGE_ROTATE_RIGHT,onClick:this.rotateRight,title:f,className:"btn-sm rotate-img-btn uxicon uxicon-large uxicon-undo",disabled:!n}),h)),s.default.createElement("div",{className:"image-preview"},this.renderImageEditor()),s.default.createElement(O.default,{minScale:u,maxScale:l,scale:c,handleZoom:this.handleZoom,disabled:!n}),m)}}]),t})(l.Component));t.default=R,R.defaultProps={borderRadius:"0",defaultValue:"",editedAspectRatio:"",enableFocalSelector:!1,minWidth:0,checkDimensions:!0,forceFill:!0},R.contextTypes={getIntlString:l.PropTypes.func.isRequired,getStore:l.PropTypes.func.isRequired,executeAction:l.PropTypes.func.isRequired}},function(e,t){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={x:"c",y:"c"};if(e.indexOf(" ")>-1){var n=e.split(" ");t={x:n[0],y:n[1]}}else switch(e){case"topLeft":t={x:"l",y:"t"};break;case"topCenter":t={x:"c",y:"t"};break;case"topRight":t={x:"r",y:"t"};break;case"left":t={x:"l",y:"c"};break;case"center":t={x:"c",y:"c"};break;case"right":t={x:"r",y:"c"};break;case"bottomLeft":t={x:"l",y:"b"};break;case"bottomCenter":t={x:"c",y:"b"};break;case"bottomRight":t={x:"r",y:"b"}}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var l,s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),c=n(1),d=r(c),f=n(13),p=r(f),h=n(4),m=n(2),g=n(64),_=r(g),y=n(115),b=r(y),v=n(48),E=r(v),T=n(409),O=r(T),P=n(21),w=r(P),I=n(413),S=r(I),C=n(114),x=r(C),k=n(9),D=r(k),A=1.5,M=280,N=(0,p.default)({VERTICAL:null,HORIZONTAL:null}),R=(l={},u(l,N.VERTICAL,{min:75,default:100,max:125}),u(l,N.HORIZONTAL,{min:50,default:75,max:100}),l),j=["logoUrl","logoText","logoHeight"],L=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=e.logo;return n.state={logo:r},n.onChange=n.onChange.bind(n),n.renderImageResolution=n.renderImageResolution.bind(n),n.handleImageResize=n.handleImageResize.bind(n),n.highlightImageChange=n.highlightImageChange.bind(n),n._highlightTimer=null,n.handleDeleteLogo=n.handleDeleteLogo.bind(n),n.getLogoDetail=n.getLogoDetail.bind(n),n}return i(t,e),s(t,[{key:"componentDidMount",value:function(){n(1362)}},{key:"componentWillReceiveProps",value:function(e){e&&e.logo&&e.logo.get("logoUrl")!==this.state.logo.get("logoUrl")&&this.onChange({logoUrl:e.logo.get("logoUrl")})}},{key:"getLogoDetail",value:function(e){var t=e.target.naturalWidth,n=e.target.naturalHeight,r=t/n>A?N.HORIZONTAL:N.VERTICAL,o=R[r||N.HORIZONTAL],a={logoOrigWidth:t,logoOrigHeight:n,logoOrientation:r};this.state.logo.get("logoHeight")||(a.logoHeight=o.default),this.onChange(a)}},{key:"renderSectionHeader",value:function(){var e=this.context.getIntlString,t=this.state.logo.toJS(),n=t.logoUrl;return d.default.createElement(_.default,{description:e(n?"logoEditDescription":"logoSelectDescription")})}},{key:"renderTextEditor",value:function(){var e=this,t=this.props.field,n=this.context.getIntlString,r=this.state.logo.toJS(),o=r.logoText,a=t.get("maxCount");return d.default.createElement("div",{className:"logo-main-selector"},d.default.createElement(E.default,{label:n("useLogoText"),value:o,onChange:function(t){e.onChange({logoText:t})},maxCount:a,dataRoute:"logo/logoText"}),d.default.createElement("div",{className:"logo-text-edit"},d.default.createElement("div",{className:"logo-seperator"},d.default.createElement("div",{className:"logo-seperator-line-container"},d.default.createElement("div",{className:"logo-seperator-line"})),d.default.createElement("div",{className:"logo-seperator-text-container"},d.default.createElement("div",{className:"logo-seperator-text"},n("or")))),d.default.createElement("div",{className:"uploader-container"},d.default.createElement(O.default,{buttonLabel:n("uploadLogoButton"),basePath:"logo",trafficId:D.default.logo_editing.upload_logo,noPreview:!0})),d.default.createElement("div",{className:"upload-instruction"},d.default.createElement("p",null,n("recommendedLogoSizeLine1")),d.default.createElement("p",null,n("recommendedLogoSizeLine2")))))}},{key:"onChange",value:function(e){var t=this,n=(0,m.some)(j,(function(t){return(0,m.has)(e,t)})),r=this.state.logo.merge(new h.Map(e));this.setState({logo:r},(function(){var e=(0,m.pick)(t.state.logo.toJS(),j);n&&t.props.handleChange(e)}))}},{key:"renderImagePreview",value:function(){var e=this.state.logo.toJS(),t=e.logoUrl,n=e.logoHeight,r=e.logoOrigWidth,o=e.logoOrigHeight,a=e.logoOrientation,i=R[a||N.HORIZONTAL],u=n||i.default,l=r*i.max/o,s=a===N.HORIZONTAL&&l>M?{width:M*u/i.max}:{height:u},c=R[a||N.HORIZONTAL].max;return d.default.createElement("div",{className:"image-preview",style:{height:c}},d.default.createElement("div",{className:"image-preview-thumb"},d.default.createElement("img",{className:"",src:t,style:s,onLoad:this.getLogoDetail})))}},{key:"renderImageResolution",value:function(){var e=this.state.logo.toJS(),t=e.logoHeight,n=e.logoOrigWidth,r=e.logoOrigHeight,o=e.logoOrientation;if(!r)return null;var a=this.context.getIntlString,i=R[o||N.HORIZONTAL],u=t||i.default,l=Math.round(n*u/r);return u>r?d.default.createElement("div",{className:"image-error"},d.default.createElement("p",null,a("blurryImageWarningLine1")),d.default.createElement("p",null,a("blurryImageWarningLine2"))):d.default.createElement("div",{className:"image-resolution"},a("currentSize")+": "+l+"px "+a("by")+" "+u+"px")}},{key:"renderImageEditor",value:function(){var e=this.state.logo.toJS(),t=e.logoHeight,n=e.logoOrientation,r=R[n||N.HORIZONTAL];return d.default.createElement("div",{className:"image-input-container"},this.renderImagePreview(),this.renderImageResolution(),d.default.createElement("div",{className:"image-editor-controls","data-traffic2":D.default.logo_editing.image_edit_logo},d.default.createElement(S.default,{scale:t||r.default,minScale:r.min,maxScale:r.max,handleZoom:this.handleImageResize})))}},{key:"handleImageResize",value:function(e){this.highlightImageChange(),this.onChange({logoHeight:Math.floor(e)})}},{key:"highlightImageChange",value:function(){var e=this.props,t=e.editingId,n=e.property,r=e.enableClickToEdit;if(r){var o=x.default.getFieldElements(n,t);this._highlightTimer=x.default.triggerChange(o,this._highlightTimer)}}},{key:"renderSectionFooter",value:function(){if(!this.state.logo.get("logoUrl"))return null;var e=this.context.getIntlString;return d.default.createElement(b.default,{className:"ux-form-group labeled-input"},d.default.createElement(w.default,{className:"delete-widget-btn btn-sm",type:"danger dark","data-traffic2":D.default.logo_editing.delete_logo,onClick:this.handleDeleteLogo},e("removeLogoButton")))}},{key:"handleDeleteLogo",value:function(){this.onChange({logoUrl:"",logoHeight:"",logoOrigWidth:"",logoOrigHeight:"",logoOrientation:""})}},{key:"render",value:function(){var e=this.state.logo.toJS(),t=e.logoUrl,n=t?this.renderImageEditor():this.renderTextEditor();return d.default.createElement("div",{className:"logo-input-container"},d.default.createElement("div",{className:"logo-content-wrapper"},this.renderSectionHeader(),n),this.renderSectionFooter())}}]),t})(c.Component);L.defaultProps={handleChange:m.noop},L.contextTypes={getIntlString:c.PropTypes.func.isRequired,executeAction:c.PropTypes.func.isRequired},t.default=L,e.exports=t.default},[1605,419],function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(2),d=n(8),f=r(d),p=n(48),h=r(p),m=n(496),g=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onChange=n.onChange.bind(n),n.onBlur=n.onBlur.bind(n),n.state={errors:[]},n.validate=n.validate.bind(n);var r=e.property;return r=r.substr(r.lastIndexOf(".")+1),n.dataAid=f.default.TEXT_INPUT+"_"+r.toUpperCase(),n}return i(t,e),u(t,[{key:"componentDidMount",value:function(){""!==this.props.defaultValue&&this.validate(this.props.defaultValue)}},{key:"validate",value:function e(t){var n=this.props,e=n.validate,r=n.validationErrorMsg,o=""===t||e(t),a=o?[]:[r];return this.setState({errors:a}),o}},{key:"onChange",value:function(e,t){return this.props.handleChange(e,t)}},{key:"onBlur",value:function(e,t){return this.validate(e)&&this.props.handleBlur(e,t)}},{key:"render",value:function(){var e=this.props,t=e.label,n=e.property,r=e.labelClassNames,o=e.prefix,a=e.defaultValue,i=e.disabled,u=e.className,l=e.maxCount,c=e.placeholder,d=e.autoSelectAll;return s.default.createElement(h.default,{automationId:this.dataAid,label:t,id:n,labelClassNames:r,prefix:o,value:a,placeholder:c,autoSelectAll:d,onChange:this.onChange,onBlur:this.onBlur,disabled:i,className:u,errors:this.state.errors,maxCount:l})}}]),t})(l.Component);g.defaultProps={handleChange:c.noop,handleBlur:c.noop,validate:m.validateEmail,validationErrorMsg:"emailValidationErrorMsg",placeholder:""},t.default=g,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=(n(4),n(21)),d=r(c),f=n(2),p=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n}return i(t,e),u(t,[{key:"componentWillMount",value:function(){n(1363)}},{key:"handleClick",value:function(){var e=this.props.field.get("state"),t=this.props.field.get("mutatorSettings").get("newTab");t?window.open(e,"_blank"):window.location.href=e}},{key:"getSubTitle",value:function(e){var t=this.props.field.get("fieldSubtitle");if(!t)return null;var n=e?"marginBottom":"marginTop",r={lineHeight:"1.5"};return r[n]="10px",s.default.createElement("div",{className:"ex-link-btn-subtitle",style:r},t)}},{key:"getTitle",value:function(){var e=this.props.field.get("fieldTitle");return e?s.default.createElement("div",{className:"ex-link-btn-title"}," ",e," "):null}},{key:"render",value:function(){var e=this.props.field,t=e.get("fieldPlaceholder"),n=e.get("mutatorSettings").toJS(),r=n.format,o=n.traffic2,a=!0;"subTitleOnTop"in n&&(a=n.subTitleOnTop);var i=this.getSubTitle(a),u="primary dark",l={};"link"===r&&(u="link",(0,f.assign)(l,{textTransform:"none",paddingLeft:"0px"}));var c={padding:"20px"};return s.default.createElement("div",{style:c},this.getTitle(),a?i:null,s.default.createElement(d.default,{id:this.props.field.get("id"),type:u,className:"btn-sm",style:l,disabled:this.props.disabled,title:t,"data-traffic2":o,onClick:this.handleClick},t),a?null:i)}}]),t})(l.Component);t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),c=n(1),d=r(c),f=n(5),p=r(f),h=n(2),m=n(6),g=n(85),_=r(g),y=n(3),b=r(y),v=n(10),E=r(v),T=n(424),O=r(T),P=n(43),w=r(P),I=n(142),S=r(I),C=n(38),x=r(C),k=n(114),D=r(k),A=n(172),M=r(A),N=n(79),R=r(N),j=n(438),L=n(4),U=(function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n.addChildItem=n.addChildItem.bind(n),n.getDataList=n._getDataList.bind(n),n}return u(t,e),s(t,[{key:"getUpdateFunctions",value:function(){var e=this,t=this.context,n=this.props,r=n.fields,o=n.widget,a=n.field,i=n.updateDelay,u=(0,_.default)(a),l=u.extension,s=u.dataPath,c=u.mutatorType,d=u.mapToStorage,f=function(e,n,i){e=(0,j.limitInputLength)(a.get("maxCount"),e,c),(0,M.default)(t,R.default.BLUR,{widget:o,mutatorType:c,extension:l,dataPath:s,newValue:e,domEvent:n,mapToStorage:d,fields:r,navigateParams:i})},p=(0,h.debounce)((function(e,n,i){e=(0,j.limitInputLength)(a.get("maxCount"),e,c),(0,M.default)(t,R.default.CHANGE,{widget:o,mutatorType:c,extension:l,dataPath:s,newValue:e,domEvent:n,mapToStorage:d,fields:r,navigateParams:i})}),i),m=(0,h.debounce)((function(n,a,i){n=e.getDataList().concat(n),(0,M.default)(t,R.default.CHANGE,{widget:o,mutatorType:c,extension:l,dataPath:s,newValue:n,domEvent:a,mapToStorage:d,fields:r,navigateParams:i})}),i);
return{onChange:p,onBlur:f,onAppend:m}}},{key:"isFeatureEnabled",value:function(){var e=this.props.field,t=this.context.getStore(b.default.CONFIG),n=e.get("behindFeatureFlag");return!n||t.getFeatureFlag(n)!==!1}},{key:"_getDataList",value:function(){var e=this.props,t=e.field,n=e.widget,r=t.get("dataPath");return r&&n.get("data").getIn(r.toJS())}},{key:"addChildItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.navigateToNew,r=void 0===n||n,a=t.addMultiple,i=void 0!==a&&a,u=this.props.field,l=this.getUpdateFunctions(),s=l.onBlur,c=this.getDataList()||new L.List,d=i?c.push.apply(c,o(e)):c.push(e),f=void 0;if(r){var p=u.getIn(["newItemTemplate","route"])||new L.List;f={routeName:E.default.EDIT_WIDGET_MUTATOR,params:{mutatorPath:p}}}s(d.toJS(),null,f)}},{key:"render",value:function(){var e=this.context,t=this.props,n=t.widget,r=t.field,o=t.fields,a=t.editingId,i=t.pageData,u=t.route,l=t.routeParams,s=this.getUpdateFunctions(),c=s.onChange,f=s.onBlur,p=s.onAppend,m=(0,_.default)(r),g=m.extension,y=m.dataPath,b=m.mutatorType,v=m.mapToStorage,T=m.mutatorSettings,P=(i.get("parentRoute")||new L.List).toJS(),I={routeName:E.default.EDIT_WIDGET_MUTATOR,params:{mutatorPath:P}},C=function(t){(0,M.default)(e,R.default.REMOVE,{widget:n,mutatorType:b,extension:g,dataPath:y,navigateParams:I,domEvent:t,mapToStorage:v,fields:o,overwrite:!0})},k=r.get("route").join("/"),A=T.get("disabled"),N=T.get("displayed",!0),j=r.get("mutatorType"),U=r.get("description"),G=O.default[j];if(G&&N)return d.default.createElement("div",{className:"mutator-field"},U?d.default.createElement("p",null,U):null,d.default.createElement(D.default,{className:"mutator-field-inner",editingId:a,enableClickToEdit:!0},d.default.createElement(G,{field:r,editingId:a,dataRoute:k,onChange:c,handleChange:c,onBlur:f,onRemove:C,onAppend:p,onAddItemClick:this.addChildItem,disabled:!T.get("enabled",!0)||A,route:u,routeParams:l})));if("PIVOT"===j){var B=r.get("previewData"),W=r.get("id")||r.get("pivotTo").get("id")||"",F=(0,h.get)(r.toJS(),"pivotTo.mutatorSettings.enabled",!0);return d.default.createElement("div",{className:"single-pivot"},d.default.createElement(w.default,null,d.default.createElement(S.default,{mutatorRoute:r.get("pivotTo").get("route")},d.default.createElement(x.default,{id:W.replace(/\W/g,"_").toUpperCase(),title:B.get("text"),description:B.get("subtext"),icon:B.get("image"),disabled:!F}))))}return G||console.error("Unexpected mutator type",j),d.default.createElement("div",null)}}]),t})(c.Component);U.contextTypes={getStore:c.PropTypes.func.isRequired,executeAction:c.PropTypes.func.isRequired},t.default=(0,m.subscribeToStores)(U,[b.default.CONFIG],(function(e){var t=l(e,1),n=t[0];return{updateDelay:n.get("mutatorSettings.updateDelay",200)}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(1029),p=r(f),h=(n(4),(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n.renderField=n.renderField.bind(n),n}return i(t,e),u(t,[{key:"renderField",value:function(e,t){var n=this.props,r=n.fields,o=n.editingId,a=n.widget,i=n.pageData,u=n.route,l=n.routeParams,c=e.set("maxCount",e.get("mutatorSettings").get("maxCount")||null);return s.default.createElement(p.default,{key:t,editingId:o,field:c,fields:r,pageData:i,widget:a,route:u,routeParams:l})}},{key:"render",value:function(){var e=this.props.fields;return s.default.createElement("div",{className:"ux-form mutator-form"},e.map(this.renderField))}}]),t})(l.Component));t.default=h,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(2),d=(n(4),n(8)),f=r(d),p=n(411),h=r(p),m=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=n.handleUpdateEvent.bind(n,"onChange"),n.handleBlur=n.handleUpdateEvent.bind(n,"onBlur"),n}return i(t,e),u(t,[{key:"handleUpdateEvent",value:function(e,t){this.props[e]({value:t.address,lat:t.lat,lng:t.lng})}},{key:"render",value:function(){var e=this.props,t=e.dataRoute,n=e.field,r=e.labelClassNames,o=n.get("id"),a=n.get("fieldTitle"),i=n.getIn(["state","value"]),u=f.default.TEXT_INPUT+"_"+t.replace(/\//g,"_").toUpperCase(),l=n.getIn(["mutatorSettings","maxCount"]);return s.default.createElement(h.default,{id:o,isModal:!1,label:a,value:i,validate:c.noop,onChange:this.handleChange,onBlur:this.handleBlur,onSelect:this.handleBlur,onGeoLocated:this.handleBlur,labelClassNames:r,automationId:u,dataRoute:t,maxCount:l})}}]),t})(l.Component);m.defaultProps={onChange:c.noop,onBlur:c.noop},t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(2),f=n(4),p=n(140),h=r(p),m=n(48),g=r(m),_=n(111),y=r(_),b=n(3),v=r(b),E=n(6),T=n(64),O=r(T),P=n(8),w=r(P),I=n(79),S=n(437),C=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onUpdate=n.onUpdate.bind(n),n.state={ctaButton:e.field.get("state")||new f.Map},n}return i(t,e),l(t,[{key:"onUpdate",value:function(e){var t=e.actionType,n=e.changes,r=this.state.ctaButton,o=this.context.getIntlString;if(n.enabled&&(0,f.is)(r,new f.Map)){var a=this.getShopPageId();if(a)n.label=o("shopNow"),n.pageId=a;else{n.label=o("getInTouch"),n.pageId=this.getHomePageId();var i=this.getContactWidgetId();i&&(n.widgetId=i)}}(0,S.updateDropdown)({fieldName:"ctaButton",data:r},t,n,this)}},{key:"getShopPageId",value:function(){var e=this.props.pages,t=(0,d.find)(e,(function(e){return e.tags&&e.tags.length&&e.tags.includes("SHOP")}));return t?t.id:null}},{key:"getHomePageId",value:function(){var e=this.props.pages,t=(0,d.find)(e,(function(e){return e.options.isHomepage}));return t?t.id:null}},{key:"getContactWidgetId",value:function(){var e=this.props.widgets,t=(0,d.find)(e,(function(e){return"CONTACT"===e.type}));return t?t.id:null}},{key:"renderSectionOrURLInput",value:function(){var e=this,t=this.context.getIntlString,n=this.props,r=n.widgets,o=n.currentPageId,a=this.state.ctaButton,i=!a.get("enabled");if(a.get("pageId")===S.EXTERNAL_URL_OPTION.value)return c.default.createElement(g.default,{automationId:w.default.TEXT_INPUT_CTA_EXTERNAL_URL,label:t("ctaUrlInput"),onChange:function(t){return e.onUpdate({actionType:I.CHANGE,changes:{url:t}})},onBlur:function(t){return e.onUpdate({actionType:I.BLUR,changes:{url:t}})},value:a.get("url"),placeholder:"http://",disabled:i});var u=(0,d.map)(r,(function(e){return{value:e.id,label:e.properties.sectionTitle||e.properties.title||e.type}})),l=(0,d.find)(u,(function(e){return e.value===a.get("widgetId")})),s=this.getHomePageId();return c.default.createElement(y.default,{label:t("section"),isMutator:!0,options:u,value:l,onChange:function(t){return e.onUpdate({actionType:I.BLUR,changes:{widgetId:t.value}})},disabled:i||o!==s||a.get("pageId")!==s,dataAidPrefix:"ctaWidgetOptions"})}},{key:"render",value:function(){var e=this,t=this.context.getIntlString,n=this.props,r=n.pages,o=n.currentPageId,a=this.state.ctaButton,i=(0,S.buildDropdownOptions)(r,o,t),u=a.get("pageId")||i[0].id,l=(0,d.find)(i,(function(e){return e.value===u})),s=!a.get("enabled");return c.default.createElement("div",null,c.default.createElement(O.default,{title:t("engageYourVisitors"),titleEnabled:!0,description:t("ctaDescription")}),c.default.createElement(h.default,{label:t("showActionButton"),handleChange:function(t){return e.onUpdate({actionType:I.BLUR,changes:{enabled:t}})},defaultValue:a.get("enabled"),property:"ctaEnabled",className:"ux-form-control"}),c.default.createElement(g.default,{automationId:w.default.TEXT_INPUT_CTA_BUTTON_LABEL,label:t("buttonLabel"),onChange:function(t){return e.onUpdate({actionType:I.CHANGE,changes:{label:t}})},onBlur:function(t){return e.onUpdate({actionType:I.BLUR,changes:{label:t}})},value:a.get("label"),disabled:s,autoSelectAll:!0}),c.default.createElement(y.default,{label:t("linkToPage"),isMutator:!0,options:i,value:l,onChange:function(t){return e.onUpdate({actionType:I.BLUR,changes:{pageId:t.value,widgetId:""}})},disabled:s,dataAidPrefix:"ctaPageOptions"}),this.renderSectionOrURLInput())}}]),t})(s.Component);C.contextTypes={getIntlString:s.PropTypes.func.isRequired},C.defaultProps={handleChange:d.noop},t.default=(0,E.subscribeToStores)(C,[v.default.PAGE,v.default.WIDGET],(function(e){var t=u(e,2),n=t[0],r=t[1];return{currentPageId:n.getCurrentPageId(),pages:n.getPages().toJS(),widgets:r.getPageWidgets().toJS()}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t,n){var r=e.slice(0),o=r[t];return r.splice(t,1),r.splice(n,0,o),r}function l(e,t,n){return Math.max(Math.min(e,n),t)}function s(e){var t=e.get("previewData",new y.Map).get("image",new y.Map).get("image")+("/:/rs=w:"+O.IMAGE_SELECTOR_THUMBNAIL_SIZE+",h:"+O.IMAGE_SELECTOR_THUMBNAIL_SIZE+",m"),n="url('"+t+"')";return n}Object.defineProperty(t,"__esModule",{value:!0});var c=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),d=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),f=n(1),p=r(f),h=n(7),m=r(h),g=n(292),_=n(2),y=n(4),b=n(142),v=r(b),E=n(10),T=r(E),O=n(247),P=n(17),w=r(P),I=n(9),S=r(I),C=n(11),x=n(8),k=r(x),D={stiffness:180,damping:10},A={stiffness:120,damping:17},M=3,N=10,R=O.IMAGE_SELECTOR_THUMBNAIL_SIZE+14,j=R,L=R,U=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.loggedDrag=!1,n.state=n.getResetState(e),n._calculateHit=n._calculateHit.bind(n),n.handleTouchStart=n.handleTouchStart.bind(n),n.handleTouchEnd=n.handleTouchEnd.bind(n),n.handleTouchMove=n.handleTouchMove.bind(n),n.handleMouseMove=n.handleMouseMove.bind(n),n.handleMouseDown=n.handleMouseDown.bind(n),n.handleMouseUp=n.handleMouseUp.bind(n),n.handleClick=n.handleClick.bind(n),n}return i(t,e),d(t,[{key:"getResetState",value:function(e){var t=e.images,n=t.size+1,r=(0,_.range)(n);return this.layout=(0,_.range)(n).map((function(e){var t=Math.floor(e/3),n=e%3;return[j*n,L*t]})),{images:t,count:n,mouse:[0,0],delta:[0,0],lastPress:null,isPressed:!1,currOrder:r,newOrder:r}}},{key:"componentWillMount",value:function(){n(1364)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.images,r=t.editingId;e.editingId===r&&e.images.size===n.size||this.setState(this.getResetState(e))}},{key:"handleTouchStart",value:function(e,t,n){var r=n.touches[0],o=this.state.count,a=this._calculateHit([r.pressX,r.pressY],o);a>=o-1&&this.setState({dragging:!0}),this.handleMouseDown(e,t,r),window.addEventListener("touchmove",this.handleTouchMove),window.addEventListener("touchend",this.handleTouchEnd)}},{key:"handleTouchEnd",value:function(e){this.setState({dragging:!1}),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd),this.handleMouseUp(e)}},{key:"handleTouchMove",value:function(e){this.state.dragging&&e.preventDefault(),this.handleMouseMove(e.touches[0])}},{key:"handleMouseMove",value:function(e){var t=e.pageX,n=e.pageY,r=this.state,o=r.count,a=r.newOrder,i=r.lastPress,l=r.isPressed,s=c(r.delta,2),d=s[0],f=s[1];if(l){var p=[t-d,n-f],h=this._calculateHit(p,o);if(this.loggedDrag||((0,C.logEvent)({code:S.default.edit_widget.edit_image_array_drag_image_item,domEvent:e}),this.loggedDrag=!0),h>=o-1)return void this.setState({mouse:p,dragging:!0});var m=u(a,a.indexOf(i),h);this.setState({mouse:p,newOrder:m,dragging:!0})}}},{key:"handleMouseDown",value:function(e,t,n){var r=c(t,2),o=r[0],a=r[1],i=n.pageX,u=n.pageY;this.setState({lastPress:e,isPressed:!0,delta:[i-o,u-a],mouse:[o,a],mouseStart:[i,u]}),this.loggedDrag=!1,window.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("mouseup",this.handleMouseUp)}},{key:"handleMouseUp",value:function(e){var t=this.state,n=t.images,r=t.newOrder,o=t.currOrder,a={isPressed:!1,delta:[0,0],distanceMoved:this._calcDistanceMoved(e)},i=this._rearrangeImages(n,o),u=this._rearrangeImages(n,r);window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp),(0,_.isEqual)(i,u)||(this.props.onChange(u,e),a.currOrder=r),this.setState(a)}},{key:"handleClick",value:function(e){var t=this.state.distanceMoved,n=this.props.images,r=this.context.executeAction;t<N&&r(w.default,{routeName:T.default.EDIT_WIDGET_MUTATOR,params:{mutatorPath:n.get(e,new y.Map).get("route",new y.List).toJS()},preserveScrollPosition:!0})}},{key:"_calcDistanceMoved",value:function(e){var t=e.pageX,n=e.pageY,r=this.state.mouseStart,o=c(r,2),a=o[0],i=o[1];return e.changedTouches&&(t=e.changedTouches[0].pageX,n=e.changedTouches[0].pageY),Math.sqrt(Math.pow(t-a,2)+Math.pow(n-i,2))}},{key:"render",value:function(){var e=this,t=this.state,n=t.count,r=t.images,o=t.newOrder,a=t.lastPress,i=t.isPressed,u=t.mouse,l=this.props.pickRoute,d={height:Math.ceil(this.state.count/M)*R+"px"};return p.default.createElement("div",{className:"draggable-image-container",style:d},o.map((function(t,d){var f=void 0,h=void 0,_=void 0,y=o.indexOf(d);if(d===a&&i){var b=c(u,2);h=b[0],_=b[1],f={translateX:h,translateY:_,scale:(0,g.spring)(1.2,D)}}else{var E=c(e.layout[y],2);h=E[0],_=E[1],f={translateX:(0,g.spring)(h,A),translateY:(0,g.spring)(_,A),scale:(0,g.spring)(1,D)}}if(d===n-1)return l&&p.default.createElement(g.Motion,{key:d,style:f},(function(e){var t=e.translateX,n=e.translateY,r=e.scale;return p.default.createElement(v.default,{mutatorRoute:l},p.default.createElement("div",{"data-aid":k.default.IMAGE_ADD_PHOTO,className:"draggable-image draggable-image-add-photo flex flex--column flex--abs-center",style:{WebkitTransform:"translate3d("+t+"px, "+n+"px, 0) scale("+r+")",transform:"translate3d("+t+"px, "+n+"px, 0) scale("+r+")",zIndex:d===a?99:y,height:O.IMAGE_SELECTOR_THUMBNAIL_SIZE,width:O.IMAGE_SELECTOR_THUMBNAIL_SIZE}},p.default.createElement("div",{className:"uxicon uxicon-larger uxicon-plus"}),p.default.createElement("div",{className:"upload-button",style:{marginTop:8}})))}));var T=e.props.images.get(y).get("route").join("/"),P=T.split("/"),w=c(P,2),I=(w[0],w[1]),S="GALLERY_IMAGE"+I+"_THUMBNAIL",C=(0,m.default)("draggable-image",{"draggable-image-dragging":i&&d===a});return p.default.createElement(g.Motion,{key:d,style:f},(function(t){var n=t.translateX,o=t.translateY,i=t.scale;return p.default.createElement("div",{onMouseDown:e.handleMouseDown.bind(null,d,[h,_]),onTouchStart:e.handleTouchStart.bind(null,d,[h,_]),onClick:e.handleClick.bind(null,y),className:C,"data-route":T,"data-aid":S,style:{backgroundImage:s(r.get(d)),WebkitTransform:"translate3d("+n+"px, "+o+"px, 0) scale("+i+")",transform:"translate3d("+n+"px, "+o+"px, 0) scale("+i+")",zIndex:d===a?99:y}})}))})))}},{key:"_rearrangeImages",value:function(e,t){var n=e.map((function(e){return e.get("previewData").get("image")}));t.length>n.size&&(t=t.slice(0,n.size));for(var r=[],o=0;o<t.length;o++)r[o]=n.get(t[o]).toJS();return r}},{key:"_calculateHit",value:function(e){var t=c(e,2),n=t[0],r=t[1],o=l(Math.floor(n/j),0,2),a=l(Math.floor(r/L),0,Math.floor(this.state.count/M)),i=a*M+o;return i}}]),t})(f.Component);U.contextTypes={executeAction:f.PropTypes.func.isRequired},U.defaultProps={images:new y.List,pickRoute:new y.List,field:new y.Map,onChange:_.noop},t.default=U,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=(n(4),n(111)),d=r(c),f=(function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.field,n=e.onChange,r=t.get("state"),o=t.get("mutatorSettings").toJS(),a=o.options,i=void 0;return"undefined"!=typeof r&&(i=a.find((function(e){return e.hasOwnProperty("value")?e.value===r:e===r}))),s.default.createElement(d.default,{label:t.get("fieldTitle"),onChange:function(e,t){return n(e.hasOwnProperty("value")?e.value:e,t)},options:a,value:i,isMutator:!0,dataAidPrefix:"DROPDOWN_VALUE"})}}]),t})(l.Component);t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(2),f=n(4),p=n(48),h=r(p),m=n(111),g=r(m),_=n(3),y=r(_),b=n(6),v=n(8),E=r(v),T=n(79),O=n(437),P=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={dropdownData:e.field.get("state")||new f.Map},n}return i(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({dropdownData:e.field.get("state")||new f.Map})}},{key:"renderUrlInput",value:function(){var e=this,t=this.context.getIntlString,n=this.state.dropdownData;if(n.get("pageId")===O.EXTERNAL_URL_OPTION.value)return c.default.createElement(h.default,{automationId:E.default.TEXT_INPUT_EXTERNAL_URL,label:t("ctaUrlInput"),onChange:function(t){return(0,O.updateDropdown)({fieldName:"dropdownData",data:n},T.CHANGE,{url:t},e)},onBlur:function(t){return(0,O.updateDropdown)({fieldName:"dropdownData",data:n},T.BLUR,{url:t},e)},value:n.get("url"),placeholder:"http://",autoSelectAll:!0})}},{key:"render",value:function(){var e=this,t=this.context.getIntlString,n=this.props,r=n.pages,o=n.currentPageId,a=this.state.dropdownData,i=(0,O.buildDropdownOptions)(r,o,t);i.push({label:"None",value:null});var u=a.get("pageId")||i[0].id,l=(0,d.find)(i,(function(e){return e.value===u}));return c.default.createElement("div",null,c.default.createElement(g.default,{label:t("linkToPage"),isMutator:!0,options:i,value:l,onChange:function(t){return(0,O.updateDropdown)({fieldName:"dropdownData",data:a},T.BLUR,{pageId:t.value,widgetId:""},e)},dataAidPrefix:"ctaPageOptions",noneSelected:!l}),this.renderUrlInput())}}]),t})(s.Component);P.contextTypes={getIntlString:s.PropTypes.func.isRequired},t.default=(0,b.subscribeToStores)(P,[y.default.PAGE],(function(e){var t=u(e,1),n=t[0];return{currentPageId:n.getCurrentPageId(),pages:n.getPages().toJS()}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(4),d=n(15),f=n(235),p=r(f),h=d.constants.editors,m=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.handleChange=n.handleChange.bind(n),n.handleBlur=n.handleBlur.bind(n);var r=n.props.field;return n.state={formFields:r&&r.get("state")||(0,c.fromJS)([])},n}return i(t,e),u(t,[{key:"handleChange",value:function(e,t,n,r){var o=this,a=this.props.handleChange;r.persist(),this.updateFormFields(e,t.property,n,(function(){a&&a(o.state.formFields.toJS(),r)}))}},{key:"handleBlur",value:function(e,t,n,r){var o=this,a=this.props.handleBlur;r.persist(),this.updateFormFields(e,t.property,n,(function(){a&&a(o.state.formFields.toJS(),r)}))}},{key:"updateFormFields",value:function(e,t,n,r){var o=this.state.formFields;this.setState({formFields:o.update(o.findIndex((function(t){return t.get("fieldId")===e})),(function(e){return e.set(t,n)}))},r)}},{key:"renderFormFields",value:function(){var e=this,t=this.state.formFields,n=this.context.getIntlString,r=this.props.field.get("mutatorSettings").get("mutatorLabels").toJS(),o=t.map((function(t){var o=t.get("type"),a=t.get("label"),i=t.get("fieldId"),u=t.get("editable")===!1||o===h.EMAIL,l=r[i],d=o===h.EMAIL,f=d?n("formFieldUneditable"):"",m=new c.Map({label:l,property:"label",type:h.TEXT,value:a});return s.default.createElement(p.default,{key:i,field:m,subText:f,showSubText:d,disabled:u,onChange:e.handleChange.bind(null,i),onBlur:e.handleBlur.bind(null,i)})}));return s.default.createElement("div",null,o)}},{key:"render",value:function(){return s.default.createElement("div",null,this.renderFormFields())}}]),t})(l.Component);m.contextTypes={getIntlString:l.PropTypes.func.isRequired},t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(4),d=n(15),f=n(2),p=n(85),h=r(p),m=n(417),g=r(m),_=n(21),y=r(_),b=n(17),v=r(b),E=n(8),T=r(E),O=d.constants.editors,P=75,w=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=n.handleChange.bind(n),n.handleDelete=n.handleDelete.bind(n),n}return i(t,e),u(t,[{key:"handleChange",value:function(e){var t=this.props,n=t.onChange,r=t.field,o=r.get("state")||new c.Map,a=(0,f.mapKeys)(e,(function(e,t){return"value"===t?"image":t}));n((0,f.merge)({},o.toJS(),a))}},{key:"handleDelete",value:function(e){var t=this.props,n=t.onRemove,r=t.field,o=this.context.executeAction;n(e),o(v.default,{params:{mutatorPath:r.get("parentRoute")},preserveScrollPosition:!0})}},{key:"render",value:function(){var e=this.props,t=e.field,n=e.route,r=e.routeParams,o=(0,h.default)(t.get("state",new c.Map)),a=o.position,i=void 0===a?"center":a,u=o.rotation,l=void 0===u?"0":u,d=o.left,f=o.top,p=o.width,m=o.height,_=o.image,b=o.editedAspectRatio,v=t.get("mutatorSettings"),E=t.get("specialChildRoutes"),w=v.get("editMode"),I=!(v.get("isArrayElement")&&!v.get("showImagePickers")),S=v.get("minWidth"),C=t.get("deleteItemLabel"),x=void 0,k=void 0;E&&(E=E.toJS(),x=E.pick,k=E.stock);var D=s.default.createElement(g.default,{defaultValue:_,handleChange:this.handleChange,imagePadding:P,dataAid:T.default.IMAGE_EDIT_PREVIEW,type:"anchor"===w?O.BACKGROUND:O.IMAGE,aspectRatio:v.get("aspectRatio"),editedAspectRatio:b,borderRadius:v.get("borderRadius"),showRemove:I,showMyLibraryPivot:I,myLibraryPath:x,showStockPhotosPivot:I,stockPhotosPath:k,position:i,rotation:l,left:d,top:f,width:p,height:m,route:n,routeParams:r,minWidth:S,forceFill:v.get("forceFill",!0)}),A=C?s.default.createElement("div",{className:"bottom-bar"},s.default.createElement(y.default,{className:"btn-sm",onClick:this.handleDelete,type:"danger dark"},C)):null;return s.default.createElement("div",null,D,A)}}]),t})(l.Component);w.contextTypes={executeAction:l.PropTypes.func.isRequired},t.default=w,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){var t=e.count,n=e.label,r=e.maxCount;return c.default.createElement(f.default,{label:n,maxCount:r,count:t,forceCount:!0,showMaxCount:!0})}Object.defineProperty(t,"__esModule",{value:!0});var l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(94),f=r(d),p=n(4),h=n(2),m=n(1033),g=r(m),_=(function(e){function t(e){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.field,n=e.onChange,r=e.editingId,o=t.get("contents"),a=t.get("mutatorSettings",new p.Map).get("maxCount",10);return c.default.createElement("div",null,c.default.createElement(u,{label:t.get("fieldTitle"),count:o.size,maxCount:a}),c.default.createElement("div",{className:"image-array-container flex flex--wrap",style:{margin:"0 20px"}},c.default.createElement(g.default,{onChange:n,images:o,field:t,editingId:r,pickRoute:o.size<a?t.getIn(["specialChildRoutes","pick"]):null})))}}]),t})(s.Component);t.default=_,_.defaultProps={onChange:h.noop},_.contextTypes={getIntlString:s.PropTypes.func.isRequired
},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(4),d=n(2),f=n(85),p=r(f),h=n(64),m=r(h),g=n(416),_=r(g),y=n(427),b=r(y),v=n(389),E=r(v),T=99,O=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=n.handleChange.bind(n),n}return i(t,e),u(t,[{key:"handleChange",value:function(e){var t=this.props,n=t.onChange,r=t.navigateBack,o=t.mutatorSettings,a=t.newItemTemplate,i=t.onAppend,u=(0,p.default)(o),l=u.enableMultiselect,s=(a||new c.Map).get("state"),f=s&&s.toJS();l?(i(e.map((function(e){if(s){var t=!1,n=(0,d.cloneDeepWith)(f,(function(n){if(n&&"image"===n.type)return t=!0,{image:e}}));if(t)return n}return{image:e}}))),r()):n({image:e,top:"",left:"",rotation:"",width:"",height:"",editedAspectRatio:"",position:""})}},{key:"render",value:function(){var e=this.props,t=e.mutatorSettings,n=e.templateArgs,r=e.pageTitle,o=e.pageSubtitle,a=this.context.getIntlString,i=(0,p.default)(t),u=i.maxCount,l=i.alreadySelected,c=i.photoChooserTitle,d=i.photoChooserDescription,f=i.enableMultiselect,h=i.minWidth,g=i.minHeight,y=i.aspectRatio,v=l?l.toJS():[],O=v.filter((function(e){return e&&e.image})).map((function(e){return e.image})),P=(u||T)-v.length,w=r||c||a("myPhotos"),I=o||d;return s.default.createElement(b.default,{defaultProps:n,pageTitle:w},I&&s.default.createElement(m.default,{description:I}),s.default.createElement(_.default,{multiselect:f,excludes:O,maxSelectable:P,showNoneSelector:!1,selectOnUpload:!1,handleChange:this.handleChange,loadImagesAction:E.default,minWidth:h,minHeight:g,aspectRatio:y}))}}]),t})(l.Component);O.contextTypes={getIntlString:l.PropTypes.func.isRequired},t.default=O,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=(n(4),n(423)),d=r(c),f=n(1041),p=r(f),h="FILE",m=(function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.field,n=e.onAddItemClick,r=e.editingId,o=t.get("mutatorSettings"),a=o&&o.get("itemType")===h?p.default:d.default;return s.default.createElement(a,{field:t,onAddItemClick:n,editingId:r})}}]),t})(l.Component);t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=(n(4),n(423)),f=r(d),p=n(6),h=n(3),m=r(h),g=n(85),_=r(g),y="downloads",b=(function(e){function t(e){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"isPath",value:function(e){return e&&e.indexOf("//")!==-1}},{key:"render",value:function(){var e=this,t=this.props,n=t.field,r=t.onAddItemClick,o=t.documents,a=t.editingId,i=this.context.getIntlString,u=i("tryUploadAgain"),l=(0,_.default)(n),s=l.contents,d=l.mutatorSettings,p=d.get("maxCount"),h=p?s.slice(0,p):s,m=[];return h.size&&h.map((function(t){var n=t.getIn(["previewData","subtext"]),r=o.getIn([y+"/"+n,"progress"]);r>0?m.push(r):e.isPath(n)?m.push(0):m.push(-1)})),c.default.createElement(f.default,{field:n,onAddItemClick:r,progress:m,progressError:u,editingId:a})}}]),t})(s.Component);b.contextTypes={getIntlString:s.PropTypes.func.isRequired},t.default=(0,p.subscribeToStores)(b,[m.default.DOCUMENT],(function(e){var t=u(e,1),n=t[0];return{documents:n.getDocuments(y,!0)}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(420),d=r(c),f=n(141),p=(function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.field,n=e.className,r=e.disabled,o=e.labelClassNames,a=e.onChange,i=e.dataRoute,u=t.get("id"),l=t.get("mutatorSettings").toJS(),c=l.options,p=l.optionLabels;return s.default.createElement(d.default,{id:u,property:u,options:c,optionLabels:p,label:t.get("fieldTitle"),defaultValue:t.get("state"),handleChange:a,labelClassNames:o||(0,f.getLabelClassNames)({disabled:r}),className:n||(0,f.getClassNames)({disabled:r}),dataRoute:i})}}]),t})(l.Component);p.defaultProps={onChange:function(){},disabled:!1},t.default=p,e.exports=t.default},[1605,422],function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),c=n(1),d=r(c),f=(n(4),n(85)),p=r(f),h=n(64),m=r(h),g=n(415),_=r(g),y=n(427),b=r(y),v=n(3),E=r(v),T=n(39),O=r(T),P=n(6),w=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=n.handleChange.bind(n),n}return i(t,e),s(t,[{key:"handleChange",value:function(e){this.props.onChange({image:e,top:"",left:"",rotation:"",width:"",height:"",editedAspectRatio:"",position:""})}},{key:"render",value:function(){var e=this.context.getIntlString,t=this.props,n=t.mutatorSettings,r=t.templateArgs,o=t.pageTitle,a=t.pageSubtitle,i=(0,p.default)(n),u=i.stockChooserTitle,s=i.stockChooserDescription,c=o||u||e("stockPhotos"),f=a||s||e("addStockPhoto");return d.default.createElement(b.default,{defaultProps:r,pageTitle:c},d.default.createElement(m.default,{description:f}),d.default.createElement(_.default,l({},this.props,{handleChange:this.handleChange,showNoneSelector:!1,showUploader:!1,lazyLoad:!1})))}}]),t})(c.Component);w.contextTypes={getIntlString:c.PropTypes.func.isRequired},t.default=(0,P.subscribeToStores)(w,[E.default.APP,O.default.GET_STOCK_PHOTOS],(function(e){var t=u(e,2),n=t[0],r=t[1];return{stockPhotos:r,isMobile:n.isMobile()}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(2),d=(n(4),n(8)),f=r(d),p=n(48),h=r(p),m=n(141),g=n(1068),_=r(g),y=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onBlur=n.onBlur.bind(n),n.state={errors:[]},n.dataAid=f.default.TEXT_INPUT+"_"+e.field.get("id").toUpperCase(),n}return i(t,e),u(t,[{key:"onBlur",value:function(e,t){var n=this.props.field.get("mutatorSettings").toJS(),r=n.validationRegex,o=n.validationErrorMsg;if(!r)return this.props.onBlur(e,t);var a=new RegExp(r,"i"),i=a.test(e),u=""===e||i?[]:[o];this.setState({errors:u}),i&&this.props.onBlur(e,t)}},{key:"trimSocialLinksPrefix",value:function(e){var t=e.substring("https://".length);return t.includes("www.")&&(t=t.substring(4)),t}},{key:"render",value:function(){var e=this.props,t=e.field,n=e.dataRoute,r=e.disabled,o=e.className,a=e.labelClassNames,i=e.onChange,u=e.appName,l=t.get("mutatorSettings"),c=t.get("state")||"",d=l.get("prefix"),f=l.get("disabled"),p=l.get("externalLinkID");return s.default.createElement(h.default,{automationId:this.dataAid,dataRoute:n,maxCount:t.get("maxCount")||t.get("mutatorSettings").get("maxCount"),id:t.get("id"),label:t.get("fieldTitle"),tag:l.get("tag"),description:t.get("fieldSubtitle"),value:c,placeholder:t.get("fieldPlaceholder"),isRequired:!1,onChange:i,subText:l.get("subText"),subTextLinkLabel:l.get("subTextLinkLabel"),subTextLink:l.get("subTextLink"),showTag:f,onBlur:this.onBlur,errors:this.state.errors,disabled:r,labelClassNames:a||(0,m.getLabelClassNames)({disabled:r}),className:o||(0,m.getClassNames)({disabled:r}),autoSelectAll:t.get("autoSelectAll")||t.get("mutatorSettings").get("autoSelectAll"),prefix:d&&this.trimSocialLinksPrefix(l.get("prefix")),link:p?_.default[p](this.context,u):{}})}}]),t})(l.Component);y.contextTypes={executeAction:l.PropTypes.func.isRequired,getIntlString:l.PropTypes.func.isRequired,getStore:l.PropTypes.func.isRequired},y.defaultProps={onChange:c.noop,onBlur:c.noop,disabled:!1,isRequired:!1},t.default=y,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=(n(4),n(8)),d=r(c),f=n(140),p=r(f),h=n(141),m=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.dataAid=d.default.TOGGLE_INPUT+"_"+e.field.get("id").toUpperCase(),n}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.field,n=e.dataRoute,r=e.disabled,o=e.className,a=e.labelClassNames,i=e.onChange,u=t.get("id");return s.default.createElement(p.default,{automationId:this.dataAid,dataRoute:n,id:u,property:u,label:t.get("fieldTitle"),defaultValue:t.get("state"),handleChange:i,disabled:r,highlightChange:!1,labelClassNames:a||(0,h.getLabelClassNames)({disabled:r}),className:o||(0,h.getClassNames)({disabled:r})})}}]),t})(l.Component);m.defaultProps={onChange:function(){},disabled:!1},t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=(n(4),n(364)),d=n(48),f=r(d),p=n(8),h=r(p),m=n(141),g=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onBlur=n.onBlur.bind(n),n.onFocus=n.onFocus.bind(n),n.state={errors:[]},n.urlParser=new c.UrlParser([c.ProviderPlugins.YOUTUBE,c.ProviderPlugins.VIMEO]),n.dataAid=h.default.TEXT_INPUT+"_"+e.field.get("id").toUpperCase(),n}return i(t,e),u(t,[{key:"onBlur",value:function(e,t){var n=this.urlParser.parse(e),r=n&&this.urlParser.createEmbedUrl(n)||"",o=r?[]:["videURLValidationErrorMsg"];this.props.onBlur({rawUrl:e,embedUrl:r},t),this.setState({errors:o})}},{key:"onFocus",value:function(e){e.target&&e.target.select()}},{key:"render",value:function(){var e=this.props,t=e.field,n=e.dataRoute,r=e.className,o=e.labelClassNames,a=e.disabled,i=t.get("state"),u="string"==typeof i?i:i.get("rawUrl");return s.default.createElement(f.default,{automationId:this.dataAid,dataRoute:n,id:t.get("id"),label:t.get("fieldTitle"),description:t.get("fieldSubtitle"),placeholder:"https://",isRequired:!0,onBlur:this.onBlur,onFocus:this.onFocus,labelClassNames:o||(0,m.getLabelClassNames)({disabled:a}),className:r||(0,m.getClassNames)({disabled:a}),errors:this.state.errors,value:u})}}]),t})(l.Component);g.defaultProps={onChange:function(){},onBlur:function(){},disabled:!1},t.default=g,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),c=n(1),d=r(c),f=n(2),p=n(1015),h=r(p),m=n(9),g=r(m),_=n(8),y=r(_),b=n(21),v=r(b),E=n(493),T=r(E),O=n(3),P=r(O),w=n(6),I=n(75),S=r(I),C=n(1107),x=r(C),k=(function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=n.handleChange.bind(n),n}return u(t,e),s(t,[{key:"widgetMatcher",value:function(e,t,n,r,a){var i=r.getIn(["data",e]).toJS();if(i){var u=!1;return a.forEach((function(e){i.forEach((function(r,o){var a=e.filename.split("/").pop()===r.path&&e.url+"?"+S.default.v4().substring(0,8);if(a){var l=t+a.substring(a.indexOf(n));Object.assign(i[o],{path:l}),u=!0}}))})),u?o({},e,i):void 0}}},{key:"handleChange",value:function(e){if(e&&e.length){var t=(0,f.map)(e,(function(e){var t=T.default.splitFileName(e.label||e.name),n=t.name,r=t.extension;return{displayName:n,path:e.name,type:r}}));this.props.onChange(t,{navigateToNew:!1,addMultiple:!0})}}},{key:"render",value:function(){var e=this.props,t=e.label,n=e.disabled,r=e.allowedUploadMimeTypes,o=e.maxFileSize,a=e.maxFileCount,i=e.widgetId,u=e.widgetPropName,l=e.baseUrl,s=e.websiteId,c=e.currentFileCount,f=this.context.getIntlString,p=f("validUploadMessages");return n?d.default.createElement(v.default,{type:"default dark",className:"btn-sm",disabled:!0},t):d.default.createElement(h.default,{buttonLabel:t,trafficId:g.default.edit_widget.file_upload_button,dataAid:""+y.default.ADD_FILE,onChange:this.handleChange,executeUpload:!0,widgetId:i,widgetMatcher:this.widgetMatcher.bind(null,u,l,s),basePath:"downloads",allowedMimeTypes:r,maxFileSize:o,maxFileCount:a,currentFileCount:c,modalTitle:"fileTypeNotSupported",modalDescription:"pleaseTryUploading",listItems:d.default.createElement(x.default,{listItems:p})})}}]),t})(c.Component);k.contextTypes={getIntlString:c.PropTypes.func.isRequired},t.default=(0,w.subscribeToStores)(k,[P.default.CONFIG,P.default.WEBSITE],(function(e){var t=l(e,2),n=t[0],r=t[1];return{allowedUploadMimeTypes:n.get("allowedUploadMimeTypes"),maxFileSize:n.get("limits.maxFileSize"),websiteId:r.getCurrentWebsiteId(),baseUrl:n.get("fileDownloadBaseUrl")}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(4),d=n(21),f=r(d),p=n(142),h=r(p),m=n(8),g=r(m),_=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleAddItemClick=n.handleAddItemClick.bind(n),n}return i(t,e),u(t,[{key:"handleAddItemClick",value:function(){var e=this.props.onAddItemClick,t=this.props.field.getIn(["newItemTemplate","state"])||new c.Map;e(t)}},{key:"render",value:function(){var e=this.props,t=e.field,n=e.disabled,r=t.get("contents");return s.default.createElement(h.default,{mutatorRoute:t.get("route").push(r.size)},s.default.createElement(f.default,{"data-aid":g.default.WIDGET_ADD_ITEM_BUTTON,type:"default dark",className:"btn-sm",disabled:n,onClick:this.handleAddItemClick},t.get("addItemLabel")))}}]),t})(l.Component);t.default=_,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(5),f=r(d),p=n(4),h=n(2),m=n(3),g=r(m),_=n(6),y=n(85),b=r(y),v=n(172),E=r(v),T=n(79),O=r(T),P=n(17),w=r(P),I=n(114),S=r(I),C=n(424),x=r(C),k=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=f.default.shouldComponentUpdate.bind(n),n}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.widget,r=t.editingId,o=t.isMobile,a=t.mutatorDescriptor,i=t.isDeletable,u=t.updateDelay,l=(0,b.default)(a),s=l.mutatorType,d=l.depth,f=l.pageTitle,m=l.pageSubtitle,g=l.route,_=l.parentRoute,y=l.dataPath,v=l.internalRoute,T=l.mutatorSettings,P=l.extension,I=l.mapToStorage,C=l.newItemTemplate,k=function(t,r){return function(o,a){return void(0,E.default)(e.context,t,(0,h.assign)({widget:n,mutatorType:s,extension:P,dataPath:y,newValue:o,domEvent:a,mapToStorage:I},r))}},D=(0,h.debounce)(k(O.default.CHANGE),u),A=k(O.default.BLUR),M=k(O.default.REMOVE,{overwrite:!0}),N=function(t,r){t=n.get("data").getIn(y.toJS()).concat(t),(0,E.default)(e.context,O.default.CHANGE,{widget:n,mutatorType:s,extension:P,dataPath:y,newValue:t,domEvent:r,mapToStorage:I})},R=function(){e.context.executeAction(w.default,{params:{mutatorPath:_},preserveScrollPosition:!0})},j=x.default[s],L=(0,p.fromJS)({parentRoute:_,depth:d,mutatorDescriptor:a,widget:n,isMobile:o,editingId:r,isDeletable:i,dataPath:y});return c.default.createElement("div",{className:"mutator-field"},c.default.createElement(S.default,{className:"mutator-field-inner",editingId:r,enableClickToEdit:!0},c.default.createElement(j,{pageTitle:f,pageSubtitle:m,mutatorSettings:T,route:g,dataPath:y,internalRoute:v,onChange:D,onBlur:A,onRemove:M,onAppend:N,templateArgs:L,navigateBack:R,newItemTemplate:C})))}}]),t})(s.Component);k.contextTypes={executeAction:s.PropTypes.func.isRequired,getStore:s.PropTypes.func.isRequired},t.default=(0,_.subscribeToStores)(k,[g.default.CONFIG],(function(e){var t=u(e,1),n=t[0];return{updateDelay:n.get("mutatorSettings.updateDelay",200)}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t,n,r){var o=e[ye];if(o){var a=n[o];if(a){var i=String(a).split("/").length+(r?1:0);return(0,O.fill)(Array(i),t)}}return[t]}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:be;for(var r in n)if(r!==ye){if(r===e)return s(n[r],r,t,!0);var o=c(e,t,n[r]);if(o)return o.unshift.apply(o,u(s(n[r],r,t,!1))),o}return null}Object.defineProperty(t,"__esModule",{value:!0});var d,f,p,h,m,g=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),_=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),y=n(1),b=r(y),v=n(5),E=r(v),T=n(4),O=n(2),P=n(11),w=n(15),I=n(134),S=r(I),C=n(1066),x=r(C),k=n(431),D=r(k),A=n(433),M=r(A),N=n(1063),R=r(N),j=n(1018),L=r(j),U=n(412),G=r(U),B=n(421),W=r(B),F=n(1205),H=r(F),V=n(178),q=n(6),Y=n(10),z=r(Y),K=n(3),X=r(K),J=n(9),Z=n(169),Q=r(Z),$=n(63),ee=r($),te=n(241),ne=r(te),re=n(243),oe=r(re),ae=n(59),ie=r(ae),ue=n(115),le=r(ue),se=n(438),ce=n(436),de=r(ce),fe=n(435),pe=r(fe),he=w.constants.editors,me=w.constants.widgetTypes,ge=[he.MULTILINE,he.TEXT,he.ADDRESS,he.VIDEOURL],_e=[he.TOGGLE,he.RADIO,he.COLOR],ye="repeater",be=l({},z.default.EDIT,(m={},l(m,z.default.EDIT_ADD_SECTION_TYPE,(d={},l(d,ye,"sectionType"),l(d,z.default.EDIT_ADD_SECTION,{}),d)),l(m,z.default.EDIT_WIDGET,(h={},l(h,z.default.EDIT_WIDGET_PROPS,(p={},l(p,z.default.EDIT_WIDGET_DATA,{}),l(p,z.default.EDIT_WIDGET_STOCK_PHOTOS,{}),l(p,z.default.EDIT_WIDGET_MY_PHOTOS,{}),l(p,z.default.EDIT_WIDGET_PROP,(f={},l(f,z.default.EDIT_WIDGET_PROP_STOCK_PHOTOS,{}),l(f,z.default.EDIT_WIDGET_PROP_MY_PHOTOS,{}),f)),l(p,z.default.EDIT_WIDGET_PROP_EDIT_BG,{}),l(p,z.default.EDIT_WIDGET_PROP_EDIT_IMG,{}),p)),l(h,z.default.EDIT_WIDGET_EDIT_BG,{}),l(h,z.default.EDIT_WIDGET_EDIT_IMG,{}),h)),m)),ve=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=E.default.shouldComponentUpdate.bind(n),n._updateStateWithFieldSets=n._updateStateWithFieldSets.bind(n),n.triggerFocus=n.triggerFocus.bind(n),n.handleSegmentedControlChange=n.handleSegmentedControlChange.bind(n),n.state={fieldSets:new T.List,lastFocusedField:null,selectedIndex:0},n}return i(t,e),_(t,[{key:"findFieldSet",value:function(){var e=this.props.fieldSetName,t=this.state.fieldSets;return e&&t.find((function(t){return t.get("name")===e}))}},{key:"componentWillMount",value:function(){this._updateStateWithFieldSets()}},{key:"componentWillReceiveProps",value:function(e){this._updateStateWithFieldSets(e)}},{key:"componentDidUpdate",value:function(){this.props.focusFieldId&&this.state.lastFocusedField!==this.props.focusFieldId&&!this._inTransition&&this.triggerFocus()}},{key:"_updateStateWithFieldSets",value:function(e){var t=e||this.props||{},n=t.editingPreset,r=t.widget,o=t.component,a=t.websiteStore,i=this.context.getRenderContext(),u=i.componentContext,l=H.default.getFinalizedFieldsSets({componentContext:u,editingPreset:n,widget:r,component:o,websiteStore:a});this.setState({fieldSets:l})}},{key:"executeUpdateAction",value:function(e,t){var n=e.widget,r=e.fieldInfo,o=e.domEvent,a=(0,V.convertDataToFieldProperties)(e.newValue,r),i=e.newValue;if(a){if(r.isWebsiteProperty===!0)r.websitePropertyName&&(a[r.websitePropertyName]=a[r.property],delete a[r.property]),this.context.executeAction(ee.default,a);else{var u={widgetId:n.get("id"),ignoreHistory:t,params:a};this.context.executeAction(Q.default,u),i=a[r.property]}if(!t&&"undefined"!=typeof i){var l=(J.TRAFFIC_PREFIX+".edit_widget_"+n.get("type")+"."+r.property).toLowerCase();l+=""===i?".clear":".change";var s={code:l,domEvent:o};(0,O.includes)(_e,r.fieldType)&&(s.newValue=""+i),(0,P.logEvent)(s),this.executeFieldSetTrafficEvents(e)}}}},{key:"executeFieldSetTrafficEvents",
value:function(e){var t=e.fieldInfo,n=t.fieldType;n===he.TOGGLE&&this.executeFieldSetToggleEvents(e)}},{key:"executeFieldSetToggleEvents",value:function(e){var t=e.widget,n=e.fieldInfo,r=e.newValue,o=e.fieldSet,a=e.domEvent,i=n.property,u=o.get("fields").filter((function(e){return e.get("type")===he.TOGGLE}));if(!(u.count()<=1)){var l=t.get("options"),s=t.get("type"),c=u.some((function(e){var t=e.get("property");return t===i&&r||t!==i&&l.get(t)}));if(!c){var d=o.get("name").replace(" ","_"),f=(J.TRAFFIC_PREFIX+".edit_widget_"+s+"."+d+".disable_all").toLowerCase();(0,P.logEvent)({code:f,domEvent:a})}}}},{key:"handleFieldChange",value:function(e){this.executeUpdateAction(e,(0,O.includes)(ge,e.fieldInfo.fieldType))}},{key:"handleFieldBlur",value:function(e){this.executeUpdateAction(e,!1)}},{key:"handleSegmentedControlChange",value:function(e){this.setState({selectedIndex:e})}},{key:"renderPages",value:function(){var e=this.props,t=e.route,n=e.routeParams,r=e.isMobile,o=e.editingId,a=e.editingPreset,i=e.dataObjectProperty,u=this.state.selectedIndex,l=c(t,n);if(!l)return null;var s=l.length;if(r&&1===s)return[b.default.createElement("div",{key:"0"}),b.default.createElement("div",{key:"1"})];var d=(t===z.default.EDIT_WIDGET||0===s)&&b.default.createElement(de.default,{onChange:this.handleSegmentedControlChange,selectedIndex:u}),f=this.findFieldSet(),p=l.map((function(e,t){return b.default.createElement("div",{key:t})})),h=!r&&s>1&&t!==z.default.EDIT_ADD_SECTION_TYPE&&t!==z.default.EDIT_ADD_SECTION,m=this.state.fieldSets,g=t===z.default.EDIT_WIDGET_PROPS&&1===m.size&&z.default.EDIT;return p[s-1]=b.default.createElement("div",{key:s-1,className:"flex flex--column"},h&&b.default.createElement(R.default,{route:t,editingId:o,fieldSet:f,overrideBackRoute:g,editingPreset:a,dataObjectProperty:i}),d,b.default.createElement(ie.default,null,this.renderPage(t)),this.renderDeleteButton(t)),p}},{key:"renderPage",value:function(e){var t=this;if(e===z.default.EDIT)return b.default.createElement(x.default,{key:"previewEditor"});if(e===z.default.EDIT_ADD_SECTION_TYPE)return b.default.createElement(M.default,{key:"sectionTypeMenu",transitionOnRouteUpdate:!0});if(e===z.default.EDIT_ADD_SECTION)return b.default.createElement(D.default,{key:"sectionEditor"});var n=this.props,r=n.editingId,o=n.widget,a=n.routeParams,i=this.state,u=i.fieldSets,l=i.selectedIndex,s=this.findFieldSet()||new T.Map,c=function(e,n){var r=t.findFieldSet()?t.findFieldSet().get("fields").toJS().find((function(t){var n=t.property;return n===e})):null;return r&&(r[n]||null)},d=function(e,n,r){n=(0,se.limitInputLength)(c(e.property,"maxCount"),n,e.fieldType),t.handleFieldChange({widget:o,fieldInfo:e,newValue:n,domEvent:r,fieldSet:s})},f=function(e,n,r){n=(0,se.limitInputLength)(c(e.property,"maxCount"),n,e.fieldType),t.handleFieldBlur({widget:o,fieldInfo:e,newValue:n,domEvent:r,fieldSet:s})},p=o&&o.get("type");if(e===z.default.EDIT_WIDGET){var h=this.props.isHomepage?u:u.filter((function(e){return!e.get("homepageOnly")}));if(h.size>1){var m=l?b.default.createElement(pe.default,{selectedWidgetId:r,changeTab:this.handleSegmentedControlChange,route:z.default.EDIT_LAYOUTS}):b.default.createElement(L.default,{widget:o,fieldSets:h,editingId:r,handleChange:d,handleBlur:f,route:z.default.EDIT_WIDGET_PROPS,widgetType:p});return b.default.createElement("div",null,m)}if(1===h.size){if(p===me.SOCIAL){var g=W.default[he.SOCIALEDITOR];return b.default.createElement(g,{handleChange:d,handleBlur:f})}return o&&b.default.createElement(G.default,{fieldSet:h.get(0)||new T.Map,onChange:d,onBlur:f,route:z.default.EDIT_WIDGET_PROPS,routeParams:a,widgetType:p,editingId:r})}}if(e===z.default.EDIT_WIDGET_PROPS||e===z.default.EDIT_WIDGET_PROP||e===z.default.EDIT_WIDGET_STOCK_PHOTOS||e===z.default.EDIT_WIDGET_PROP_STOCK_PHOTOS||e===z.default.EDIT_WIDGET_EDIT_BG||e===z.default.EDIT_WIDGET_EDIT_IMG||e===z.default.EDIT_WIDGET_MY_PHOTOS||e===z.default.EDIT_WIDGET_PROP_MY_PHOTOS||e===z.default.EDIT_WIDGET_PROP_EDIT_IMG||e===z.default.EDIT_WIDGET_PROP_EDIT_BG)return o&&b.default.createElement(G.default,{fieldSet:s,onChange:d,onBlur:f,route:e,widgetType:p,editingId:r,routeParams:a});if(e===z.default.EDIT_WIDGET_DATA){var _=this.props,y=_.editingPreset,v=_.dataObjectProperty,E=y&&y.get("dataObjectProperties",new T.Map).get(v,new T.Map).get("editorType"),O=o&&o.get("data").get(v),P=W.default[E];return P&&b.default.createElement(P,{handleChange:d,handleBlur:f,data:O,dataObjectProperty:v})}return null}},{key:"renderDeleteButton",value:function(e){var t=this.props,n=t.isDeletable,r=t.editingId,o=t.isMobile,a=this.state.fieldSets,i=e===z.default.EDIT_WIDGET_PROPS&&1===a.size;if((e===z.default.EDIT_WIDGET||i)&&n&&!o)return b.default.createElement(le.default,{className:"ux-form-group labeled-input"},b.default.createElement(ne.default,{buttonType:"button",widgetId:r,modalComponent:oe.default}))}},{key:"triggerFocus",value:function(){var e=this;setTimeout((function(){var t=document.getElementById(e.props.focusFieldId);t&&document.activeElement!==t&&(t.focus&&t.focus(),t.select&&t.select(),e.setState({lastFocusedField:e.props.focusFieldId}))}),0)}},{key:"render",value:function(){var e=this;return b.default.createElement(S.default,{className:"ux-editor legacy-mutator",onTransitionStart:function(){return e._inTransition=!0},onTransitionEnd:function(){e._inTransition=!1,e.triggerFocus()}},this.renderPages())}}]),t})(y.Component);ve.contextTypes={getRenderContext:y.PropTypes.func,executeAction:y.PropTypes.func},t.default=(0,q.subscribeToStores)(ve,[X.default.ROUTE,X.default.WIDGET,X.default.REGISTRY,X.default.WEBSITE,X.default.PAGE],(function(e){var t=g(e,5),n=t[0],r=t[1],o=t[2],a=t[3],i=t[4],u=n.getCurrentRoute(),l=u.params,s=l.fieldSet,c=l.widgetId,d=l.dataObjectProperty,f=l.dataObjectPropertyId,p=l.prop,h=u.navigate||{},m=h.query;m=void 0===m?{}:m;var _=m.prop,y=c&&r.getWidgetById(c),b=y&&o.getVariationComponentForWidget(y),v=y&&o.getVariationByType(y.get("type"),y.get("properties").get("preset")),E=y&&o.getVariationManifestByType(y.get("type"),y.get("properties").get("preset")),T=null,O=!1;y&&(T=y.get("type"),O=o.isDeletable(T));var P=p||f||_;return{component:b,dataObjectProperty:d&&decodeURIComponent(d),dataObjectPropertyId:f&&decodeURIComponent(f),editingId:c,editingPreset:!E&&v&&v.has("fieldSets")?v:null,fieldSetName:s&&decodeURIComponent(s),route:u.name,routeParams:u.params,websiteStore:a,widget:y,isDeletable:O,focusFieldId:P,isHomepage:i.isHomePage()}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(21),p=r(f),h=n(9),m=r(h),g=n(249),_=r(g),y=n(945),b=r(y),v=n(11),E=n(2),T=n(8),O=r(T),P=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n.handleClick=n.handleClick.bind(n),n}return i(t,e),u(t,[{key:"handleClick",value:function(e){var t=this.props,n=t.pageName,r=t.renderExternalUrl,o=t.navigateBack,a=t.showLink,i=r&&r.disabled&&r.externalUrl;this.context.executeAction(b.default,{pageName:n,externalUrl:i,showLink:a}),(0,v.logEvent)({code:i?m.default.edit_site.create_page_button:m.default.edit_site.create_link_button,domEvent:e}),o()}},{key:"render",value:function(){var e=this.props,t=e.pageName,n=e.disabled,r=e.buttonLabel,o=this.context.getIntlString,a=t.length>_.default.MAX_PAGE_NAME_LENGTH||(0,E.isEmpty)(t.trim())||n;return s.default.createElement(p.default,{type:"primary dark",className:"btn-sm",onClick:this.handleClick,disabled:a&&"disabled","data-aid":O.default.CREATE_PAGE_BTN},o(r))}}]),t})(l.Component);t.default=P,P.defaultProps={pageName:"",disabled:!1,showLink:!0,navigateBack:E.noop,buttonLabel:"createPage"},P.contextTypes={executeAction:l.PropTypes.func.isRequired,getIntlString:l.PropTypes.func.isRequired},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(35),p=r(f),h=n(2),m=n(11),g=n(9),_=r(g),y=n(8),b=r(y),v=n(21),E=r(v),T=(function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._handleClick=e._handleClick.bind(e),e.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(e),e}return i(t,e),u(t,[{key:"_handleClick",value:function(e){var t=this.props,n=t.modalComponent,r=t.pageId,o=t.onDelete;this.context.executeAction(p.default,{modal:s.default.createElement(n,{pageId:r,onDelete:o}),forceModal:!0}),(0,m.logEvent)({code:_.default.edit_site.manage_pages_remove_page,domEvent:e})}},{key:"render",value:function(){var e=this.context.getIntlString;return s.default.createElement(E.default,{type:"danger dark",className:"btn-sm",onClick:this._handleClick,"data-aid":b.default.DELETE_PAGE_ICON},e("remove"))}}]),t})(l.Component);t.default=T,T.defaultProps={onDelete:h.noop},T.contextTypes={executeAction:l.PropTypes.func.isRequired,getIntlString:l.PropTypes.func.isRequired},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(5),f=r(d),p=(n(4),n(499)),h=n(38),m=r(h),g=n(17),_=r(g),y=n(385),b=r(y),v=n(384),E=r(v),T=n(10),O=r(T),P=n(8),w=r(P),I=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=f.default.shouldComponentUpdate.bind(n),n.editPage=n.editPage.bind(n),n}return i(t,e),l(t,[{key:"getChildContext",value:function(){return{handleMouseDown:this.props.handleMouseDown,handleTouchStart:this.props.handleTouchStart}}}],[{key:"childContextTypes",get:function(){return{handleMouseDown:s.PropTypes.func,handleTouchStart:s.PropTypes.func}}}]),l(t,[{key:"editPage",value:function(e,t){var n=this.props,r=n.item,o=n.disableShowHideToggle,a=this.context.executeAction,i=r.getIn(["options","isExternalUrl"]);i?(a(_.default,{routeName:O.default.EDIT}),a(E.default,{showEditLinkPanel:!0,currentPage:t})):(a(_.default,{routeName:O.default.EDIT}),a(b.default,{showEditPanelPage:!0,currentPage:t,disableShowHideToggle:o}))}},{key:"render",value:function(){var e=this.props,t=e.handleMouseDown,n=e.handleTouchStart,r=e.item,o=r.get("name"),a=(0,p.isPageMovable)(r),i=r.get("options"),l=i.get("isExternalUrl")?r.getIn(["properties","routePath"]):null,s=r.get("options").get("showLink");return c.default.createElement("div",{"data-aid":w.default.PAGE_NAME+"_"+o},c.default.createElement(m.default,u({},this.props,{title:o,id:o,onClick:this.editPage,description:l,renderedInNav:s,handleMouseDown:t,handleTouchStart:n,isMovable:a,isMovableSet:!0,isEditField:!1,isPagePivot:!0})))}}]),t})(s.Component);I.defaultProps={maxCount:25},I.contextTypes={executeAction:s.PropTypes.func.isRequired},t.default=I,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(4),d=n(966),f=r(d),p=n(9),h=r(p),m=n(403),g=r(m),_=n(1054),y=r(_),b=(function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.ignoreItems,n=e.items;return s.default.createElement(g.default,{ignoreItems:t,items:n,containerClassName:"draggable-page-list-item-container",logEventCode:h.default.edit_site.manage_pages_drag_page_item,ItemComponent:y.default,sortAction:f.default})}}]),t})(l.Component);t.default=b,b.defaultProps={items:new c.List},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(4),f=n(5),p=r(f),h=n(10),m=n(15),g=n(84),_=n(171),y=r(_),b=n(402),v=r(b),E=n(11),T=n(9),O=r(T),P=n(3),w=r(P),I=n(6),S=n(7),C=r(S),x=m.constants.renderModes.ADD,k=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n.onSelectWidget=n.onSelectWidget.bind(n),n}return i(t,e),l(t,[{key:"onSelectWidget",value:function(e){var t=e.widget;this.context.executeAction(v.default,{widget:t,routeName:w.default.EDIT}),(0,E.logEvent)({code:O.default.edit_site.select_a_layout_to_add,widgetType:t.type,widgetPreset:t.properties.preset})}},{key:"render",value:function(){var e=this.props,t=e.sectionType,n=e.widgetId,r=e.website,o=e.selectedIndex;if(!t)return null;var a=t.get("presets");if(!a||!a.size)return null;var i=(0,C.default)({"section-menu":!0});return c.default.createElement("div",{className:"section-menu-container"},c.default.createElement("div",{className:i},c.default.createElement(y.default,{className:"section-selector",selectedWidgetId:n,widgets:a,scale:g.TABLET_EDITOR_PANEL_SCALE,route:h.ADD_SECTION,renderMode:x,onSelect:this.onSelectWidget,website:r,widgetTitleType:t.get("label"),selectedIndex:o})))}}]),t})(s.Component);k.contextTypes={executeAction:s.PropTypes.func.isRequired},t.default=(0,I.subscribeToStores)(k,[w.default.WEBSITE,w.default.ROUTE,w.default.PAGE],(function(e){var t=u(e,3),n=t[0],r=t[1],o=t[2],a=r.getCurrentRoute()||{},i=a.params;i=void 0===i?{}:i;var l=i.addWidgetId,s=0;if(l){var c=o.getCurrentPage()||new d.Map,f=c.get("rootWidgets",[]).indexOf(l);f>=0&&(s=f+1)}return{selectedIndex:s,website:n.getCurrentWebsite()}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=(n(4),n(10)),p=r(f),h=n(436),m=r(h),g=n(1030),_=r(g),y=n(59),b=r(y),v=n(64),E=r(v),T=n(425),O=r(T),P=n(426),w=r(P),I=n(435),S=r(I),C=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={segmentIndex:0},n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n.handleSegmentChange=n.handleSegmentChange.bind(n),n}return i(t,e),u(t,[{key:"handleSegmentChange",value:function(e){this.setState({segmentIndex:e})}},{key:"render",value:function(){var e=this.props,t=e.widget,n=e.editingId,r=e.isMobile,o=e.pageData,a=e.isDeletable,i=e.route,u=e.routeParams,l=this.state.segmentIndex,c=o.get("fields"),d=o.get("depth"),f=c.find((function(e){return e.get("mutatorSettings").get("headingText")})),h=f?f.get("mutatorSettings").get("headingText"):null,g=o.get("pageSubtitle")||h,y=!o.get("parentRoute")||o.get("deleteItemSettings")||o.get("deleteItemLabel")?s.default.createElement(w.default,{depth:d,pageData:o,dataPath:o.get("route"),widget:t,isMobile:r,editingId:n,isDeletable:a}):null,v=(i===p.default.EDIT_WIDGET||0===d)&&s.default.createElement(m.default,{onChange:this.handleSegmentChange,selectedIndex:l}),T=0===l?s.default.createElement("div",null,g&&s.default.createElement(E.default,{description:g}),s.default.createElement(_.default,{editingId:n,widget:t,fields:c,pageData:o,route:i,routeParams:u})):s.default.createElement(S.default,{selectedWidgetId:n,changeTab:this.handleSegmentChange,route:p.default.EDIT_LAYOUTS});return s.default.createElement("div",{className:"flex flex--column"},(!r||d>0)&&s.default.createElement(O.default,{widget:t,title:o.get("pageTitle"),parentRoute:o.get("parentRoute")}),v,s.default.createElement(b.default,null,T),y)}}]),t})(l.Component);C.contextTypes={executeAction:l.PropTypes.func.isRequired},t.default=C,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(5),f=r(d),p=n(2),h=n(7),m=r(h),g=n(434),_=r(g),y=n(10),b=r(y),v=n(3),E=r(v),T=n(6),O=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=f.default.shouldComponentUpdate.bind(n),n}return i(t,e),l(t,[{key:"componentDidUpdate",value:function(e){if(!e.keyboardVisible&&this.props.keyboardVisible){var t=document.activeElement&&document.activeElement.parentElement;t&&(0,p.includes)(t.classList,"ux-form-group")&&t.scrollIntoView()}}},{key:"render",value:function(){var e=this.props,t=e.editingId,n=e.renderHydrated,r=e.route,o=e.showFreeTrialBanner,a=[b.default.EDIT_WIDGET,b.default.EDIT_WIDGET_PROPS,b.default.EDIT_WIDGET_DATA,b.default.EDIT_WIDGET_STOCK_PHOTOS,b.default.EDIT_WIDGET_PROP_STOCK_PHOTOS,b.default.EDIT_WIDGET_MY_PHOTOS,b.default.EDIT_WIDGET_PROP_MY_PHOTOS,b.default.EDIT_WIDGET_EDIT_BG,b.default.EDIT_WIDGET_PROP_EDIT_BG,b.default.EDIT_WIDGET_EDIT_IMG,b.default.EDIT_WIDGET_PROP_EDIT_IMG,b.default.EDIT_WIDGET_PROP].indexOf(r)!==-1,i=(0,m.default)("field-set-container",{hidden:!t,"full-height-except-navbar":a&&!o,"full-height-except-navbar-with-banner":a&&o,"full-height":r===b.default.EDIT_WIDGET_MUTATOR});return c.default.createElement("div",{className:i},t&&c.default.createElement(_.default,{renderHydrated:n,isMobile:!0}))}}]),t})(s.Component);t.default=(0,T.subscribeToStores)(O,[E.default.APP],(function(e){var t=u(e,1),n=t[0],r=n.isKeyboardVisible(),o=n.getShowFreeTrialBanner();return{keyboardVisible:r,showFreeTrialBanner:o}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.show,n=e.editorType;return i.default.createElement(l.default,{show:t},i.default.createElement(c.default,{editorType:n,resetState:t}))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=r(a),u=n(175),l=r(u),s=n(428),c=r(s);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.show,n=e.item,r=e.route,o=e.editorType;return i.default.createElement(l.default,{show:t},t&&i.default.createElement(c.default,{item:n,route:r,editorType:o,resetState:t}))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=r(a),u=n(175),l=r(u),s=n(429),c=r(s);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.show;return i.default.createElement(l.default,{show:t},t&&i.default.createElement(c.default,null))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=r(a),u=n(175),l=r(u),s=n(430),c=r(s);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(5),f=r(d),p=n(7),h=r(p),m=(n(4),n(10)),g=r(m),_=n(3),y=r(_),b=n(6),v=n(434),E=r(v),T=n(428),O=r(T),P=n(429),w=r(P),I=n(430),S=r(I),C=n(408),x=r(C),k=n(59),D=r(k),A="PAGE",M="LINK",N=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=f.default.shouldComponentUpdate.bind(n),n.getEditor=n.getEditor.bind(n),n}return i(t,e),l(t,[{key:"getChildContext",value:function(){var e=this;return{getRenderContext:function(){return e.props.renderContext}}}},{key:"getEditor",value:function(){var e=this.props,t=e.addSectionWidgetId,n=e.renderHydrated,r=e.route,o=e.showAddPagePanel,a=e.showAddLinkPanel,i=e.showEditPagePanel,u=e.showEditLinkPanel,l=e.showManagePagesPanel,s=e.currentPage,d=e.renderBackButton,f=e.disableShowHideToggle;switch(r){case g.default.EDIT:return o?c.default.createElement(O.default,{editorType:A,renderBackButton:d}):a?c.default.createElement(O.default,{editorType:M}):i?c.default.createElement(w.default,{editorType:A,disableShowHideToggle:f,item:s,route:r}):u?c.default.createElement(w.default,{editorType:M,item:s,route:r}):l?c.default.createElement(S.default,null):c.default.createElement(E.default,{renderHydrated:n});case g.default.EDIT_STYLES:case g.default.EDIT_COLORS:case g.default.EDIT_FONTS:return c.default.createElement(D.default,null,c.default.createElement(x.default,{route:r}));default:return c.default.createElement(E.default,{renderHydrated:n,addSectionWidgetId:t})}}},{key:"render",value:function(){var e=this.getEditor(),t=(0,h.default)("tablet-editor-panel-content flex flex--column",{"with-banner":this.props.freeTrialBannerDisplayed});return c.default.createElement("div",{className:"ux-editor tablet-editor-panel"},c.default.createElement("div",{className:t},e))}}]),t})(s.Component);N.childContextTypes={getRenderContext:s.PropTypes.func},t.default=(0,b.subscribeToStores)(N,[y.default.APP,y.default.ROUTE],(function(e){var t=u(e,2),n=t[0],r=t[1];return{addSectionWidgetId:r.getCurrentRoute().params.addWidgetId,showAddPagePanel:n.getShowAddPagePanel(),showAddLinkPanel:n.getShowAddLinkPanel(),showEditPagePanel:n.getShowEditPagePanel(),showEditLinkPanel:n.getShowEditLinkPanel(),showManagePagesPanel:n.getShowManagePagesPanel(),freeTrialBannerDisplayed:n.getShowFreeTrialBanner(),renderBackButton:n.getRenderBackButton(),currentPage:n.getCurrentEditPage(),disableShowHideToggle:n.getDisabledShowHideToggle()}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(5),f=r(d),p=n(10),h=r(p),m=n(3),g=r(m),_=n(6),y=n(78),b=r(y),v=n(77),E=r(v),T=n(139),O=r(T),P=n(71),w=r(P),I=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=f.default.shouldComponentUpdate.bind(n),n.getBackButtonRoute=n.getBackButtonRoute.bind(n),n}return i(t,e),l(t,[{key:"getBackButtonRoute",value:function(e){switch(e){case h.default.EDIT_WIDGET_PROP:case h.default.EDIT_WIDGET_PROP_EDIT_BG:case h.default.EDIT_WIDGET_PROP_EDIT_IMG:return h.default.EDIT_WIDGET_PROPS;case h.default.EDIT_WIDGET_PROP_STOCK_PHOTOS:case h.default.EDIT_WIDGET_PROP_MY_PHOTOS:return h.default.EDIT_WIDGET_PROP;case h.default.EDIT_WIDGET_STOCK_PHOTOS:case h.default.EDIT_WIDGET_MY_PHOTOS:return h.default.EDIT_WIDGET_PROPS;case h.default.EDIT_WIDGET_DATA:return h.default.EDIT_WIDGET_PROPS;case h.default.EDIT_WIDGET_PROPS:case h.default.EDIT_WIDGET_EDIT_BG:case h.default.EDIT_WIDGET_EDIT_IMG:return h.default.EDIT_WIDGET;default:return h.default.EDIT}}},{key:"render",value:function(){var e=this.props,t=e.route,n=e.type,r=e.fieldSet,o=e.overrideBackRoute,a=e.editingPreset,i=e.dataObjectProperty,u=o||this.getBackButtonRoute(t),l=null;if(t===h.default.EDIT_WIDGET)l=c.default.createElement(b.default,{title:n});else if([h.default.EDIT_WIDGET_PROPS,h.default.EDIT_WIDGET_EDIT_BG,h.default.EDIT_WIDGET_PROP_EDIT_BG].some((function(e){return t===e}))&&r)l=c.default.createElement(b.default,{title:r.get("header"),bypassI18N:!0});else if(t===h.default.EDIT_WIDGET_DATA){var s=a&&i?a.get("dataObjectProperties",new Map).get(i,new Map).get("title"):r&&r.get("header");l=c.default.createElement(b.default,{title:s,bypassI18N:!0})}else t===h.default.EDIT_WIDGET_STOCK_PHOTOS||t===h.default.EDIT_WIDGET_PROP_STOCK_PHOTOS?l=c.default.createElement(b.default,{
title:"stockPhotos"}):t===h.default.EDIT_WIDGET_PROP_MY_PHOTOS||t===h.default.EDIT_WIDGET_MY_PHOTOS?l=c.default.createElement(b.default,{title:"myPhotos"}):t===h.default.EDIT_WIDGET_PROP&&r?l=c.default.createElement(b.default,{title:"imageEditTitle"}):t!==h.default.EDIT_WIDGET_PROP_EDIT_IMG&&t!==h.default.EDIT_WIDGET_EDIT_IMG&&t!==h.default.EDIT_WIDGET_PROP_EDIT_IMG&&t!==h.default.EDIT_WIDGET_EDIT_BG&&t!==h.default.EDIT_WIDGET_PROP_EDIT_BG||(l=c.default.createElement(b.default,{title:"imageEditTitle"}));return c.default.createElement(E.default,{className:"field-set-header"},c.default.createElement(O.default,{route:u}),l,c.default.createElement(w.default,{route:h.default.EDIT}))}}]),t})(s.Component);t.default=(0,_.subscribeToStores)(I,[g.default.WIDGET],(function(e,t){var n=u(e,1),r=n[0],o=r.getWidgetById(t.editingId),a=null;return o&&(a=o.get("type")),{type:a}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=(n(4),n(3)),p=r(f),h=n(1067),m=r(h),g=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.handleMouseDown,n=e.handleTouchStart,r=e.item,o=this.context,a=o.getIntlString,i=o.getStore;if(!r)return null;var u=r.get("properties"),l=r.get("type"),c=u.get("sectionTitle")||u.get("title")||a(l||"untitled"),d=r.get("id"),f=i(p.default.REGISTRY).isMovable(l);return s.default.createElement(m.default,{key:d,title:c,widgetId:d,type:l,isMovable:f,handleMouseDown:t,handleTouchStart:n})}}]),t})(l.Component);g.contextTypes={executeAction:l.PropTypes.func.isRequired,getIntlString:l.PropTypes.func.isRequired,getStore:l.PropTypes.func.isRequired},t.default=g,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(5),f=r(d),p=n(4),h=n(969),m=r(h),g=n(9),_=r(g),y=n(39),b=r(y),v=n(6),E=n(403),T=r(E),O=n(1064),P=r(O),w=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=f.default.shouldComponentUpdate.bind(n),n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.orderedWidgets;return c.default.createElement(T.default,{items:e,ignoreItems:[0,e.size-1],containerClassName:"draggable-page-list-item-container",logEventCode:_.default.edit_site.manage_sections_drag_section_item,ItemComponent:P.default,sortAction:m.default})}}]),t})(s.Component);w.defaultProps={items:new p.List},t.default=(0,v.subscribeToStores)(w,[b.default.GET_ORDERED_WIDGETS],(function(e){var t=u(e,1),n=t[0];return{orderedWidgets:n}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(43),p=r(f),h=n(77),m=r(h),g=n(78),_=r(g),y=n(59),b=r(y),v=n(1065),E=r(v),T=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n}return i(t,e),u(t,[{key:"render",value:function(){return s.default.createElement("div",{className:"preview-editor ux-editor flex flex--column","data-aid":"EDITOR_SECTION_TYPE_SECTIONS"},s.default.createElement(m.default,null,s.default.createElement(_.default,{title:"sections"})),s.default.createElement(b.default,null,s.default.createElement(p.default,null,s.default.createElement(E.default,null))))}}]),t})(l.Component);t.default=T,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(38),p=r(f),h=n(17),m=r(h),g=n(10),_=r(g),y=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n.handleClick=n.handleClick.bind(n),n}return i(t,e),u(t,[{key:"handleClick",value:function(){var e=this.props.widgetId,t=this.context.executeAction;t(m.default,{routeName:_.default.EDIT_WIDGET,params:{widgetId:e},preserveScrollPosition:!0})}},{key:"render",value:function(){var e=this.props,t=e.handleMouseDown,n=e.handleTouchStart,r=e.isMovable,o=e.title,a=e.type;return s.default.createElement(p.default,{handleMouseDown:t,handleTouchStart:n,id:"WIDGET_"+a,isMovable:r,isMovableSet:!0,onClick:this.handleClick,title:o})}}]),t})(l.Component);t.default=y,y.contextTypes={executeAction:l.PropTypes.func.isRequired},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=r(o),i=n(465),u=r(i),l=n(138),s=r(l),c=function(e,t){var n=e.getIntlString,r=e.getStore,o=r(a.default.CONFIG),i=o.getPlanFeature(u.default.SOCIAL_MEDIA_MANAGER),l=o.getFeatureFlag("enableSocialFacebookCreate"),c=function(){var r={market:e.getStore(a.default.ROUTE).getCurrentRoute().params.locale,appName:t,returnToAppText:n("backToApp",{appName:n("appName")})},o=e.getStore(a.default.SOCIAL).getSocialConnectUrl(r);e.executeAction(s.default,{url:o,isResolved:!0})};return l&&i?{href:"#",onClick:c,text:n("createFacebookPageLink")}:{text:""}};t.default={CREATE_FACEBOOK_LINK:c},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return 100*e+"%"}Object.defineProperty(t,"__esModule",{value:!0});var l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(2),f=n(144),p=r(f),h=1,m=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleAnimationEnd=n.handleAnimationEnd.bind(n),n.state={animationName:"fadeout-"+h++},n}return i(t,e),l(t,[{key:"handleAnimationEnd",value:function(e){e.animationName===this.state.animationName&&this.props.onDismiss()}},{key:"render",value:function(){var e=this.props,t=e.fadeInDuration,n=e.displayDuration,r=e.fadeOutDuration,o=this.state.animationName,a=t+n+r,i=u(t/a),l=u((t+n)/a);return c.default.createElement("div",{className:"fadeout-container"},c.default.createElement("style",null,"\n            @keyframes "+o+" {\n              from { opacity: 0; }\n              "+i+" { opacity: 1; }\n              "+l+" { opacity: 1; }\n              to { opacity: 0; }\n            }\n          "),c.default.createElement(p.default,{onAnimationend:this.handleAnimationEnd}),c.default.createElement("div",{className:"fadeout-notification",style:{animationName:o,animationDuration:a+"ms"}},this.props.children))}}]),t})(c.default.Component);t.default=m,m.defaultProps={fadeInDuration:500,displayDuration:5e3,fadeOutDuration:500,onDismiss:d.noop},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(5),f=r(d),p=n(1069),h=r(p),m=n(6),g=n(3),_=r(g),y=n(944),b=r(y),v=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleDismiss=n.handleDismiss.bind(n),n.shouldComponentUpdate=f.default.shouldComponentUpdate.bind(n),n}return i(t,e),l(t,[{key:"handleDismiss",value:function(){this.context.executeAction(b.default)}},{key:"render",value:function(){var e=this.props.notification;return e?c.default.createElement("div",{className:"ux-editor notification-hud"},"fadeout"===e.type?this.renderFadeout():this.renderGrowl()):null}},{key:"renderGrowl",value:function(){var e=this.props.notification.buttonLabel,t=void 0===e?this.context.getIntlString("ok"):e;return c.default.createElement("div",{className:"growl-container"},c.default.createElement("div",{className:"growl"},this.renderNotificationContent(),c.default.createElement("div",{className:"button-box"},c.default.createElement("button",{className:"button",onClick:this.handleDismiss},t))))}},{key:"renderFadeout",value:function(){return c.default.createElement(h.default,{onDismiss:this.handleDismiss},this.renderNotificationContent())}},{key:"renderNotificationContent",value:function(){var e=this.props.notification,t=e.message,n=e.messageKey,r=n?this.context.getIntlString(n):t;return c.default.createElement("div",{className:"message"},r)}}]),t})(s.Component);v.contextTypes={executeAction:s.PropTypes.func.isRequired,getIntlString:s.PropTypes.func.isRequired},t.default=(0,m.subscribeToStores)(v,[_.default.NOTIFICATION],(function(e){var t=u(e,1),n=t[0];return{notification:n.getCurrent()}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.id,n=e.className,r=e.header,o=e.footer,u=e.children;return r=r?i.default.cloneElement(r,{category:"primary",section:"default"}):i.default.createElement(l.default,{category:"primary",section:"default",slim:!0}),o=o?i.default.cloneElement(o,{category:"accent",section:"default"}):i.default.createElement(l.default,{category:"accent",section:"default",slim:!0}),u=u?a.Children.map(u,(function(e,t){return i.default.cloneElement(e,{category:"neutral",section:t%2?"alt":"default"})})):[i.default.createElement(l.default,{key:1,category:"neutral",section:"default"}),i.default.createElement(l.default,{key:2,category:"neutral",section:"alt"}),i.default.createElement(l.default,{key:3,category:"neutral",section:"default"})],i.default.createElement("div",{id:t,className:n},r,u,o)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=r(a),u=n(441),l=r(u);t.default=o,e.exports=t.default},,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=void 0,p=void 0;p=n(1231);var h=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={loaded:!!f},n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n}return i(t,e),u(t,[{key:"componentWillMount",value:function(){var e=this;!this.state.loaded&&p&&p((function(t){f=t,e.setState({loaded:!0})}))}},{key:"render",value:function(){return this.state.loaded?s.default.createElement(f,null):null}}]),t})(l.Component);t.default=h,e.exports=t.default},,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=(function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"getChildContext",value:function(){var e=this.props.context;return{getStore:e.getStore,executeAction:e.executeAction}}},{key:"render",value:function(){return this.props.children}}]),t})(s.default.Component);c.childContextTypes={getStore:l.PropTypes.func,executeAction:l.PropTypes.func},t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(144),d=r(c),f=n(84),p=r(f),h=(function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleRender=e.handleRender.bind(e),e.handleResize=e.handleResize.bind(e),e.state={force:!1},e}return i(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;this.waitForRender((function(){t.mounted&&t.setState({force:t.calcForce(e)})}))}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"handleRender",value:function(e){var t=this;this._wrapper=e,this.mounted=!0,this.waitForRender((function(){t.mounted&&t.setState({force:t.calcForce()})}))}},{key:"handleResize",value:function(){this.mounted&&this.setState({force:this.calcForce()})}},{key:"waitForRender",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!this._wrapper||"undefined"==typeof window||n>=500)return void e();var r=this._wrapper.children[0]||{},o=r.offsetWidth,a=void 0===o?0:o,i=r.offsetHeight,u=void 0===i?0:i;return a&&u?void setTimeout((function(){e()}),1):void window.requestAnimationFrame((function(){return t.waitForRender(e,n+1)}))}},{key:"calcForce",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;if(!this._wrapper||"undefined"==typeof window||"undefined"==typeof document)return this.state.force;var t=e.desktopPreview,n=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;return t?n>=p.default.GRID_LARGE_MIN?"lg":"md":"xs"}},{key:"render",value:function(){var e=this.props.children,t=this.state.force;return s.default.createElement("div",{ref:this.handleRender},s.default.createElement(d.default,{onResize:this.handleResize}),e(t))}}]),t})(l.Component);t.default=h,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(3),f=n(6),p=(function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.device,n=e.orientation,r=e.MessageComponent,o=e.messageProps,a=e.children;return c.default.createElement("div",null,a,t in this.props&&this.props[t]!==n&&c.default.createElement(r,o))}}]),t})(s.Component);p.defaultProps={messageProps:{}},t.default=(0,f.subscribeToStores)(p,[d.APP],(function(e){var t=u(e,1),n=t[0];return{device:n.getDevice(),orientation:n.getOrientation()}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=n(6),d=n(3),f=r(d),p=(function(e){function t(e){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentDidMount",value:function(){window&&document&&t.init(this.props)}},{key:"render",value:function(){return null}}],[{key:"init",value:function(e){var n=e.appName,r=e.shopperId,o=e.resellerId,a=e.url,i=e.resellerUrl;if(!t._initialized){var u="1"===o?a:i;window.utag_data={shopper_id:r,app_name:n};var l=document.createElement("script");l.id="tealium",l.setAttribute("type","text/javascript"),l.innerHTML="(function(a,b,c,d){a='"+u+"';b=document;c='script';d=b.createElement(c);d.src=a;d.type='text/java'+c;d.async=true;a=b.getElementsByTagName(c)[0];a.parentNode.insertBefore(d,a);})();",document.body.appendChild(l),t._initialized=!0}}}]),t})(s.Component);p.defaultProps={resellerId:""},t.default=(0,c.subscribeToStores)(p,[f.default.CONFIG],(function(e){var t=u(e,1),n=t[0];return{appName:n.get("tealium.appName"),url:n.get("tealium.url"),resellerUrl:n.get("tealium.resellerUrl")}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=(n(4),n(1)),c=r(s),d=n(15),f=n(118),p=n(39),h=r(p),m=n(3),g=r(m),_=n(233),y=r(_),b=n(6),v=d.constants.renderModes.PREVIEW,E=(function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.layout,n=e.page,r=e.pages,o=e.viewMode,a=e.website,i=e.widgets;return c.default.createElement("div",{className:"full-page-view-render"},c.default.createElement(y.default,{className:o,website:a,layout:t,page:n,pages:r,widgets:i,desktopPreview:"desktop"===o,viewDevice:f.DESKTOP_RENDER_DEVICE,renderMode:v}))}}]),t})(s.Component);t.default=(0,b.subscribeToStores)(E,[h.default.GET_WIDGET_RENDER_DATA,h.default.GET_LAYOUT_RENDER_DATA,g.default.PAGE,g.default.ROUTE,g.default.WEBSITE],(function(e){var t=u(e,5),n=t[0],r=t[1],o=t[2],a=t[3],i=t[4];return{website:i.getCurrentWebsite(),page:o.getCurrentPage(),pages:o.getPages(),viewMode:a.getCurrentRoute().params.viewMode,layout:r,widgets:n}})),e.exports=t.default},function(e,t,n){(function(r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),d=n(1),f=o(d),p=n(5),h=o(p),m=n(11),g=o(m),_=n(973),y=o(_),b=n(1087),v=o(b),E=n(2),T=n(6),O=n(3),P=o(O),w=n(468),I=n(226),S=o(I),C=n(440),x=o(C),k=n(1146),D=o(k),A=n(1154),M=o(A),N=n(1132),R=o(N),j={mobile:D.default,tablet:M.default,desktop:R.default},L=(function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=h.default.shouldComponentUpdate.bind(n),n}return u(t,e),c(t,[{key:"componentDidMount",value:function(){var e=this;r((function(){e.context.executeAction(S.default)}))}},{key:"renderLoading",value:function(){return f.default.createElement(x.default,null)}},{key:"renderView",value:function(e){var t=j[e],n=this.props,r=n.resellerId,o=n.shopperId,a=n.accountId,i=n.vertical,u=(0,E.extend)({},this.props);w.all.has(u.accountId)&&delete u.accountId;var l={device:e,vertical:i},c=r&&o&&a?f.default.createElement(g.default,s({},u,{defaultData:l})):null,d=r&&o?f.default.createElement(v.default,{resellerId:r,shopperId:o}):null;return f.default.createElement("div",null,f.default.createElement(t,this.props),c,d,f.default.createElement(y.default,null))}},{key:"render",value:function(){var e=this.props,t=e.isInitialized,n=e.device;return t&&n?this.renderView(n):this.renderLoading()}}]),t})(f.default.Component);L.contextTypes={executeAction:d.PropTypes.func.isRequired},t.default=(0,T.subscribeToStores)(L,[P.default.APP,P.default.AUTH,P.default.WEBSITE],(function(e){var t=l(e,3),n=t[0],r=t[1],o=t[2];return{isInitialized:n.isInitialized(),device:n.getDevice(),shopperId:r.getShopperId(),resellerId:""+r.getResellerId(),accountId:o.getCurrentWebsiteAccountId(),vertical:o.getBusinessCategory()}})),e.exports=t.default}).call(t,n(49).setImmediate)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),
!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),c=n(1),d=r(c),f=(n(4),n(2)),p=n(89),h=n(3),m=r(h),g=n(6),_=n(1123),y=r(_),b=n(1129),v=r(b),E=n(8),T=r(E),O=n(9),P=r(O),w=n(244),I=r(w),S=n(167),C=r(S),x=n(227),k=r(x),D=n(224),A=r(D),M=n(931),N=r(M),R=n(38),j=r(R),L=n(1092),U=r(L),G=n(43),B=r(G),W=n(138),F=r(W),H=n(5),V=r(H),q=[{title:"controlPanelHome",action:"dashboard",aid:T.default.USER_PANEL_GOCENTRAL,isEditField:!1,trafficId:P.default.editor_side_menu.launch_gocentral_home},{title:"publishSite",action:"publish",aid:T.default.USER_PANEL_PUBLISH_SITE,isEditField:!1,trafficId:P.default.editor_side_menu.publish_site_from_side_menu},{title:"myShop",action:"openOnlineStore",aid:T.default.USER_PANEL_ONLINE_STORE,isEditField:!1,trafficId:P.default.editor_side_menu.open_shop_from_side_menu},{title:"searchEngineOptimization",action:"openSeoSettings",aid:T.default.USER_PANEL_SEO,isEditField:!1,trafficId:P.default.editor_side_menu.launch_seo_settings},{title:"emailMarketing",action:"openGEM",aid:T.default.USER_PANEL_GEM,isEditField:!1,trafficId:P.default.editor_side_menu.launch_gem},{title:"settings",action:"showSettings",aid:T.default.USER_PANEL_SETTINGS,isEditField:!1,trafficId:P.default.editor_side_menu.launch_settings},{title:"giveUsFeedback",action:"giveFeedback",aid:T.default.USER_PANEL_FEEDBACK,isEditField:!1,trafficId:P.default.editor_side_menu.launch_uservoice_feedback},{title:"help",action:"help",aid:T.default.USER_PANEL_HELP,isEditField:!1,trafficId:P.default.editor_side_menu.launch_gd_help}],Y=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handlePublishClick=n.handlePublishClick.bind(n),n.handleDomainSettingsClick=n.handleDomainSettingsClick.bind(n),n.handleSeoClick=n.handleSeoClick.bind(n),n.handleSettingsClick=n.handleSettingsClick.bind(n),n.handleFeedbackClick=n.handleFeedbackClick.bind(n),n.handleGEMClick=n.handleGEMClick.bind(n),n.shouldComponentUpdate=V.default.shouldComponentUpdate.bind(n),n.menuItemEnabled=n.menuItemEnabled.bind(n),n}return i(t,e),s(t,[{key:"handlePublishClick",value:function(){this.context.executeAction(k.default),this.context.executeAction(C.default)}},{key:"handleDomainSettingsClick",value:function(){this.context.executeAction(k.default,{isDomainSettings:!0}),this.context.executeAction(C.default)}},{key:"handleAddOnAdminClick",value:function(e){this.context.executeAction(C.default),this.context.executeAction(F.default,{url:this.props.addonLaunchUrls[e],isResolved:!0})}},{key:"handleSeoClick",value:function(){this.props.handlePushView(d.default.createElement(y.default,this.props))}},{key:"handleSettingsClick",value:function(){this.props.handlePushView(d.default.createElement(v.default,l({onDomainClick:this.handleDomainSettingsClick},this.props)))}},{key:"handleFeedbackClick",value:function(){this.context.executeAction(A.default,{showFeedbackPanel:!0})}},{key:"handleGEMClick",value:function(){var e=["LoadingEmailMarketing","JustAFewMoreSeconds"],t=2500,n=0,r=void 0,o=this;o.context.executeAction(N.default,{showGemLoading:!0,textMessage:e[0]});var a=setInterval((function(){n+=1,n>=e.length?clearInterval(a):(r=e[n],o.context.executeAction(N.default,{showGemLoading:!0,textMessage:r}))}),t)}},{key:"generateTopMenuItem",value:function(e,t){var n=this.context.getIntlString,r=this.props.locale,o=this.context.getStore(m.default.CONFIG),a=this.context.getStore(m.default.AUTH),i=this.context.getStore(m.default.WEBSITE).getCurrentWebsiteAccountId(),u=!0;switch(e.action){case"publish":t.onClick=this.handlePublishClick,u=!1;break;case"openOnlineStore":t.onClick=this.handleAddOnAdminClick.bind(this,I.default.OLS),u=!1;break;case"openSeoSettings":t.onClick=this.handleSeoClick,u=!0;break;case"showSettings":t.onClick=this.handleSettingsClick;break;case"giveFeedback":t.onClick=this.handleFeedbackClick;break;case"openGEM":return t.href=o.getURL("gem.url")+"?accountId="+i+"&locale="+r+"&redirectToLogin=true",u=!1,t.onClick=this.handleGEMClick,d.default.createElement(U.default,l({},t,{trafficId:e.trafficId,id:e.aid,title:n(e.title),ignoreArrow:!u,isEditField:e.isEditField}));case"help":t.href=o.getHelpURL(n("appName"),a.getResellerId()),t.target="_blank",u=!1;break;case"dashboard":t.href=o.getDashboardAccountUrl(),u=!1;break;default:t.className+=" disabled"}return d.default.createElement(j.default,l({},t,{trafficId:e.trafficId,id:e.aid,title:n(e.title),ignoreArrow:!u,isEditField:e.isEditField}))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.hideFeedbackInPanel,n=e.userVoicePromise;if(t){var r=function(){window.UserVoice.push(["addTrigger","#feedback",{mode:"smartvote",accent_color:"#77C043"}])};n.then(r).catch(f.noop)}}},{key:"renderHeader",value:function(){var e=this.props,t=e.businessName,n=e.domainName,r=this.context.getIntlString,o=t.charAt(0),a=this.context.getStore(m.default.CONFIG).getFeatureFlag("enableExternalDomains");return d.default.createElement("div",{className:"row bg-gray-darker jumbotron left-drawer-header"},d.default.createElement("div",{className:"company-logo text-uppercase"},d.default.createElement("h1",null,o)),d.default.createElement("div",{className:"company-info"},d.default.createElement("h2",{className:"text-capitalize"},t),n&&[d.default.createElement("a",{href:"http://"+n,target:"_blank",className:"text-gray-light","data-aid":T.default.USER_PANEL_DOMAIN_NAME,key:"domain"},(0,p.toUnicode)(n)),a&&[d.default.createElement("span",{key:"spaces"},"   "),d.default.createElement("a",{href:"#",onClick:this.handleDomainSettingsClick,"data-aid":T.default.USER_PANEL_DOMAIN_CHANGE,key:"change"},r("changeDomainNameButton"))]]))}},{key:"menuItemEnabled",value:function(e){var t=this.props,n=t.hideFeedbackInPanel,r=t.showOlsAdminLink,o=t.gemEnabled,a=t.dashboardLinkEnabled;if("dashboard"===e.action)return a;if("giveFeedback"===e.action)return!n;if("openOnlineStore"===e.action)return r;if("openGEM"===e.action){var i=this.context.getStore(m.default.CONFIG).getFeatureFlag("enableGem")||!1;return o&&i}return!0}},{key:"render",value:function(){var e=this,t=this.props,n=t.myaURL,r=t.logoutURL,o=this.context.getIntlString,a=q.filter(this.menuItemEnabled),i=[{title:"myAccount",aid:T.default.USER_PANEL_MY_ACCOUNT,href:n,target:"_self",icon:"user",trafficId:P.default.editor_side_menu.go_back_to_mya},{title:"signOut",aid:T.default.USER_PANEL_SIGN_OUT,href:r,target:"_self",icon:"x",trafficId:P.default.editor_side_menu.logout_from_app}];return d.default.createElement("div",{className:"ux-editor"},d.default.createElement("div",{className:"container-fluid panel panel-default flex flex--center flex--column"},this.renderHeader(),d.default.createElement("div",{className:"row left-drawer-body"},d.default.createElement(B.default,null,a.map((function(t){return e.generateTopMenuItem(t,{href:"#",key:t.title,className:"list-group-item clearfix"})})))),d.default.createElement("div",{className:"row bg-gray-darker left-drawer-footer"},d.default.createElement("div",{className:"btn-group btn-group-justified"},i.map((function(e){return d.default.createElement("div",{key:e.title,className:"btn-group left-drawer-bottom-btn"},d.default.createElement("a",{href:e.href||"#",target:e.target||"_self","data-traffic2":e.trafficId},d.default.createElement("span",{className:"btn-left-drawer-bottom-icon uxicon uxicon-"+e.icon}),o(e.title)))}))))))}}]),t})(d.default.Component);Y.contextTypes={getStore:c.PropTypes.func.isRequired,executeAction:c.PropTypes.func.isRequired,getIntlString:c.PropTypes.func.isRequired},t.default=(0,g.subscribeToStores)(Y,[m.default.WEBSITE,m.default.CONFIG,m.default.ADDON,m.default.ROUTE],(function(e){var t=u(e,4),n=t[0],r=t[1],o=t[2],a=t[3],i=n.getBusinessName(),l=n.getPublishedUrl(),s=r.getURL("mya.url"),c=r.getURL("auth.sso.logout.url"),d=r.get("feedbackEmail"),f=o.getAddonLaunchUrls()||{},p=o.getShowOlsAdminLink(),h=!!r.getPlanFeature("gem"),m=!!n.getFirstPublishDate(),g=a.getCurrentRoute().params.locale;return{businessName:i,domainName:l,myaURL:s,locale:g,logoutURL:c,feedbackEmail:d,addonLaunchUrls:f,showOlsAdminLink:p,gemEnabled:h,dashboardLinkEnabled:m}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(2),f=n(8),p=r(f),h=n(224),m=r(h),g=n(5),_=r(g),y=n(461),b=r(y),v=n(1094),E=r(v),T=n(6),O=n(3),P=r(O),w=60,I=325,S=25,C=w+I+S,x=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=_.default.shouldComponentUpdate.bind(n),n.handleDoneClick=n.handleDoneClick.bind(n),n.loadUserVoice=n.loadUserVoice.bind(n),n}return i(t,e),l(t,[{key:"setMarginTop",value:function(e){var t=document.querySelector("#view-mobile .show-feedback-container");t&&(t.style.marginTop=e)}},{key:"componentDidUpdate",value:function(e){this.isAndroid()&&(!e.keyboardVisible&&this.props.keyboardVisible&&this.setMarginTop(window.innerHeight-C+"px"),e.keyboardVisible&&!this.props.keyboardVisible&&this.setMarginTop("0"))}},{key:"componentDidMount",value:function(){var e=this.props.userVoicePromise;e.then(this.loadUserVoice).catch(d.noop)}},{key:"loadUserVoice",value:function(){window.UserVoice.push(["embed","#uvWidget",{mode:"smartvote",accent_color:"#77C043",height:I+"px",width:"100%"}])}},{key:"isAndroid",value:function(){var e=navigator.userAgent||navigator.vendor||window.opera;return e.match(/Android/i)}},{key:"handleDoneClick",value:function(){this.context.executeAction(m.default,{showFeedbackPanel:!1})}},{key:"getHeaderOptions",value:function(){var e=this.context.getIntlString;return{buttonType:b.default.NORMAL_BUTTON,dataAid:p.default.DONE_FEEDBACK_MENU,buttonText:e("done"),clickHandler:this.handleDoneClick,title:e("feedback")}}},{key:"render",value:function(){var e=this.getHeaderOptions();return c.default.createElement("div",{className:"feedback-container"},c.default.createElement(E.default,{options:e}),c.default.createElement("div",{className:"feedback-content feedback-wrapper"},c.default.createElement("div",{id:"uvWidget",className:"uv-wrapper"})))}}]),t})(s.Component);x.contextTypes={executeAction:s.PropTypes.func.isRequired,getIntlString:s.PropTypes.func.isRequired},t.default=(0,T.subscribeToStores)(x,[P.default.APP],(function(e){var t=u(e,1),n=t[0],r=n.isKeyboardVisible();return{keyboardVisible:r}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),d=n(1),f=r(d),p=n(2),h=n(3),m=r(h),g=n(6),_=n(143),y=r(_),b=n(38),v=r(b),E=(function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.lineThickness=.2,n}return u(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.showGemLoading,n=e.textMessage,r=o(e,["showGemLoading","textMessage"]),a=t?f.default.createElement(y.default,{lineThickness:this.lineThickness,textMessage:n}):null;return f.default.createElement(v.default,s({content:a},r))}}]),t})(d.Component);E.defaultProps={isEditField:!0,onClick:p.noop},E.contextTypes={executeAction:d.PropTypes.func.isRequired},t.default=(0,g.subscribeToStores)(E,[m.default.APP],(function(e){var t=l(e,1),n=t[0];return n.getGEMLoading()})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(21),d=r(c),f=(function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"handleClick",value:function(){window.location.reload(!0)}},{key:"componentWillMount",value:function(){n(1371)}},{key:"render",value:function(){var e=this.context.getIntlString;return s.default.createElement("div",{className:"ux-editor internal-error-page flex flex--column"},s.default.createElement("div",{className:"messaging flex--grow"},s.default.createElement("div",{className:"uxicon uxicon-alert"}),s.default.createElement("h1",null,e("genericErrorTitle")),s.default.createElement("p",null,e("genericErrorBody"))),s.default.createElement(d.default,{type:"default dark",className:"btn-block",onClick:this.handleClick},e("reloadButtonCaption")))}}]),t})(s.default.Component);t.default=f,f.contextTypes={getIntlString:l.PropTypes.func.isRequired},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(461),d=r(c),f=(function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"componentDidMount",value:function(){n(1372)}},{key:"render",value:function(){var e=this.props.options;if(!t.validOptions(e))return null;var n=e.buttonType===d.default.ANCHOR_BUTTON?s.default.createElement("a",{className:"back-button",role:"button",onClick:e.clickHandler,"data-aid":e.dataAid},s.default.createElement("span",{className:"uxicon uxicon-larger uxicon-chevron-left-lt"}),s.default.createElement("span",null,e.buttonText)):s.default.createElement("button",{className:"done-button",onClick:e.clickHandler,"data-aid":e.dataAid},e.buttonText);return s.default.createElement("div",{className:"menu-item-header"},n,s.default.createElement("h3",{className:"menu-item-title text-uppercase"},e.title))}}],[{key:"validOptions",value:function(e){return e&&e.buttonType&&e.dataAid&&e.buttonText&&e.clickHandler&&e.title}}]),t})(l.Component);t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(2),p=n(11),h=n(946),m=r(h),g=n(9),_=r(g),y=n(8),b=r(y),v=n(173),E=r(v),T=(function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._handleDelete=e._handleDelete.bind(e),e.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(e),e}return i(t,e),u(t,[{key:"_handleDelete",value:function(e){var t=this.props,n=t.pageId,r=t.onDelete;this.context.executeAction(m.default,{pageId:n}),(0,p.logEvent)({code:_.default.edit_site.delete_button_on_delete_page_confirmation,domEvent:e,pageId:n}),r()}},{key:"render",value:function(){return s.default.createElement(E.default,{title:"deletePage",description:"deletePageConfirmation",buttonLabel:"delete",deleteButtonDataAid:b.default.DELETE_PAGE_MODAL_DELETE,cancelButtonDataAid:b.default.DELETE_PAGE_MODAL_CANCEL,closeTrafficEvent:_.default.edit_site.close_icon_on_delete_page_confirmation,cancelTrafficEvent:_.default.edit_site.cancel_button_on_delete_page_confirmation,handleDelete:this._handleDelete})}}]),t})(l.Component);t.default=T,T.defaultProps={onDelete:f.noop},T.contextTypes={executeAction:l.PropTypes.func.isRequired},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(4),d=n(5),f=r(d),p=n(11),h=n(9),m=r(h),g=n(8),_=r(g),y=n(10),b=r(y),v=n(173),E=r(v),T=n(172),O=r(T),P=n(79),w=r(P),I=(function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._handleDelete=e._handleDelete.bind(e),e.shouldComponentUpdate=f.default.shouldComponentUpdate.bind(e),e}return i(t,e),u(t,[{key:"_handleDelete",value:function(e){var t=this.props,n=t.widget,r=t.pageData,o=t.dataPath,a=r.get("parentRoute",new c.List).toJS(),i={routeName:b.default.EDIT_WIDGET_MUTATOR,params:{mutatorPath:a}};(0,O.default)(this.context,w.default.REMOVE,{widget:n,dataPath:o,navigateParams:i,domEvent:e,overwrite:!0}),(0,p.logEvent)({code:m.default.edit_widget.delete_button_on_delete_pivot_confirmation,domEvent:e})}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.description;return s.default.createElement(E.default,{title:t,buttonLabel:"delete",description:n,deleteButtonDataAid:_.default.DELETE_PIVOT_MODAL_DELETE,cancelButtonDataAid:_.default.DELETE_PIVOT_MODAL_CANCEL,closeTrafficEvent:m.default.edit_widget.close_icon_on_delete_pivot_confirmation,cancelTrafficEvent:m.default.edit_widget.cancel_button_on_delete_pivot_confirmation,handleDelete:this._handleDelete})}}]),t})(l.Component);t.default=I,I.contextTypes={executeAction:l.PropTypes.func.isRequired,getStore:l.PropTypes.func.isRequired},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.getIntlString;return i.default.createElement(c.default,{showCloseOnTop:!1},i.default.createElement(f.default,{theme:"default"},i.default.createElement("div",{className:"flex flex--column flex--center"},i.default.createElement(l.default,{size:"xlg",icon:"magic"}),i.default.createElement("div",{className:"modal-spinner-title"},n("attachingYourDomain")),i.default.createElement("div",{className:"modal-spinner-description"},n("justAnotherSecond")))))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=r(a),u=n(112),l=r(u),s=n(44),c=r(s),d=n(27),f=r(d);o.contextTypes={getIntlString:a.PropTypes.func.isRequired},t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(2),p=n(8),h=r(p),m=n(9),g=r(m),_=n(27),y=r(_),b=n(33),v=r(b),E=n(30),T=r(E),O=n(44),P=r(O),w=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n.viewMySite=n.viewMySite.bind(n),n}return i(t,e),u(t,[{key:"viewMySite",value:function(e,t){t.preventDefault(),window.open(e),this.props.close()}},{key:"render",value:function(){var e=this.props,t=e.showSetupEmail,n=e.domainName,r=this.context.getIntlString,o="http://"+n,a=t?s.default.createElement(v.default,null,s.default.createElement(T.default,{theme:"primary",label:"setupEmail",onClick:f.noop}),s.default.createElement(T.default,{label:"skipForNow",theme:"default",onClick:f.noop})):s.default.createElement(v.default,null,s.default.createElement(T.default,{theme:"primary",label:"viewSite",onClick:this.viewMySite.bind(this,o),dataAid:h.default.DOMAIN_LIVE_OK,trafficId:g.default.editor_publish_modal.domain_live_ok_button}));return s.default.createElement(P.default,{showCloseOnTop:!0},s.default.createElement(y.default,{theme:"default",title:"smartMove"},s.default.createElement("a",{href:o,onClick:this.viewMySite.bind(this,o),className:"modal-subtitle primary"},o),s.default.createElement("div",{className:"modal-note"},r("domainDelay")),a))}}]),t})(s.default.Component);w.contextTypes={getIntlString:l.PropTypes.func.isRequired},t.default=w,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(4),d=n(5),f=r(d),p=n(8),h=r(p),m=n(462),g=r(m),_=n(978),y=r(_),b=n(112),v=r(b),E=n(27),T=r(E),O=n(451),P=r(O),w=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=f.default.shouldComponentUpdate.bind(n),n}return i(t,e),u(t,[{key:"renderPlaceholder",value:function(){return s.default.createElement("div",{className:"color-ccc flex flex--middle fs-20 ff-boing bold mt-60"},this.context.getIntlString("yourDomainsWillAppearHere"))}},{key:"renderSpinner",value:function(){return s.default.createElement("div",{className:"flex flex--middle mt-57"},s.default.createElement(v.default,null))}},{key:"renderErrorContent",value:function(){return s.default.createElement("div",{className:"color-black ff-boing bold fs-medium mt-20"},this.context.getIntlString("domainSearchError"))}},{key:"renderDomainTakenContent",value:function(){var e=this.context.getIntlString,t=this.props,n=t.handleBuyDomain,r=t.domainAlternatives,o=t.isMobile;return s.default.createElement("div",null,s.default.createElement("div",{className:"color-black ff-boing bold fs-large mb-15 mt-15"},s.default.createElement("span",null,e("sorry")),s.default.createElement("span",null,e("comma")),s.default.createElement("span",{className:"color-purchase"},this.domainName),s.default.createElement("span",null," ",e("isTaken"))),s.default.createElement("div",{className:"color-black ff-boing bold fs-medium mb-10"},e("howAboutOneOfThese")),s.default.createElement(P.default,{onBuyDomainClick:n,domains:r,isMobile:o}))}},{key:"renderDomainAvailableContent",value:function(){var e=this.context.getIntlString,t=this.props,n=t.handleBuyDomain,r=t.domainAlternatives,o=t.isMobile,a=this.props.exactMatch||new c.Map;return s.default.createElement("div",null,s.default.createElement("div",{className:"modal-subtitle mt-20"},s.default.createElement("span",null,e("yesYourDomainIs")),s.default.createElement("span",{className:"color-primary-darker"},e("available")),s.default.createElement("span",null,e("period"))),s.default.createElement(P.default,{onBuyDomainClick:n,domains:c.List.of(a),isMobile:o}),s.default.createElement("div",null,s.default.createElement("div",{className:"modal-subtitle"},e("orGetOneOfThese")),s.default.createElement(P.default,{onBuyDomainClick:n,domains:r,isMobile:o})))}},{key:"renderContent",value:function(){var e=this.props.exactMatch||new c.Map,t=this.props.searchStatus;switch(t){case g.default.INITIALIZED:return this.renderPlaceholder();case g.default.SEARCHING:return this.renderSpinner();case g.default.ERROR:return this.renderErrorContent();case g.default.SUCCESS:return e.get("available")?this.renderDomainAvailableContent():this.renderDomainTakenContent();default:return null}}},{key:"render",value:function(){var e=this.props,t=e.handleBackClick,n=e.handleSearchClick,r=this.context.getIntlString;return s.default.createElement(T.default,{theme:"primary",handleBackClick:t,className:"domain-search"},s.default.createElement("div",{className:"modal-subtitle"},r("findYourDomain")),s.default.createElement(y.default,{onSubmit:n,placeholder:r("findYourPerfectDomainName"),dataAid:h.default.TEXT_INPUT_DOMAIN}),this.renderContent())}},{key:"domainName",get:function(){return this.props.exactMatch?this.props.exactMatch.get("name"):""}}]),t})(s.default.Component);w.defaultProps={domainAlternatives:new c.List},w.contextTypes={getIntlString:l.PropTypes.func.isRequired},t.default=w,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),
r&&e(t,r),t}})(),s=n(1),c=r(s),d=(n(4),n(11)),f=n(89),p=n(9),h=r(p),m=n(3),g=r(m),_=n(16),y=r(_),b=n(462),v=r(b),E=n(392),T=r(E),O=n(391),P=r(O),w=n(6),I=n(96),S=n(1099),C=r(S),x=v.default.INITIALIZED,k=v.default.SEARCHING,D=v.default.ERROR,A=v.default.SUCCESS,M=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={searchStatus:x},n.onDomainSearch=n.onDomainSearch.bind(n),n.onBuyDomain=n.onBuyDomain.bind(n),n}return i(t,e),l(t,[{key:"onDomainSearch",value:function(e){var t=(0,f.toASCII)(e.replace(/\s/g,""));t=(0,I.isValidDomain)(t)?t:t+".com",t&&(this.context.executeAction(T.default,{searchQuery:t}),(0,d.logEvent)({code:h.default.editor_publish_modal_domain_recommendations.domain_search_magnifying_glass}))}},{key:"onBuyDomain",value:function(e){this.context.executeAction(P.default,{domain:e}),(0,d.logEvent)({code:h.default.editor_publish_modal_domain_recommendations.domain_search_buy_button,domain:e.get("name")})}},{key:"componentWillReceiveProps",value:function(e){var t=e.isSearching,n=e.searchFailed;t?this.setState({searchStatus:k}):this.props.isSearching&&this.setState({searchStatus:n?D:A})}},{key:"render",value:function(){var e=this.props,t=e.domainAlternatives,n=e.exactMatch,r=e.handleBackClick,o=e.isMobile,a=this.state.searchStatus;return c.default.createElement(C.default,{handleBackClick:r,handleBuyDomain:this.onBuyDomain,handleSearchClick:this.onDomainSearch,searchStatus:a,domainAlternatives:t,exactMatch:n,isMobile:o})}}]),t})(c.default.Component);M.contextTypes={executeAction:s.PropTypes.func.isRequired},t.default=(0,w.subscribeToStores)(M,[g.default.DOMAIN,g.default.REQUEST],(function(e){var t=u(e,2),n=t[0],r=t[1];return{isSearching:r.isAnyRequestPending(y.default.GET_DOMAIN_SEARCH),searchFailed:r.hasAnyRequestFailedForTypes(y.default.GET_DOMAIN_SEARCH),domainAlternatives:n.getDomainSearchAlternatives(),exactMatch:n.getDomainExactMatch()}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(2),d=n(89),f=n(11),p=n(8),h=r(p),m=n(9),g=r(m),_=n(48),y=r(_),b=n(30),v=r(b),E=n(27),T=r(E),O=n(33),P=r(O),w=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return n.state={externalDomainName:e.externalDomain,externalDomainNameDisplay:(0,d.toUnicode)(e.externalDomain)},n.handleSearch=n.handleSearch.bind(n),n.handleKeyPress=n.handleKeyPress.bind(n),n.handleInputChange=n.handleInputChange.bind(n),n}return i(t,e),u(t,[{key:"componentDidMount",value:function(){(0,f.logImpression)(g.default.external_domain_modal.external_domain_modal_impression)}},{key:"handleInputChange",value:function(e){this.setState({externalDomainName:(0,d.toASCII)(e.toLowerCase()),externalDomainNameDisplay:e})}},{key:"handleSearch",value:function(e){var t=this.props.onDomainSearch,n=this.state.externalDomainName;(0,f.logEvent)({code:g.default.external_domain_modal.published_on_external_domain,domEvent:e,externalDomain:n}),t(n)}},{key:"handleKeyPress",value:function(e){"Enter"===e.key&&this.handleSearch(e)}},{key:"render",value:function(){var e=this.state,t=e.externalDomainName,n=e.externalDomainNameDisplay,r=this.props,o=r.onBack,a=r.isSearching,i=r.isDomainAvailable,u=this.context.getIntlString,l=i===!1&&!a;return s.default.createElement(T.default,{title:"useExternalDomain",handleBackClick:o},s.default.createElement("div",{className:"color-black fs-medium mt-10 mb-20"},u("externalDomainGuidance")),s.default.createElement("div",{className:"ext-domain-input-container"},s.default.createElement("div",{className:"ext-domain-input"},s.default.createElement(y.default,{errors:l?["domainNotAvailableErr"]:[],value:n,placeholder:u("egSomeDomain"),onChange:this.handleInputChange,label:u("domainName"),autoFocus:!0,automationId:h.default.EXTERNAL_DOMAIN_TEXT_FIELD,onKeyPress:this.handleKeyPress,isRequired:!0,alwaysUpdateValue:!0}))),s.default.createElement(P.default,null,s.default.createElement(v.default,{theme:"primary",label:"publish",disabled:(0,c.isEmpty)(t.trim())||a,onClick:this.handleSearch,dataAid:h.default.PUBLISH_YES,trafficId:g.default.external_domain_modal.publish_site_button}),s.default.createElement(v.default,{theme:"default",label:"cancel",onClick:o,dataAid:h.default.PUBLISH_CANCEL,trafficId:g.default.external_domain_modal.cancel_button})))}}]),t})(l.Component);w.contextTypes={executeAction:l.PropTypes.func.isRequired,getIntlString:l.PropTypes.func.isRequired},t.default=w,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(11),d=n(5),f=r(d),p=n(284),h=r(p),m=n(1403),g=r(m),_=n(8),y=r(_),b=n(30),v=r(b),E=n(44),T=r(E),O=n(27),P=r(O),w=n(33),I=r(w),S=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=f.default.shouldComponentUpdate.bind(n),n.onBillMeClick=n.onBillMeClick.bind(n),n.state={autoRenewClicked:!1},n}return i(t,e),u(t,[{key:"componentDidMount",value:function(){(0,c.logImpression)(this.props.traffic2Prefix.auto_renew_modal)}},{key:"onBillMeClick",value:function(){this.state.autoRenewClicked||(this.setState({autoRenewClicked:!0}),this.props.handleBillMeClick())}},{key:"render",value:function(){var e=this.props,t=e.domainName,n=e.expirationDate,r=e.days,o=e.handleMaybeLaterClick,a=e.totalPrice,i=e.monthlyPrice,u=e.traffic2Prefix,l=e.isYearlyRenewal,c=this.state.autoRenewClicked,d=this.context.getIntlString,f=l?"yearlyAutoRenewExpirationMessage":"monthlyAutoRenewExpirationMessage",p=d(f,{expirationDate:n,totalPrice:a,monthlyPrice:i,appName:d("appName")}),m="http://"+t;return s.default.createElement(T.default,{onCloseTrafficId:u.auto_renew_modal_close_with_x},s.default.createElement(P.default,null,t&&s.default.createElement("div",null,s.default.createElement("div",{className:"modal-subtitle flex flex--middle ta-center"},d("yourNewDomain")),s.default.createElement("div",{className:"flex flex--row flex--middle flex--center"},s.default.createElement("div",{className:"uxicon uxicon-larger uxicon-ok color-primary-darker"}),s.default.createElement("div",{className:"color-primary-darker flex flex--middle ff-boing bold fs-h2 ml-10"},s.default.createElement("a",{href:m,target:"_blank",className:"modal-subtitle primary"},t))),s.default.createElement("div",{className:"border-inverse-gray ml-10 mr-10 mt-45 mb-35"}),s.default.createElement("img",{className:"mb-10",src:g.default})),s.default.createElement("div",{className:"modal-subtitle flex flex--middle ta-center"},d("keepYourSiteUp")),!t&&s.default.createElement("div",{className:"flex flex--row flex--middle mt-20 mb-35"},s.default.createElement("img",{className:"mb-10 mr-10",src:h.default}),s.default.createElement("div",{className:"flex flex--column"},s.default.createElement("div",{className:"fs-h2 ff-boing bold color-purchase"},d("numDays",{days:r})),s.default.createElement("div",{className:"color-medium-gray fs-medium"},d("leftInTrialPeriod")))),s.default.createElement("div",{className:"color-medium-gray fs-medium",dangerouslySetInnerHTML:{__html:p}}),s.default.createElement(I.default,null,s.default.createElement(v.default,{disabled:c,theme:"primary",label:"billMeAfterTrial",onClick:this.onBillMeClick,dataAid:y.default.AUTO_RENEW_BILL_ME,trafficId:u.auto_renew_modal_charge_me_after_trial_button}),s.default.createElement(v.default,{disabled:c,theme:"default",label:"maybeLater",onClick:o,dataAid:y.default.AUTO_RENEW_MAYBE_LATER,trafficId:u.auto_renew_modal_may_be_later_button}))))}}]),t})(s.default.Component);S.contextTypes={getIntlString:l.PropTypes.func.isRequired},t.default=S,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(11),d=n(5),f=r(d),p=n(8),h=r(p),m=n(30),g=r(m),_=n(44),y=r(_),b=n(27),v=r(b),E=n(33),T=r(E),O=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=f.default.shouldComponentUpdate.bind(n),n}return i(t,e),u(t,[{key:"componentDidMount",value:function(){(0,c.logImpression)(this.props.traffic2Prefix.auto_renew_failure_modal)}},{key:"render",value:function(){var e=this.props,t=e.handleContinue,n=e.traffic2Prefix,r=this.context.getIntlString;return s.default.createElement(y.default,{onCloseTrafficId:n.auto_renew_failure_modal_close_with_x},s.default.createElement(v.default,null,s.default.createElement("div",{className:"modal-subtitle flex flex--middle"},r("hmmSomethingDidntWork")),s.default.createElement("div",{className:"color-medium-gray fs-medium"},r("looksLikeWeNeed")),s.default.createElement(T.default,null,s.default.createElement(g.default,{theme:"primary",label:"continue",onClick:t,dataAid:h.default.FREE_TRIAL_ERROR,trafficId:n.auto_renew_failure_modal_continue_to_cart_button}))))}}]),t})(s.default.Component);O.contextTypes={getIntlString:l.PropTypes.func.isRequired},t.default=O,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(11),d=n(284),f=r(d),p=n(8),h=r(p),m=n(30),g=r(m),_=n(44),y=r(_),b=n(27),v=r(b),E=n(33),T=r(E),O=n(1214),P=r(O),w=(function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"componentDidMount",value:function(){(0,c.logImpression)(this.props.traffic2Prefix.buy_your_website_modal)}},{key:"render",value:function(){var e=this.props,t=e.days,n=e.totalPrice,r=e.onCheckout,o=e.monthlyPrice,a=e.expirationDateAfterRenewal,i=e.traffic2Prefix,u=e.isYearlyRenewal,l=this.context.getIntlString,c=u?"afterOneYearRenewal":"afterOneMonthRenewal";return s.default.createElement(y.default,{onCloseTrafficId:i.buy_your_website_modal_close_with_x},s.default.createElement(v.default,{title:"buyWebsiteBuilderNow"},s.default.createElement("div",{className:"flex flex--row flex--middle mt-20"},s.default.createElement("img",{className:"mb-10 mr-10",src:f.default}),s.default.createElement("div",{className:"flex flex--column"},s.default.createElement("div",{className:"fs-h2 ff-boing bold color-purchase"},l("numDays",{days:t})),s.default.createElement("div",{className:"color-medium-gray fs-medium"},l("leftInTrialPeriod")))),s.default.createElement("div",{className:"color-medium-gray fs-medium mb-10"},(0,P.default)(l(c,{days:t,totalPrice:n,monthlyPrice:o,expiryDate:a}))),s.default.createElement("div",{className:"flex flex--row flex--middle mt-20 fs-h2 ff-boing bold color-black"},l("afterFreeTrial")),s.default.createElement("div",{className:"color-medium-gray fs-medium mt-20"},l("loseAccessToWebsite",{appName:l("appName")})),s.default.createElement(T.default,null,s.default.createElement(g.default,{theme:"primary",label:"checkout",onClick:r,dataAid:h.default.FREE_TRIAL_CHECKOUT,trafficId:i.buy_your_website_modal_checkout_button}))))}}]),t})(s.default.Component);w.contextTypes={getIntlString:l.PropTypes.func.isRequired},t.default=w,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(11),d=n(284),f=r(d),p=n(8),h=r(p),m=n(9),g=r(m),_=n(30),y=r(_),b=n(44),v=r(b),E=n(27),T=r(E),O=n(33),P=r(O),w=(function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"componentDidMount",value:function(){(0,c.logImpression)(g.default.suspension.free_trial_live_suspension_modal_impression)}},{key:"render",value:function(){var e=this.props,t=e.handlePurchaseNow,n=e.goToMYA,r=this.context.getIntlString;return s.default.createElement(v.default,{showCloseOnTop:!1},s.default.createElement(T.default,{title:"freeTrialExpired"},s.default.createElement("div",{className:"flex flex--row flex--middle mt-20"},s.default.createElement("img",{className:"mb-10 mr-10",src:f.default}),s.default.createElement("div",{className:"flex flex--column"},s.default.createElement("div",{className:"fs-h2 ff-boing bold color-purchase"},r("numDays",{days:0})),s.default.createElement("div",{className:"color-medium-gray fs-medium"},r("leftInTrialPeriod")))),s.default.createElement("div",{className:"color-medium-gray fs-medium mb-10 mt-20"},s.default.createElement("span",null,r("purchaseToMakeChanges"))),s.default.createElement(P.default,null,s.default.createElement(y.default,{theme:"primary",label:"purchaseNow",onClick:t,dataAid:h.default.FREE_TRIAL_ENDED_PURCHASE_NOW,trafficId:g.default.suspension.free_trial_live_suspension_modal_purchase_now_button}),s.default.createElement(y.default,{theme:"default",label:"backToMYA",onClick:n,dataAid:h.default.GO_TO_MYA,trafficId:g.default.suspension.free_trial_live_suspension_modal_goto_mya_link}))))}}]),t})(l.Component);w.contextTypes={getIntlString:l.PropTypes.func.isRequired},t.default=w,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(11),d=n(1406),f=r(d),p=n(8),h=r(p),m=n(9),g=r(m),_=n(30),y=r(_),b=n(44),v=r(b),E=n(27),T=r(E),O=n(33),P=r(O),w=(function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"componentDidMount",value:function(){(0,c.logImpression)(g.default.suspension.free_trial_website_deletion_modal_impression)}},{key:"render",value:function(){var e=this.props,t=e.handlePurchaseNow,n=e.goToMYA,r=this.context.getIntlString;return s.default.createElement(v.default,{showCloseOnTop:!1},s.default.createElement(T.default,{title:"siteOffline"},s.default.createElement("div",{className:"flex flex--row flex--middle mt-20"},s.default.createElement("img",{className:"mb-10 mr-10",src:f.default})),s.default.createElement("div",{className:"color-medium-gray fs-medium mb-10 mt-20"},s.default.createElement("span",null,r("purchaseToRestore"))),s.default.createElement(P.default,null,s.default.createElement(y.default,{theme:"primary",label:"purchaseNow",onClick:t,dataAid:h.default.FREE_TRIAL_ENDED_PURCHASE_NOW,trafficId:g.default.suspension.free_trial_website_deletion_modal_purchase_now_button}),s.default.createElement(y.default,{theme:"default",label:"backToMYA",onClick:n,dataAid:h.default.GO_TO_MYA,trafficId:g.default.suspension.free_trial_website_deletion_modal_goto_mya_link}))))}}]),t})(l.Component);w.contextTypes={getIntlString:l.PropTypes.func.isRequired},t.default=w,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(15),d=c.UX.Grid,f=d.Container,p=d.Row,h=d.Col,m=(function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props.listItems,t=e.map((function(e){return s.default.createElement(p,null,s.default.createElement(h,{xsmall:"2",className:"list-item-container"},s.default.createElement("div",{className:"list-modal item-category"},s.default.createElement("strong",null,e.category,":"))),s.default.createElement(h,{xsmall:"10"},s.default.createElement("div",{className:"list-modal"},e.listItems)))}));return s.default.createElement(f,null,t)}}]),t})(l.Component);m.defaultProps={listItems:[]},t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(89),f=n(11),p=n(96),h=n(6),m=n(8),g=r(m),_=n(3),y=r(_),b=n(9),v=r(b),E=n(110),T=r(E),O=n(30),P=r(O),w=n(33),I=r(w),S=n(27),C=r(S),x=n(21),k=r(x),D=(function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleClose=e.handleClose.bind(e),e.viewMySiteOnDPS=e.viewMySiteOnDPS.bind(e),e.handleShowMoreClick=e.handleShowMoreClick.bind(e),e}return i(t,e),l(t,[{key:"componentDidMount",value:function(){(0,f.logImpression)(v.default.external_domain_modal.publish_success_impression)}},{key:"formattedDpsSubDomain",value:function(){var e=this.props,t=e.dpsSubDomain,n=e.dpsSubDomainHost;return c.default.createElement("p",null,c.default.createElement("span",{className:"bold fs-medium"},t),".",n)}},{key:"formattedDomainName",value:function(){var e=this.props.domainName,t=this.context.getIntlString("sitePublishedExternally").split("{domainName}");return c.default.createElement("p",null,t[0],c.default.createElement("strong",null,(0,d.toUnicode)(e)),t[1])}},{key:"viewMySiteOnDPS",value:function(){var e=this.props,t=e.dpsSubDomain,n=e.dpsSubDomainHost,r="http://"+t+"."+n;window.open(r)}},{key:"handleShowMoreClick",value:function(){window.open(this.props.helpLink,"_blank")}},{key:"handleClose",value:function(){this.props.close(),this.context.executeAction(T.default,{traffic2Prefix:v.default.editor_publish_modal})}},{key:"render",value:function(){var e=this.context.getIntlString;return c.default.createElement(C.default,{theme:"default",title:"moreAfterPublishing"},c.default.createElement("div",{className:"color-black fs-medium mt-10 mb-20"},this.formattedDomainName()),c.default.createElement("div",{className:"color-black fs-medium mb-10"},e("untilThenView")),c.default.createElement("div",{className:"dps-link-container color-black"},c.default.createElement("div",{className:"dps-link"},this.formattedDpsSubDomain()),c.default.createElement("div",null,c.default.createElement(k.default,{type:"link",className:"btn-sm",onClick:this.viewMySiteOnDPS,"data-aid":g.default.VIEW_SITE_PUBLISH,"data-traffic2":v.default.external_domain_modal.view_my_site_button},e("viewSite")))),c.default.createElement(I.default,null,c.default.createElement(P.default,{theme:"primary",label:"learnMore",onClick:this.handleShowMoreClick,dataAid:g.default.HELP_LINK_FOR_EXTERNAL_DOMAIN,trafficId:v.default.external_domain_modal.help_dns_setup}),c.default.createElement(P.default,{label:"close",theme:"default",onClick:this.handleClose,dataAid:g.default.MODAL_CLOSE_BUTTON})))}}]),t})(s.Component);D.contextTypes={getIntlString:s.PropTypes.func.isRequired,executeAction:s.PropTypes.func.isRequired},t.default=(0,h.subscribeToStores)(D,[y.default.AUTH,y.default.CONFIG,y.default.WEBSITE],(function(e){var t=u(e,3),n=t[0],r=t[1],o=t[2];return{helpLink:r.getHelpURL("externalDomain",n.getResellerId()),dpsSubDomain:o.getDpsSubdomain().split(".")[0],dpsSubDomainHost:(0,p.getDpsSubdomain)(r)}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=(n(4),n(89)),f=n(11),p=n(6),h=n(96),m=n(3),g=r(m),_=n(27),y=r(_),b=n(33),v=r(b),E=n(447),T=r(E),O=n(30),P=r(O),w=n(234),I=r(w),S=n(8),C=r(S),x=n(9),k=r(x),D=k.default.editor_publish_modal,A="external-choice-value",M=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=e.isFirstEverPublish,i=e.domainName,u=e.freeDomain,l=e.availableDomains,s=e.externalDomain,c=0===l.size&&!s||!r&&i===u,d=l.includes(i)||i===s?i:l.first()||s||A;return n.state={isFreeChecked:c,dropdownDomain:d,isEditingExternalDomain:!1},n.checkFree=n.checkFree.bind(n),n.checkPaid=n.checkPaid.bind(n),n.handleDropdownChange=n.handleDropdownChange.bind(n),n.handlePublishClick=n.handlePublishClick.bind(n),n.handleNextClick=n.handleNextClick.bind(n),n.handleExternalBack=n.handleExternalBack.bind(n),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this.props.availableDomains;switch(e.size){case 0:return void(0,f.logImpression)(D.domain_chooser_none);case 1:return void(0,f.logImpression)(D.domain_chooser_one);default:return void(0,f.logImpression)(D.domain_chooser_multi)}}},{key:"checkFree",value:function(){this.setState({isFreeChecked:!0})}},{key:"checkPaid",value:function(){this.setState({isFreeChecked:!1})}},{key:"handleDropdownChange",value:function(e){var t=e.target.value;this.setState({dropdownDomain:t})}},{key:"handlePublishClick",value:function(e){var t=this.selectedDomain,n=this.domainTypeCode;(0,f.logEvent)({code:D.publish_site_button,domEvent:e,selectedDomain:t}),(0,f.logEvent)({code:n,domEvent:e,selectedDomain:t}),this.props.publish(t)}},{key:"handleNextClick",value:function(){this.setState({isEditingExternalDomain:!0})}},{key:"handleExternalBack",value:function(){this.setState({isEditingExternalDomain:!1})}},{key:"renderDomainWithGray",value:function(e){e=(0,d.toUnicode)(e);var t=e.indexOf(".");if(t===-1)return e;var n=e.slice(0,t),r=e.slice(t);return c.default.createElement("span",null,n,c.default.createElement("span",{className:"color-medium-gray"},r))}},{key:"renderDropdown",value:function(){var e=this.props,t=e.availableDomains,n=e.enableExternalDomains,r=e.externalDomain,o=this.state.dropdownDomain,a=this.context.getIntlString;if(t.size<2&&!n)return null;var i=t.map((function(e){return c.default.createElement("option",{key:e,value:e},(0,d.toUnicode)(e))})).toJS();return n&&(i.length&&i.push(c.default.createElement("option",{key:"─",disabled:!0},"─────────────")),r&&i.push(c.default.createElement("option",{key:"external-domain",value:r,"data-aid":"DOMAINS_DROPDOWN_EXT:"+r},(0,d.toUnicode)(r))),i.push(c.default.createElement("option",{key:A,value:A,"data-aid":r?C.default.DOMAINS_DROPDOWN_EXT_CHANGE:C.default.DOMAINS_DROPDOWN_EXT_ADD},a(r?"externalDomainDropdownChange":"externalDomainDropdownAdd")))),c.default.createElement("div",{className:"select-wrapper"},c.default.createElement("select",{onClick:this.checkPaid,onChange:this.handleDropdownChange,value:o,"data-aid":C.default.DOMAINS_DROPDOWN_SELECT},i),c.default.createElement("span",{className:"chevron-down"}," "))}},{key:"renderDomainChooser",value:function(){var e=this.props,t=e.availableDomains,n=e.freeDomain,r=this.state.isFreeChecked,o=this.context.getIntlString,a=this.renderDropdown();return c.default.createElement("div",{className:"modal-description"},c.default.createElement("div",{className:"ff-boing fs-h3 bold"},o("publishToMyDomain")),c.default.createElement(I.default,{dataAid:C.default.PUBLISH_RADIO_PAID,name:"ready-to-publish-domain",checked:!r,onChange:this.checkPaid,style:{display:"inline"}},!a&&(0,d.toUnicode)(t.get(0))),a,c.default.createElement("div",{className:"ff-boing fs-h3 bold"},o("publishToFreeURL")),c.default.createElement(I.default,{dataAid:C.default.PUBLISH_RADIO_FREE,name:"ready-to-publish-domain",checked:r,onChange:this.checkFree},this.renderDomainWithGray(n)))}},{key:"render",value:function(){var e=this.props,t=e.isDomainSettings,n=e.close,r=e.externalDomain,o=this.state,a=o.isFreeChecked,i=o.dropdownDomain,u=o.isEditingExternalDomain;return u?c.default.createElement(T.default,{onBack:this.handleExternalBack,externalDomain:r}):c.default.createElement(y.default,{theme:"default",className:"publish-modal",title:t?"domainSettings":"awesomeLetsPublish",description:"publishToChooseWhere"},this.renderDomainChooser(),c.default.createElement(v.default,null,a||i!==A?c.default.createElement(P.default,{theme:"primary",label:"publishSite",onClick:this.handlePublishClick,dataAid:C.default.PUBLISH_YES}):c.default.createElement(P.default,{theme:"primary",label:"nextButton",onClick:this.handleNextClick,dataAid:C.default.PUBLISH_NEXT}),c.default.createElement(P.default,{label:"cancel",theme:"default",onClick:n,dataAid:C.default.PUBLISH_CANCEL,trafficId:k.default.editor_publish_modal.cancel_button})))}},{key:"selectedDomain",get:function(){var e=this.props.freeDomain,t=this.state,n=t.isFreeChecked,r=t.dropdownDomain;return n?e:r}},{key:"domainTypeCode",get:function(){var e=this.props.externalDomain,t=this.selectedDomain,n=this.context.getStore(g.default.CONFIG);
return(0,h.isDpsSubdomain)(n,t)?D.publish_with_free_domain:t===e?D.publish_with_external_domain:D.publish_with_godaddy_domain}}]),t})(s.Component);M.contextTypes={getIntlString:s.PropTypes.func.isRequired,getStore:s.PropTypes.func.isRequired},t.default=(0,p.subscribeToStores)(M,[g.default.DOMAIN,g.default.WEBSITE,g.default.CONFIG],(function(e){var t=u(e,3),n=t[0],r=t[1],o=t[2],a=n.getAvailableDomainNames().map((function(e){return{display:(0,d.toUnicode)(e),value:e}})).sort((function(e,t){return e.display.localeCompare(t.display)})).map((function(e){return e.value})),i=o.getFeatureFlag("enableExternalDomains"),l=r.getDpsSubdomain(),s=r.getBusinessName(),c=(l||(0,h.generateDpsDomain)(o,s)).toLowerCase(),f=!r.getFirstPublishDate(),p=r.getExternalDomainName();return{availableDomains:a,enableExternalDomains:i,externalDomain:p,freeDomain:c,isFirstEverPublish:f}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(27),u=r(i),l=n(33),s=r(l),c=n(30),d=r(c),f=n(8),p=r(f),h=n(9),m=r(h),g=function(e){var t=e.publish,n=e.close;return a.default.createElement(u.default,{theme:"danger",className:"publish-modal",title:"uhOh",description:"unfortunately"},a.default.createElement(s.default,null,a.default.createElement(d.default,{theme:"primary",label:"tryAgain",onClick:function(){return t()},dataAid:p.default.PUBLISH_TRY_AGAIN,trafficId:m.default.editor_publish_modal.publish_try_again_button}),a.default.createElement(d.default,{label:"cancel",theme:"default",onClick:n,dataAid:p.default.PUBLISH_CANCEL,trafficId:m.default.editor_publish_modal.publish_error_close_button})))};t.default=g,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var l,s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),c=n(1),d=r(c),f=n(467),p=r(f),h=n(5),m=r(h),g=n(9),_=r(g),y=n(110),b=r(y),v=n(1109),E=r(v),T=n(1113),O=r(T),P=n(1110),w=r(P),I=n(1112),S=r(I),C=n(44),x=r(C),k=(l={},u(l,p.default.PRE_PUBLISH,E.default),u(l,p.default.PUBLISHING,O.default),u(l,p.default.PUBLISH_SUCCESS,S.default),u(l,p.default.PUBLISH_ERROR,w.default),l),D=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=m.default.shouldComponentUpdate.bind(n),n}return i(t,e),s(t,[{key:"isPublishing",value:function(){return this.props.publishStatus===p.default.PUBLISHING}},{key:"showRenewModal",value:function(){this.context.executeAction(b.default,{traffic2Prefix:_.default.editor_publish_modal})}},{key:"render",value:function(){var e=this,t=this.props,n=t.close,r=t.publishStatus,o=k[r];return d.default.createElement(x.default,{showCloseOnTop:!this.isPublishing(),closeOnTopClick:function(){r===p.default.PUBLISH_SUCCESS&&e.showRenewModal(),n()},onCloseTrafficId:_.default.editor_publish_modal.close_publish_modal_with_x,className:"publish-modal"},d.default.createElement(o,this.props))}}]),t})(c.Component);D.contextTypes={executeAction:c.PropTypes.func.isRequired},t.default=D,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(7),f=r(d),p=n(4),h=n(5),m=r(h),g=n(89),_=n(11),y=n(6),b=n(8),v=r(b),E=n(3),T=r(E),O=n(9),P=r(O),w=n(110),I=r(w),S=n(936),C=r(S),x=n(391),k=r(x),D=n(30),A=r(D),M=n(33),N=r(M),R=n(27),j=r(R),L=n(451),U=r(L),G=n(1100),B=r(G),W=n(1108),F=r(W),H=n(447),V=r(H),q=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={searchMore:!1,isEditingExternalDomain:!1},n.shouldComponentUpdate=m.default.shouldComponentUpdate.bind(n),n.onExternalBuyDomainClick=n.onExternalBuyDomainClick.bind(n),n.onSearchForMoreClick=n.onSearchForMoreClick.bind(n),n.onDomainSearchBack=n.onDomainSearchBack.bind(n),n.onDomainSuggestionsBuy=n.onDomainSuggestionsBuy.bind(n),n.toggleExtDomainModal=n.toggleExtDomainModal.bind(n),n}return i(t,e),l(t,[{key:"showAutoRenewModal",value:function(e){this.context.executeAction(I.default,{traffic2Prefix:e})}},{key:"onExternalBuyDomainClick",value:function(e){e.preventDefault(),e.target.blur();var t=this.context.getStore(T.default.CONFIG).getURL("domains.crossSell",this.context.getStore(T.default.AUTH).getResellerId());window.open(t,"_blank")}},{key:"onDomainSuggestionsBuy",value:function(e){this.context.executeAction(k.default,{domain:e}),(0,_.logEvent)({code:P.default.editor_publish_modal_domain_recommendations.domain_recommendations_buy_button,domain:e.get("name")})}},{key:"onSearchForMoreClick",value:function(){this.setState({searchMore:!0})}},{key:"onDomainSearchBack",value:function(){this.setState({searchMore:!1}),this.context.executeAction(C.default),(0,_.logEvent)({code:P.default.editor_publish_modal_domain_recommendations.domain_search_modal_back_link})}},{key:"toggleExtDomainModal",value:function(){this.setState((function(e){return{isEditingExternalDomain:!e.isEditingExternalDomain}}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.close,r=t.domainName,o=t.isMobile,a=t.hasNoDomains,i=t.viewMySite,u=t.domainSuggestions,l=t.isExternalDomain,s=t.enableExternalDomains,d=t.hasAnExternalDomain,p=t.isPublishingToNewExtDomain,h=this.state,m=h.searchMore,_=h.isEditingExternalDomain;if(l&&p)return c.default.createElement(F.default,{viewMySite:i,domainName:r,close:n});if(_)return c.default.createElement(V.default,{onBack:this.toggleExtDomainModal});var y=this.context.getIntlString,b=Boolean(u.size),E=(0,f.default)("modal-publish-to flex flex--space-between flex--center",{"flex--column":o}),T=(0,f.default)({"modal-publish-to-domain":o}),O=s&&!d&&a&&c.default.createElement("a",{href:"#",className:"mt-10",onClick:this.toggleExtDomainModal,"data-traffic2":P.default.editor_publish_modal.publish_success_setup_external_domain_link,"data-aid":v.default.SETUP_EXTERNAL_DOMAIN_LINK},y("externalDomainSetupLink")),w=c.default.createElement(A.default,{theme:"primary",label:"viewSite",onClick:function(){i(),e.showAutoRenewModal(P.default.editor_publish_modal)},dataAid:v.default.VIEW_SITE_PUBLISH,trafficId:P.default.editor_publish_modal.view_my_site_button}),I=c.default.createElement(A.default,{theme:"default",label:"searchMoreDomains",onClick:this.onSearchForMoreClick,dataAid:v.default.SEARCH_MORE_DOMAINS,trafficId:P.default.editor_publish_modal_domain_recommendations.search_for_more_domains_link}),S=c.default.createElement(A.default,{label:"buyDomain",theme:"default",onClick:this.onExternalBuyDomainClick,className:"buy-domain",dataAid:v.default.DOMAIN_UPGRADE_BUTTON,trafficId:P.default.editor_publish_modal_domain_recommendations.buy_external_domain_button}),C=c.default.createElement("div",null,c.default.createElement("div",null,c.default.createElement("div",{className:E},c.default.createElement("span",{className:T},r))),c.default.createElement("div",{className:"modal-subtitle",style:{paddingTop:30}},y("getAMemorableDomain")),c.default.createElement(U.default,{onBuyDomainClick:this.onDomainSuggestionsBuy,domains:u,isMobile:o}),O,c.default.createElement(N.default,null,w,I)),x=c.default.createElement(A.default,{label:"close",theme:"default",onClick:function(){e.showAutoRenewModal(m||b&&C?P.default.editor_publish_modal_domain_recommendations:P.default.editor_publish_modal),n()},trafficId:P.default.editor_publish_modal.close_button}),k=c.default.createElement("div",null,c.default.createElement("div",{className:E},c.default.createElement("span",{className:T},(0,g.toUnicode)(r))),c.default.createElement("div",{className:"publish-success-msg"},y(a?"customDomain":"yourNewSite")),O,c.default.createElement(N.default,null,w,a?S:x));return m?c.default.createElement(B.default,{handleBackClick:this.onDomainSearchBack,isMobile:o}):c.default.createElement(j.default,{theme:"default",className:"publish-modal",title:"yourSiteIsLive"},b&&C,!b&&k)}}]),t})(c.default.Component);q.defaultProps={domainSuggestions:new p.List},q.contextTypes={executeAction:s.PropTypes.func.isRequired,getIntlString:s.PropTypes.func.isRequired,getStore:s.PropTypes.func.isRequired},t.default=(0,y.subscribeToStores)(q,[T.default.APP,T.default.DOMAIN,T.default.CONFIG],(function(e){var t=u(e,3),n=t[0],r=t[1],o=t[2];return{isMobile:n.isMobile(),domainSuggestions:r.getDomainSuggestions(),hasNoDomains:r.getAvailableDomainNames().isEmpty(),enableExternalDomains:o.getFeatureFlag("enableExternalDomains")}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(112),u=r(i),l=n(27),s=r(l),c=function(e,t){var n=t.getIntlString;return a.default.createElement(s.default,{theme:"default",className:"publish-modal"},a.default.createElement("div",{className:"flex flex--column flex--center"},a.default.createElement(u.default,{size:"xlg",icon:"magic"}),a.default.createElement("div",{className:"modal-spinner-title"},n("publishing")),a.default.createElement("div",{className:"modal-spinner-description"},n("provisionOnlineStoreLoadingDescription"))))};c.contextTypes={getIntlString:o.PropTypes.func.isRequired},t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(11),p=n(173),h=r(p),m=n(8),g=r(m),_=n(9),y=r(_),b=n(964),v=r(b),E=(function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleStartOver=e.handleStartOver.bind(e),e.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(e),e}return i(t,e),u(t,[{key:"componentDidMount",value:function(){(0,f.logImpression)(y.default.reset_website.modal_impression)}},{key:"handleStartOver",value:function(e){(0,f.logEvent)({code:y.default.reset_website.modal_confirm_start_over_button,domEvent:e}),this.context.executeAction(v.default)}},{key:"render",value:function(){return s.default.createElement(h.default,{title:"youAreStartingOver",buttonLabel:"confirmStartOver",description:"goBackToSelectNewDesign",deleteButtonDataAid:g.default.RESET_WEBSITE_MODAL_CONFIRM,cancelButtonDataAid:g.default.RESET_WEBSITE_MODAL_CANCEL,closeTrafficEvent:y.default.reset_website.modal_close_with_x,cancelTrafficEvent:y.default.reset_website.modal_cancel_start_over_button,handleDelete:this.handleStartOver})}}]),t})(l.Component);E.contextTypes={executeAction:l.PropTypes.func.isRequired},t.default=E,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(44),u=r(i),l=n(30),s=r(l),c=n(8),d=r(c),f=n(9),p=r(f),h=n(27),m=r(h),g=n(33),_=r(g),y=function(e,t){var n=e.goToMYA,r=t.getIntlString;return a.default.createElement(u.default,{showCloseOnTop:!1},a.default.createElement(m.default,{title:"accountSuspended"},a.default.createElement("div",{className:"color-medium-gray fs-medium mb-10 mt-20"},a.default.createElement("span",null,r("contactSupportForSuspension"))),a.default.createElement(_.default,null,a.default.createElement(s.default,{theme:"primary",label:"backToMYA",onClick:n,dataAid:d.default.GO_TO_MYA,trafficId:p.default.suspension.default_suspension_go_to_mya_link}))))};y.contextTypes={getIntlString:o.PropTypes.func.isRequired},t.default=y,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(44),u=r(i),l=n(30),s=r(l),c=n(8),d=r(c),f=n(9),p=r(f),h=n(27),m=r(h),g=n(33),_=r(g),y=function(e,t){var n=e.goToMYA,r=t.getIntlString;return a.default.createElement(u.default,{showCloseOnTop:!1},a.default.createElement(m.default,{title:"billingSuspension"},a.default.createElement("div",{className:"color-medium-gray fs-medium mb-10 mt-20"},a.default.createElement("span",null,r("contactForBillingSuspension"))),a.default.createElement(_.default,null,a.default.createElement(s.default,{theme:"primary",label:"backToMYA",onClick:n,dataAid:d.default.GO_TO_MYA,trafficId:p.default.suspension.paid_suspension_go_to_mya_link}))))};y.contextTypes={getIntlString:o.PropTypes.func.isRequired},t.default=y,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1413),a=r(o),i=n(1404),u=r(i),l=n(1414),s=r(l);t.default={promoTier:"business",featureList:[{feature:"driveTraffic",image:u.default},{feature:"secureWebsite",image:a.default}],modalImage:s.default,className:"business-tier"},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1416),a=r(o),i=n(1412),u=r(i),l=n(1401),s=r(l),c=n(1415),d=r(c),f=n(1407),p=r(f);t.default={promoTier:"commerce",featureList:[{feature:"sellThousands",image:a.default},{feature:"mobileOptimized",image:u.default},{feature:"securePayment",image:s.default},{feature:"shippingOptions",image:d.default}],modalImage:p.default,className:"commerce-tier"},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(8),d=r(c),f=(function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.getIntlFeaturePrefix=e.getIntlFeaturePrefix.bind(e),e.renderFeatureSet=e.renderFeatureSet.bind(e),e}return i(t,e),u(t,[{key:"getIntlFeaturePrefix",value:function(e){var t=this.props.promoTier;return"upgradeModal."+t+".features."+e}},{key:"renderFeatureSet",value:function(e,t){var n=e.feature,r=e.image,o=this.context.getIntlString,a=this.getIntlFeaturePrefix(n),i=t?"-mobile":"";return s.default.createElement("div",{className:"upgrade-feature"},s.default.createElement("div",{className:"row"},s.default.createElement("div",{className:"col-md-2 col-xs-2"},s.default.createElement("img",{className:"feature-image"+i,src:r})),s.default.createElement("div",{className:"col-md-10 col-xs-10"},s.default.createElement("div",{className:"feature-name"+i},o(a+".name")),s.default.createElement("div",{className:"feature-description"},o(a+".desc")))))}},{key:"renderFeatureList",value:function(e,t){var n=this,r=e.map((function(e){return n.renderFeatureSet(e,t)}));return r}},{key:"render",value:function(){var e=this.props,t=e.isMobile,n=e.modalImage,r=e.featureList,o=this.renderFeatureList(r,t);return s.default.createElement("div",{classNames:"container-fluid"},s.default.createElement("div",{className:"row"},s.default.createElement("div",{className:"col-md-6"},s.default.createElement("div",{className:"upgrade-feature-list"},o)),s.default.createElement("div",{className:"upgrade-modal-image-container"},s.default.createElement("div",{className:"col-md-6","data-aid":d.default.UPGRADE_MODAL_DESKTOP_IMG},t?null:n))))}}]),t})(l.Component);f.contextTypes={getIntlString:l.PropTypes.func.isRequired},t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(5),f=r(d),p=n(7),h=r(p),m=n(446),g=r(m),_=n(1119),y=r(_),b=n(6),v=n(3),E=r(v),T=n(8),O=r(T),P=n(9),w=r(P),I=(function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.shouldComponentUpdate=f.default.shouldComponentUpdate.bind(e),e}return i(t,e),l(t,[{key:"getIntlStringKey",value:function(e){var t=this.props.promoTier;return"upgradeModal."+t+"."+e}},{key:"renderUpgradeDescription",value:function(e,t){var n=this.context.getIntlString;return e?c.default.createElement("div",{className:"upgrade-modal-description-container"},c.default.createElement("p",{className:"upgrade-modal-sub-description"},n(this.getIntlStringKey("subDescription")))):c.default.createElement("div",{className:"upgrade-modal-description-container"},c.default.createElement("div",{className:"bg-light p-a-1"},c.default.createElement("hr",null)),c.default.createElement("h1",{className:"upgrade-modal-description"},n(this.getIntlStringKey("description"))," ",t),c.default.createElement("div",null,c.default.createElement("p",{className:"upgrade-modal-sub-description"},n(this.getIntlStringKey("subDescription")))),c.default.createElement("div",{className:"bg-light p-a-1"},c.default.createElement("hr",null)))}},{key:"renderMobileFooter",value:function(e){var t=this.context.getIntlString,n="tel:"+e.replace(/[^\d]/g,"");return c.default.createElement("div",{className:"mobile-upgrade-footer"},c.default.createElement("div",null,c.default.createElement("p",{className:"mobile-footer-description"},t(this.getIntlStringKey("mobileDescription"))),c.default.createElement("h1",{className:"mobile-footer-phone-container"},c.default.createElement("a",{className:"mobile-footer-phonenumber",href:n},e))))}},{key:"renderImage",value:function(){return c.default.createElement("div",{className:"upgrade-modal-image-container"},c.default.createElement("img",{className:"upgrade-modal-image",src:this.props.modalImage}))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.isMobile,r=e.featureList,o=e.promoTier,a=e.phoneNumber,i=this.context.getIntlString,u=this.renderImage(),l=n?"-mobile":"",s=w.default.upgrade_modal["close_icon_on_"+o+"_modal"];return c.default.createElement("div",null,c.default.createElement("div",{className:(0,h.default)("ux-editor","upgrade-modal",t)},c.default.createElement("div",{className:"upgrade-modal-contents-container"},c.default.createElement("div",{className:"row"},c.default.createElement(g.default,{onCloseTrafficId:s,upgradeStyle:!0}),c.default.createElement("h1",{className:"upgrade-modal-title"+l,"data-aid":O.default.UPGRADE_MODAL_TITLE},c.default.createElement("strong",null,i(this.getIntlStringKey("title"))))),this.renderUpgradeDescription(n,a),n?u:null,c.default.createElement(y.default,{isMobile:n,modalImage:u,featureList:r,promoTier:o}))),n?this.renderMobileFooter(a):null)}}]),t})(s.Component);I.contextTypes={executeAction:s.PropTypes.func.isRequired,getIntlString:s.PropTypes.func.isRequired},t.default=(0,b.subscribeToStores)(I,[E.default.APP,E.default.CONFIG,E.default.ROUTE],(function(e){var t=u(e,3),n=t[0],r=t[1],o=t[2],a=o.getCurrentRoute().params.locale;return{isMobile:n.isMobile(),phoneNumber:r.getSupportPhoneNumber(a)}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(7),u=r(i),l=n(8),s=r(l),c=n(9),d=r(c),f=n(30),p=r(f),h=d.default.editor_publish_modal_domain_recommendations,m=function(e){var t=e.isMobile,n=e.name,r=e.price,o=e.salePrice,i=e.onClick,l=e.isPurchasable,c=(0,u.default)("domains-upsell-item-price",{"domains-upsell-item-price-strikethrough":o}),d=(0,u.default)("flex",{"flex--column flex--end domains-upsell-item-prices":t,"flex--row flex--center":!t}),f=a.default.createElement("div",{className:d},a.default.createElement("div",{className:c},r),o&&a.default.createElement("div",{className:"domains-upsell-item-sale-price"},o)),m=a.default.createElement(p.default,{label:"buy",theme:"purchase",onClick:i,forceTablet:!0,className:"buy-domain",dataAid:s.default.DOMAIN_UPGRADE_BUTTON+"_"+n,trafficId:h.buy_domain_button}),g=a.default.createElement(p.default,{label:"goGetIt",theme:"purchase",onClick:i,forceTablet:!0,className:"buy-domain",dataAid:s.default.DOMAIN_MATCH_UPGRADE_BUTTON,trafficId:h.buy_cctld_domain_button});return a.default.createElement("div",{className:"domains-upsell-item"},a.default.createElement("div",{className:"flex flex--row flex--space-between"},a.default.createElement("div",{className:"domains-upsell-item-name flex flex--center"},n),a.default.createElement("div",{className:"flex flex--row flex--center domain-upsell-item-right"},f,l?m:g)))};m.contextTypes={getIntlString:o.PropTypes.func.isRequired},t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(93),f=r(d),p=n(6),h=n(8),m=r(h),g=n(3),_=r(g),y=n(21),b=r(y),v=(function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleStartOptimizingClick=e.handleStartOptimizingClick.bind(e),e.renderUpsell=e.renderUpsell.bind(e),e.state={},e}return i(t,e),l(t,[{key:"handleStartOptimizingClick",value:function(){var e=this.props,t=e.accountId,n=e.domain,r=e.market,o=e.resellerId,a=e.rootDomain,i=e.shopperId,u="https://searchenginevisibility."+a+"/externalappstart?account_uid="+encodeURIComponent(t)+"&plid="+encodeURIComponent(o)+"&shopper_id="+encodeURIComponent(i)+"&domain="+encodeURIComponent(n)+"&marketid="+encodeURIComponent(r)+"&appLink=VNEXT";this.setState({launching:!0}),window.setTimeout((function(){window.open(u,"_self")}),100)}},{key:"renderUpsell",value:function(){var e=this.props,t=e.isMobile,n=e.resellerId;if(1!==n)return null;var r=this.context.getIntlString,o=43;return c.default.createElement("div",{className:"flex"},c.default.createElement(f.default,{icon:"sev",width:t?o:2*o,height:46,viewBox:"0 0 43 46",isMobile:t}),c.default.createElement("div",null,c.default.createElement("strong",null,r("seoCallToLearnTitle"))),c.default.createElement("span",null,r("seoCallToLearn")),c.default.createElement("a",{href:"https://www.godaddy.com/websites/website-builder",className:"text-primary",target:"_blank"},r("seoCallToLearnLink")," »"))}},{key:"render",value:function(){var e=this.props.hasSEO,t=this.context.getIntlString,n=this.state.launching;return c.default.createElement("div",null,e?c.default.createElement("div",null,c.default.createElement("div",{className:"call-to-action-text"},t("seoCallToLaunch")),c.default.createElement("div",{className:"call-to-action-button"},c.default.createElement(b.default,{"data-aid":m.default.SEO_BUTTON,className:"btn-sm",type:"primary dark",onClick:this.handleStartOptimizingClick,disabled:n?"disabled":null},t("seoCallToLaunchLink")))):this.renderUpsell())}}]),t})(s.Component);v.contextTypes={getIntlString:s.PropTypes.func.isRequired},t.default=(0,p.subscribeToStores)(v,[_.default.APP,_.default.AUTH,_.default.CONFIG,_.default.PAGE,_.default.ROUTE,_.default.WEBSITE],(function(e){var t=u(e,6),n=t[0],r=t[1],o=t[2],a=t[3],i=t[4],l=t[5],s=r.getResellerId();return{accountId:l.getCurrentWebsiteAccountId(),domain:l.getDomainName(),isMobile:n.isMobile(),market:i.getCurrentRoute().params.locale,pageId:a.getCurrentPageId(),resellerId:s,rootDomain:o.getRootDomain(s),shopperId:r.getShopperId(),websiteId:l.getCurrentWebsiteId()}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(5),f=r(d),p=n(4),h=n(15),m=n(11),g=n(1122),_=r(g),y=n(113),b=r(y),v=n(1161),E=r(v),T=n(455),O=r(T),P=n(80),w=r(P),I=n(3),S=r(I),C=n(6),x=n(9),k=r(x),D=n(228),A=r(D),M=n(30),N=r(M),R=n(450),j=r(R),L=n(35),U=r(L),G=h.constants.editors,B=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={selectedPageId:e.currentPageId},n.shouldComponentUpdate=f.default.shouldComponentUpdate.bind(n),n.handleBackClick=n.handleBackClick.bind(n),n.handleFieldChange=n.handleFieldChange.bind(n),n.handlePageChange=n.handlePageChange.bind(n),n.onUpgradeClick=n.onUpgradeClick.bind(n),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){n(1374)}},{key:"handleBackClick",value:function(){this.props.handlePopView()}},{key:"handleFieldChange",value:function(e,t){var n={id:this.state.selectedPageId},r=n;e.property.split(".").forEach((function(e,n,o){n===o.length-1?r[e]=t:(r[e]={},r=r[e])})),this.context.executeAction(A.default,n),(0,m.logEvent)({code:k.default.editor_side_menu.change_seo_settings})}},{key:"handlePageChange",value:function(e){this.setState({selectedPageId:e.value})}},{key:"renderActionModal",value:function(e){var t=this.props,n=t.hasSEO,r=t.isCallToActionEnabled;return r&&(n&&e||!n&&!e)?c.default.createElement("div",{className:"seo-call-to-action-container"},c.default.createElement(_.default,{hasSEO:n}),c.default.createElement("hr",{className:"seo-call-to-action-divider"})):null}},{key:"onUpgradeClick",value:function(){this.context.executeAction(U.default,{modal:j.default.business,forceModal:!0}),(0,m.logEvent)({
code:k.default.editor_side_menu.seo_upgrade_learn_more})}},{key:"render",value:function(){var e=this.context.getIntlString,t=this.props,n=t.pagesEnabled,r=t.hasSEO,o=this.convertPropsToFields();return c.default.createElement("div",{className:"settings-panel field-set-preview-container"},c.default.createElement(w.default,{title:e("seo"),onBackClick:this.handleBackClick}),c.default.createElement("div",{className:"settings-content"},this.renderActionModal(!0),c.default.createElement("div",{className:"seo-description"},e("seoDescriptionExt")),n?c.default.createElement(O.default,{onPageChange:this.handlePageChange,showSubMenu:!1,rerouteOnChange:!1,selectedPageId:this.state.selectedPageId,theme:"default"}):null,c.default.createElement(b.default,{fields:o,onChange:this.handleFieldChange}),r?null:c.default.createElement("div",{className:"seo-upgrade-container",onClick:this.onUpgradeClick},c.default.createElement("div",{className:"settings-heading flex flex--row"},e("seoRankHigher"),c.default.createElement("div",{className:"seo-upgrade-tag"},e("upgrade"))),c.default.createElement("div",{className:"settings-message"},e("seoRankHigherDescription")),c.default.createElement("div",{className:"learn-btn-container"},c.default.createElement(N.default,{label:"seoCallToLearnLink"})))))}},{key:"convertPropsToFields",value:function(){var e=this,t=this.context.getIntlString,n=this.props.pages,r=n.find((function(t){return t.get("id")===e.state.selectedPageId}));return p.List.of((0,p.Map)({type:G.TEXT,label:t("title"),property:E.default.TITLE,value:r.get("title")}),(0,p.Map)({type:G.MULTILINE,label:t("description"),property:E.default.DESCRIPTION,value:r.get("properties").get("description")}))}}]),t})(s.Component);B.contextTypes={executeAction:s.PropTypes.func.isRequired,getIntlString:s.PropTypes.func.isRequired},t.default=(0,C.subscribeToStores)(B,[S.default.PAGE,S.default.CONFIG],(function(e){var t=u(e,2),n=t[0],r=t[1];return{currentPageId:n.getCurrentPageId(),hasSEO:r.getPlanFeature("seo"),isCallToActionEnabled:r.getFeatureFlag("enableSeoCallToAction")||!1,pages:n.getPages(),pagesEnabled:r.getFeatureFlag("enablePages")||!1}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),c=n(1),d=r(c),f=n(6),p=n(3),h=r(p),m=n(65),g=r(m),_=n(63),y=r(_),b=n(397),v=r(b),E=n(80),T=r(E),O=n(321),P=r(O),w=n(11),I=n(112),S=r(I),C=(function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleBackClick=n.handleBackClick.bind(n),n.handleOptionClick=n.handleOptionClick.bind(n),n}return u(t,e),s(t,[{key:"handleBackClick",value:function(){this.props.handlePopView()}},{key:"handleOptionClick",value:function(e,t){var n=t&&t.str_id;this.context.executeAction(y.default,o({},g.default.BUSINESS_CATEGORY,n)),this.context.executeAction(v.default,{category:n})}},{key:"render",value:function(){var e=this.context.getIntlString,t=this.props.value;return d.default.createElement("div",{className:"settings-panel field-set-preview-container"},d.default.createElement(T.default,{title:e("businessCategory"),onBackClick:this.handleBackClick}),d.default.createElement("div",{className:"settings-content"},d.default.createElement(P.default,{value:t,market:this.props.locale,placeholder:e("onboardBusinessCategoryPlaceholder"),containerClasses:"vp-container",inputClasses:"ux-form-control text-input",logUserInputsEvent:w.logEvent,showOtherOption:!0,showOtherOptionDelay:15e3,limitResults:1e3,onOptionClick:this.handleOptionClick,spinner:d.default.createElement(S.default,{size:"sm"}),noResultsText:e("noResultFoundForVertical"),otherNameFormat:e("useAnotherVertical")})))}}]),t})(c.Component);C.contextTypes={executeAction:c.PropTypes.func.isRequired,getIntlString:c.PropTypes.func.isRequired},t.default=(0,f.subscribeToStores)(C,[h.default.WEBSITE],(function(e){var t=l(e,1),n=t[0];return{value:n.getBusinessCategory()}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var l,s=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),c=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),d=n(1),f=r(d),p=n(5),h=r(p),m=n(4),g=n(15),_=n(11),y=n(6),b=n(178),v=n(3),E=r(v),T=n(9),O=r(T),P=n(65),w=r(P),I=n(63),S=r(I),C=n(113),x=r(C),k=n(80),D=r(k),A=n(1124),M=r(A),N=n(38),R=r(N),j=n(43),L=r(j),U=n(321),G=r(U),B=g.constants.editors,W=(l={},u(l,w.default.BUSINESS_NAME,O.default.editor_side_menu.change_business_name),u(l,w.default.BUSINESS_CATEGORY,O.default.editor_side_menu.change_business_category),u(l,w.default.EMAIL,O.default.editor_side_menu.change_business_email),u(l,w.default.ADDRESS,O.default.editor_side_menu.change_business_address),u(l,w.default.PHONE,O.default.editor_side_menu.change_business_phone),l),F=(function(e){function t(e,n){o(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.shouldComponentUpdate=h.default.shouldComponentUpdate.bind(r),r.handleModifications=r.handleModifications.bind(r),r.handleBackClick=r.handleBackClick.bind(r),r.state={categoryName:""},G.default.getNameForValue(e.businessCategory,r.props.locale,r.context.getIntlString("useAnotherVertical")).then((function(e){return r.setState({categoryName:e})})),r}return i(t,e),c(t,[{key:"handleBackClick",value:function(){this.props.handlePopView()}},{key:"handleModifications",value:function(e,t){var n=(0,b.convertDataToFieldProperties)(t,e);n&&(this.context.executeAction(S.default,n),(0,_.logEvent)({code:W[e.property]}))}},{key:"render",value:function(){var e=this.convertPropsToFields(),t=this.context.getIntlString;return f.default.createElement("div",{className:"settings-panel field-set-preview-container"},f.default.createElement(D.default,{title:t("businessProfile"),onBackClick:this.handleBackClick}),f.default.createElement("div",{className:"settings-content"},f.default.createElement("div",{className:"settings-description"},t("businessProfileDescriptionExt")),f.default.createElement(x.default,{fields:e,onBlur:this.handleModifications,onChange:this.handleModifications})))}},{key:"convertPropsToFields",value:function(){var e=this,t=this.context.getIntlString,n=this.props,r=n.address,o=n.businessName,a=n.email,i=n.phone,u=n.handlePushView,l=this.state.categoryName;return m.List.of((0,m.Map)({type:B.TEXT,label:t("businessName"),property:w.default.BUSINESS_NAME,value:o}),f.default.createElement(L.default,null,f.default.createElement(R.default,{id:"BUSINESS_CATEGORY",title:t("businessCategory"),description:l,onClick:function(){return u(f.default.createElement(M.default,e.props))}})),(0,m.Map)({type:B.EMAIL,label:t("email"),property:w.default.EMAIL,value:a}),(0,m.Map)({type:B.ADDRESS,label:t("address"),property:w.default.ADDRESS,value:r,additionalPropMapping:{lat:w.default.LAT,lng:w.default.LNG}}),(0,m.Map)({type:B.TEXT,label:t("phone"),property:w.default.PHONE,value:i}))}}]),t})(d.Component);F.contextTypes={executeAction:d.PropTypes.func.isRequired,getIntlString:d.PropTypes.func.isRequired},t.default=(0,y.subscribeToStores)(F,[E.default.WEBSITE,E.default.ROUTE],(function(e){var t=s(e,2),n=t[0],r=t[1];return{businessName:n.getBusinessName(),businessCategory:n.getBusinessCategory(),address:n.getAddress(),email:n.getEmail(),phone:n.getPhone(),locale:r.getCurrentRoute().params.locale}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(5),f=r(d),p=n(4),h=n(89),m=n(15),g=n(6),_=n(96),y=n(3),b=r(y),v=n(65),E=r(v),T=n(9),O=r(T),P=n(400),w=r(P),I=n(80),S=r(I),C=n(113),x=r(C),k=m.constants.editors,D=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=f.default.shouldComponentUpdate.bind(n),n.handleBackClick=n.handleBackClick.bind(n),n.handleChange=n.handleChange.bind(n),n}return i(t,e),l(t,[{key:"handleBackClick",value:function(){this.props.handlePopView()}},{key:"handleChange",value:function(e,t){this.context.executeAction(w.default,t)}},{key:"render",value:function(){var e=this.context.getIntlString,t=c.default.createElement(S.default,{title:e("domain"),onBackClick:this.handleBackClick}),n=this.convertPropsToFields(),r=n.get(1),o=r&&0!==r.get("options").size?null:c.default.createElement("div",{className:"ux-form-group"},c.default.createElement("label",{className:"group-label text-capitalize toggle-label"},e("domainUseOwn")),c.default.createElement("div",{className:"disabled list-group-item"},e("domainNoneAvailable")));return this._hasRenderedRadios=!0,c.default.createElement("div",{className:"settings-panel domain-settings"},t,c.default.createElement("div",{className:"settings-content"},c.default.createElement(x.default,{fields:n,onChange:this.handleChange}),o))}},{key:"convertPropsToFields",value:function(){var e=this.context,t=e.getIntlString,n=e.getStore,r=this.props,o=r.availableDomains,a=r.businessName,i=(0,h.toUnicode)(this.props.domainName),u=n(b.default.CONFIG),l=(0,h.toUnicode)((this.props.defaultDomainName||(0,_.generateDpsDomain)(u,a)).toLowerCase()),s=o.toArray().map((function(e){return(0,h.toUnicode)(e)})).sort(),c=i===l||s.indexOf(i)===-1,d=[{type:k.RADIO,showCheckmark:!0,property:E.default.DOMAIN_NAME,label:t("domainUseGoDaddy"),value:c?l:null,options:[l],trafficId:O.default.editor_side_menu.select_gdsites_subdomain}];if(s.length>0){if(!this._hasRenderedRadios&&!c){var f=s.indexOf(i);f!==-1&&(s.splice(f,1),s.unshift(i))}d.push({type:k.RADIO,showCheckmark:!0,property:E.default.DOMAIN_NAME,label:t("domainUseOwn"),value:c?null:i,options:s,trafficId:O.default.editor_side_menu.select_custom_gd_domain})}return(0,p.fromJS)(d)}}]),t})(s.Component);D.contextTypes={executeAction:s.PropTypes.func.isRequired,getIntlString:s.PropTypes.func.isRequired,getStore:s.PropTypes.func.isRequired},D.defaultProps={domainName:"",defaultDomainName:"",availableDomains:new p.List},t.default=(0,g.subscribeToStores)(D,[b.default.DOMAIN,b.default.WEBSITE],(function(e){var t=u(e,2),n=t[0],r=t[1],o=r.getDomainName().toLowerCase(),a=r.getDpsSubdomain(),i=n.getAvailableDomainNames(),l=r.getBusinessName();return{domainName:o,defaultDomainName:a,availableDomains:i,businessName:l}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(5),f=r(d),p=n(4),h=n(15),m=n(11),g=n(6),_=n(178),y=n(3),b=r(y),v=n(9),E=r(v),T=n(65),O=r(T),P=n(63),w=r(P),I=n(113),S=r(I),C=n(80),x=r(C),k=h.constants.editors,D={signUp:{text:"googleAnalyticsSignUp",url:"https://www.google.com/analytics",trafficEvent:E.default.editor_side_menu.redirect_to_ga_signup},findID:{text:"googleAnalyticsFindId",url:"https://support.google.com/analytics/answer/1032385",trafficEvent:E.default.editor_side_menu.redirect_to_find_tracking_id}},A=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=f.default.shouldComponentUpdate.bind(n),n.handleBackClick=n.handleBackClick.bind(n),n.handleBlur=n.handleBlur.bind(n),n}return i(t,e),l(t,[{key:"handleBackClick",value:function(){this.props.handlePopView()}},{key:"handleBlur",value:function(e,t){var n=(0,_.convertDataToFieldProperties)(t,e);n&&(this.context.executeAction(w.default,n),(0,m.logEvent)({code:E.default.editor_side_menu.change_tracking_id}))}},{key:"renderLink",value:function(e){var t=this.context.getIntlString;return c.default.createElement("a",{href:e.url,target:"_blank","data-traffic2":e.trafficEvent},c.default.createElement("div",{className:"settings-link"},t(e.text)))}},{key:"convertPropsToFields",value:function(){var e=this.context.getIntlString,t=this.props.gaTrackingID;return p.List.of((0,p.Map)({type:k.VALIDATE,label:e("trackingID"),property:O.default.GA_TRACKING_ID,value:t,placeholder:e("trackingIDPlaceholder"),validate:h.utils.validateTrackingID,validationErrorMsg:"trackingIDErrorMessage"}))}},{key:"render",value:function(){var e=this.context.getIntlString,t=this.convertPropsToFields();return c.default.createElement("div",{className:"settings-panel field-set-preview-container"},c.default.createElement(x.default,{title:e("googleAnalytics"),onBackClick:this.handleBackClick}),c.default.createElement("div",{className:"settings-content"},c.default.createElement("div",{className:"settings-heading"},e("googleAnalyticsHeading")),c.default.createElement("div",{className:"settings-message"},e("googleAnalyticsDescriptionExt")),c.default.createElement("div",{className:"settings-link-container"},this.renderLink(D.signUp),this.renderLink(D.findID)),c.default.createElement("div",{className:"settings-content"},c.default.createElement(S.default,{fields:t,onBlur:this.handleBlur}))))}}]),t})(s.Component);A.contextTypes={executeAction:s.PropTypes.func.isRequired,getIntlString:s.PropTypes.func.isRequired},t.default=(0,g.subscribeToStores)(A,[b.default.WEBSITE],(function(e){var t=u(e,1),n=t[0];return{gaTrackingID:n.getGATrackingID()}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(11),p=n(80),h=r(p),m=n(9),g=r(m),_=n(21),y=r(_),b=n(35),v=r(b),E=n(167),T=r(E),O=n(1114),P=r(O),w=n(8),I=r(w),S=(function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(e),e.handleBackClick=e.handleBackClick.bind(e),e.handleResetClick=e.handleResetClick.bind(e),e}return i(t,e),u(t,[{key:"handleBackClick",value:function(){this.props.handlePopView()}},{key:"handleResetClick",value:function(e){(0,f.logEvent)({code:g.default.editor_side_menu.clear_all_content_button,domEvent:e}),this.context.executeAction(T.default),this.context.executeAction(v.default,{modal:s.default.createElement(P.default,null),forceModal:!0})}},{key:"render",value:function(){var e=this.context.getIntlString;return s.default.createElement("div",{className:"settings-panel field-set-preview-container"},s.default.createElement(h.default,{title:e("resetWebsite"),onBackClick:this.handleBackClick}),s.default.createElement("div",{className:"settings-content"},s.default.createElement("div",{className:"settings-heading"},e("doYouWantToStartOver")),s.default.createElement("div",{className:"settings-message"},e("explainStartOverProcess"),s.default.createElement("div",{className:"mt-20"},s.default.createElement(y.default,{type:"dark danger",className:"btn-sm",onClick:this.handleResetClick,"data-aid":I.default.RESET_WEBSITE_SETTINGS_OK},e("ok"))))))}}]),t})(l.Component);S.contextTypes={executeAction:l.PropTypes.func.isRequired,getIntlString:l.PropTypes.func.isRequired},t.default=S,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(5),f=r(d),p=n(89),h=n(1125),m=r(h),g=n(1126),_=r(g),y=n(1130),b=r(y),v=n(1127),E=r(v),T=n(1128),O=r(T),P=n(6),w=n(3),I=r(w),S=n(9),C=r(S),x=n(38),k=r(x),D=n(43),A=r(D),M=n(80),N=r(M),R=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=f.default.shouldComponentUpdate.bind(n),n.handleBackClick=n.handleBackClick.bind(n),n.state={openPaneStack:[]},n}return i(t,e),l(t,[{key:"handleBackClick",value:function(){this.props.handlePopView()}},{key:"handlePreviewClick",value:function(e){var t=e.component;t?this.props.handlePushView(c.default.createElement(t,this.props)):"DOMAIN"===e.id&&this.props.onDomainClick()}},{key:"renderSettingsContent",value:function(){var e=this,t=this.getSettingsPanes();return c.default.createElement(A.default,null,t.map((function(t,n){return c.default.createElement(k.default,{title:t.buttonLabel,description:t.description,ignoreArrow:!t.component,id:t.id,key:n,trafficId:t.trafficId,onClick:e.handlePreviewClick.bind(e,t)})})))}},{key:"render",value:function(){var e=this.context.getIntlString;return c.default.createElement("div",{className:"settings-panel field-set-preview-container"},c.default.createElement(N.default,{title:e("settings"),onBackClick:this.handleBackClick}),this.renderSettingsContent())}},{key:"getSettingsPanes",value:function(){var e=this.props,t=e.domainName,n=e.isMobile,r=this.context,o=r.getIntlString,a=r.getStore,i=a(I.default.CONFIG),u=i.getFeatureFlag("enableExternalDomains"),l=i.getFeatureFlag("enableWebsiteReset"),s=[{component:m.default,title:o("businessProfile"),buttonLabel:o("businessProfile"),description:o("businessProfileDescription"),headerText:o("businessProfileDescriptionExt"),id:"BUSINESS_PROFILE",trafficId:C.default.editor_side_menu.launch_business_profile_settings},{component:u?null:_.default,title:o("domain"),buttonLabel:o("domain"),description:(0,p.toUnicode)(t),id:"DOMAIN",trafficId:C.default.editor_side_menu.launch_domain_settings},{component:b.default,title:o("socialAccounts"),buttonLabel:o("socialAccounts"),description:o("socialLinksDescription"),id:"SOCIAL_ACCOUNTS",trafficId:C.default.editor_side_menu.launch_social_account_settings},{component:E.default,title:o("googleAnalytics"),buttonLabel:o("googleAnalytics"),description:o("googleAnalyticsDescription"),id:"GOOGLE_AN",trafficId:C.default.editor_side_menu.launch_google_analytics_settings}];return l&&!n&&s.push({component:O.default,title:o("resetWebsite"),buttonLabel:o("resetWebsite"),description:o("resetWebsiteDescription"),id:"RESET_WEBSITE",trafficId:C.default.editor_side_menu.launch_reset_website_settings}),s}}]),t})(s.Component);R.contextTypes={getStore:s.PropTypes.func.isRequired,executeAction:s.PropTypes.func.isRequired,getIntlString:s.PropTypes.func.isRequired},t.default=(0,P.subscribeToStores)(R,[I.default.WEBSITE,I.default.APP],(function(e){var t=u(e,2),n=t[0],r=t[1];return{domainName:n.getDomainName(),isMobile:r.isMobile()}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var l,s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),c=n(1),d=r(c),f=n(5),p=r(f),h=n(11),m=n(80),g=r(m),_=n(237),y=r(_),b=n(9),v=r(b),E=n(63),T=r(E),O=n(65),P=r(O),w=n(178),I=(l={},u(l,P.default.FACEBOOK_PROFILE,v.default.editor_side_menu.change_facebook_profile),u(l,P.default.TWITTER_PROFILE,v.default.editor_side_menu.change_twitter_profile),u(l,P.default.INSTAGRAM_PROFILE,v.default.editor_side_menu.change_instagram_profile),u(l,P.default.PINTEREST_PROFILE,v.default.editor_side_menu.change_pinterest_profile),u(l,P.default.LINKEDIN_PROFILE,v.default.editor_side_menu.change_linkedin_profile),u(l,P.default.YOUTUBE_PROFILE,v.default.editor_side_menu.change_youtube_profile),u(l,P.default.GOOGLEPLUS_PROFILE,v.default.editor_side_menu.change_googleplus_profile),l),S=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n.handleBackClick=n.handleBackClick.bind(n),n.handleChange=n.handleChange.bind(n),n}return i(t,e),s(t,[{key:"handleBackClick",value:function(){this.props.handlePopView()}},{key:"handleChange",value:function(e,t){var n=(0,w.convertDataToFieldProperties)(t,e);n&&(this.context.executeAction(T.default,n),(0,h.logEvent)({code:I[e.property]}))}},{key:"render",value:function(){var e=this.context.getIntlString;return d.default.createElement("div",{className:"settings-panel field-set-preview-container"},d.default.createElement(g.default,{title:e("socialAccounts"),onBackClick:this.handleBackClick}),d.default.createElement("div",{className:"settings-content"},d.default.createElement(y.default,{handleChange:this.handleChange,handleBlur:this.handleChange})))}}]),t})(c.Component);S.contextTypes={executeAction:c.PropTypes.func.isRequired,getIntlString:c.PropTypes.func.isRequired},t.default=S,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(60),p=r(f),h=n(10),m=r(h),g=n(8),_=r(g),y=n(128),b=r(y),v=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={useTransition:!1},n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n}return i(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){this.props.route===m.default.PREVIEW_DESKTOP&&e.route!==m.default.PREVIEW_DESKTOP&&this.setState({useTransition:!0})}},{key:"render",value:function(){var e=this.props,t=e.route,n=e.items,r=e.style,o=this.state.useTransition,a=this.context.getIntlString,i=s.default.createElement("div",{key:"editor-tab-bar",className:"editor-tab-bar row"},s.default.createElement("div",{className:"btn-group btn-group-justified"},n.map((function(e,n){var o=e.routeName,i=e.title,u=e.icon,l=e.activeAt,c=e.trafficId;return s.default.createElement("div",{key:n,className:"btn-group"},s.default.createElement(p.default,{className:"nav-btn "+(l&&l.has(t)?"active":""),style:r,"data-traffic2":c,routeName:o,replaceState:!0,"data-aid":a(i).toUpperCase()+"_"+_.default.BUTTON},s.default.createElement("span",{className:"uxicon uxicon-medium uxicon-"+u}),s.default.createElement("span",{className:"label"},a(i))))}))));return o?s.default.createElement(b.default,{transitionName:"editor-tab-bar",transitionAppear:!0,transitionAppearTimeout:300,transitionEnterTimeout:300,transitionLeaveTimeout:300},i):s.default.createElement("div",null,i)}}]),t})(l.Component);t.default=v,v.contextTypes={getIntlString:l.PropTypes.func.isRequired},v.defaultProps={style:{}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=(function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){return s.default.createElement("div",{id:"view-preview-desktop"},s.default.createElement("h1",{className:"ux-editor"},"DefaultDesktopComponent"))}}]),t})(l.Component);t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{
default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(7),f=r(d),p=(function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),l(t,[{key:"render",value:function(){var e,t=this.props,n=t.children,r=t.className,a=void 0===r?"":r,i="mobile-action-sheet",u=(0,f.default)((e={"ux-editor":!0},o(e,""+a,!0),o(e,i,!0),o(e,i+"-expanded",n),o(e,i+"-collapsed",!n),e));return c.default.createElement("div",{className:u},c.default.createElement("div",{className:"container-fluid panel panel-default action-sheet-container"},n))}}]),t})(s.Component);t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(7),p=r(f),h=n(170),m=r(h),g=n(1058),_=r(g),y=n(405),b=r(y),v=n(10),E=r(v),T=n(118),O=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={renderContext:new m.default,renderHydrated:!1},n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n.renderHydratedCallback=n.renderHydratedCallback.bind(n),n}return i(t,e),u(t,null,[{key:"childContextTypes",get:function(){return{getRenderContext:l.PropTypes.func}}}]),u(t,[{key:"renderHydratedCallback",value:function(){this.setState({renderHydrated:!0})}},{key:"getChildContext",value:function(){var e=this;return{getRenderContext:function(){return e.state.renderContext}}}},{key:"render",value:function(){var e=this.props,t=e.editingId,n=e.route,r=e.renderMode,o=n===E.default.PREVIEW_MOBILE?"mobile":"desktop",a=n===E.default.PREVIEW_DESKTOP?T.DESKTOP_RENDER_DEVICE:T.MOBILE_RENDER_DEVICE,i="edit-container-"+n.toLowerCase(),u=(0,p.default)("edit-container flex flex--column",i);return s.default.createElement("div",{className:u},s.default.createElement("div",{className:t?"edit-widget-container":""},s.default.createElement("div",{className:t?"edit-render-container":""},s.default.createElement(b.default,{viewMode:o,editingId:t,route:n,viewDevice:a,renderMode:r,disableScale:"EDIT_WIDGET"===n.substr(0,"EDIT_WIDGET".length),renderHydratedCallback:this.renderHydratedCallback}))),s.default.createElement(_.default,{editingId:t,renderHydrated:this.state.renderHydrated,route:n}))}}]),t})(l.Component);t.default=O,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(7),p=r(f),h=n(1142),m=r(h),g=n(1136),_=r(g),y=n(457),b=r(y),v=n(1091),E=r(v),T=n(453),O=r(T),P=n(986),w=r(P),I=n(1059),S=r(I),C=n(1060),x=r(C),k=n(1061),D=r(k),A=n(1133),M=r(A),N=n(454),R=r(N),j=n(444),L=r(j),U=n(408),G=r(U),B=n(10),W=r(B),F=n(1134),H=r(F),V=n(1086),q=r(V),Y=n(1145),z=r(Y),K=n(445),X=r(K),J="PAGE",Z="LINK",Q=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n}return i(t,e),u(t,[{key:"componentDidMount",value:function(){n(1377),this.props.route.match(/^EDIT/)&&n(1376),this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e=this;setTimeout((function(){e.refs.viewMobile.classList.add("full-view-height")}),0)}},{key:"renderHeader",value:function(){var e=this.props,t=e.route,n=e.editingId,r=e.showControlPanel;return s.default.createElement(m.default,{routeName:t,editingId:n,showControlPanel:r})}},{key:"renderMobileEditorStyles",value:function(){var e=this.props.route;return s.default.createElement(G.default,{route:e})}},{key:"renderContent",value:function(){var e=this.props,t=e.route,n=e.editingId,r=e.children,o=e.renderMode;if(t!==W.default.EDIT_STYLES&&t!==W.default.EDIT_COLORS&&t!==W.default.EDIT_FONTS)return s.default.createElement(H.default,{route:t,renderMode:o,editingId:n},r)}},{key:"renderFooter",value:function(){var e=this.props.route;return s.default.createElement(_.default,{route:e})}},{key:"renderOverlay",value:function(){var e=this.props.handleOverlayClick;return s.default.createElement(R.default,{click:e})}},{key:"renderControlPanel",value:function(){return s.default.createElement("div",{className:"ux-editor"},s.default.createElement(b.default,null))}},{key:"renderAddSectionPanel",value:function(){var e=this.props,t=e.route,n=e.showAddSectionPanel;return s.default.createElement(w.default,{route:t,show:!!n})}},{key:"renderAddNavigationPanel",value:function(){var e=this.props,t=e.showAddPagePanel,n=e.showAddLinkPanel,r=t&&J||n&&Z;return s.default.createElement(S.default,{editorType:r,show:!!t||!!n})}},{key:"renderEditNavigationPanel",value:function(){var e=this.props,t=e.showEditPagePanel,n=e.showEditLinkPanel,r=e.currentPage,o=e.route,a=t&&J||n&&Z;return s.default.createElement(x.default,{show:!!t||!!n,item:r,route:o,editorType:a})}},{key:"renderManagePagesPanel",value:function(){var e=this.props.showManagePagesPanel;return s.default.createElement(D.default,{show:!!e})}},{key:"renderActionSheet",value:function(){var e=this.props,t=e.forceModal,n=e.modalComponent;return t?n:s.default.createElement(M.default,null,n)}},{key:"renderFeedbackPanel",value:function(){var e=this.props,t=e.showFeedbackPanel,n=e.userVoicePromise,r="ux-editor left-drawer panel panel-default flex flex--center flex--column";return r+=" "+(t?"show":"hide")+"-feedback-container",s.default.createElement("div",{className:r},s.default.createElement(E.default,{userVoicePromise:n}))}},{key:"renderNetPromoterScore",value:function(){var e=this.props,t=e.showNetPromoterScore,n=e.renderMode;return s.default.createElement(O.default,{show:t,renderMode:n})}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.showControlPanel,r=e.renderMode,o=e.enableClickToEdit,a=(0,p.default)("view-mode-"+r.toLowerCase(),{"left-drawer-expanded":n,"left-drawer-collapsed":!n,"click-editable":o});return s.default.createElement(q.default,{mobile:"portrait",MessageComponent:z.default},s.default.createElement("div",{ref:"viewMobile",id:t,className:a},s.default.createElement(X.default,null),this.renderHeader(),this.renderMobileEditorStyles(),this.renderNetPromoterScore(),this.renderContent(),this.renderFooter(),this.renderOverlay(),this.renderControlPanel(),this.renderFeedbackPanel(),this.renderActionSheet(),this.renderAddSectionPanel(),this.renderAddNavigationPanel(),this.renderEditNavigationPanel(),this.renderManagePagesPanel()))}}]),t})(l.Component);Q.contextTypes={executeAction:l.PropTypes.func.isRequired},t.default=(0,L.default)(Q),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(227),d=r(c),f=n(458),p=r(f),h=n(8),m=r(h),g=n(10),_=r(g),y=n(9),b=r(y),v=n(21),E=r(v),T=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handlePublish=n.handlePublish.bind(n),n.getFooter=n.getFooter.bind(n),n}return i(t,e),u(t,[{key:"handlePublish",value:function(){this.context.executeAction(d.default)}},{key:"getFooter",value:function(){var e=this.props.route,t=this.context.getIntlString;switch(e){case _.default.PREVIEW_MOBILE:case _.default.PREVIEW_DESKTOP:return s.default.createElement("div",{className:"mobile-footer"},s.default.createElement(E.default,{className:"btn-block",type:"primary dark","data-aid":m.default.FOOTER_PUBLISH_SITE,onClick:this.handlePublish,"data-traffic2":b.default.editor_preview.publish_site_button_on_mobile},t("publishSite")));case _.default.EDIT_WIDGET:case _.default.EDIT_WIDGET_PROPS:return!1;default:return s.default.createElement(p.default,{route:e})}}},{key:"render",value:function(){var e=this.getFooter();return e?s.default.createElement("div",{className:"ux-editor"},s.default.createElement("footer",{className:"footer"},s.default.createElement("div",{className:"container-fluid"},e))):null}}]),t})(l.Component);t.default=T,T.contextTypes={executeAction:l.PropTypes.func.isRequired,getIntlString:l.PropTypes.func.isRequired},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=e.center,r=e.route,o=e.showControlPanel,a=t.getIntlString,u=i.default.createElement(c.default,{showControlPanel:o}),s=i.default.createElement(l.default,{routeName:h.default.PREVIEW_DESKTOP,"data-aid":g.default.EDITOR_HEADER_PREVIEW_BUTTON,renderAsButton:!0},a("preview"));return i.default.createElement(f.default,{center:n,left:u,right:s,route:r})}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=r(a),u=n(60),l=r(u),s=n(242),c=r(s),d=n(145),f=r(d),p=n(10),h=r(p),m=n(8),g=r(m);o.contextTypes={getIntlString:a.PropTypes.func.isRequired},t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){switch(e){case p.default.EDIT_WIDGET_DATA:case p.default.EDIT_WIDGET_STOCK_PHOTOS:case p.default.EDIT_WIDGET_MY_PHOTOS:case p.default.EDIT_WIDGET_PROP:case p.default.EDIT_WIDGET_EDIT_BG:case p.default.EDIT_WIDGET_EDIT_IMG:return p.default.EDIT_WIDGET_PROPS;case p.default.EDIT_WIDGET_PROP_STOCK_PHOTOS:case p.default.EDIT_WIDGET_PROP_MY_PHOTOS:case p.default.EDIT_WIDGET_PROP_EDIT_BG:case p.default.EDIT_WIDGET_PROP_EDIT_IMG:return p.default.EDIT_WIDGET_PROP;default:return p.default.EDIT_WIDGET_DATA}}function a(e){var t=e.widgetType,n=e.route,r=u.default.createElement(s.default,{className:"back-link",routeName:o(n)},u.default.createElement(_.default,{size:"medium",icon:"arrow",className:"back-arrow-icon",dataAid:m.default.EDITOR_HEADER_BACK_BUTTON})),a=t&&t.toUpperCase()||"",i=u.default.createElement(b.default,{route:p.default.EDIT});return u.default.createElement(d.default,{left:r,center:a,right:i})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),u=r(i),l=n(60),s=r(l),c=n(145),d=r(c),f=n(10),p=r(f),h=n(8),m=r(h),g=n(93),_=r(g),y=n(71),b=r(y);t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.isDeletable,n=e.widgetType,r=e.editingId,o=i.default.createElement(l.default,{className:"back-link",routeName:h.default.EDIT},i.default.createElement(y.default,{size:"medium",icon:"arrow",className:"back-arrow-icon",dataAid:g.default.EDITOR_HEADER_BACK_BUTTON})),a=n&&n.toUpperCase()||"",u=t&&i.default.createElement(c.default,{widgetId:r});return i.default.createElement(f.default,{left:o,center:a,right:u})}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=r(a),u=n(60),l=r(u),s=n(1143),c=r(s),d=n(145),f=r(d),p=n(10),h=r(p),m=n(8),g=r(m),_=n(93),y=r(_);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.widgetType,n=i.default.createElement(l.default,{className:"back-link",routeName:f.default.EDIT_WIDGET},i.default.createElement(g.default,{size:"medium",icon:"arrow",className:"back-arrow-icon",dataAid:h.default.EDITOR_HEADER_BACK_BUTTON})),r=t&&t.toUpperCase()||"",o=i.default.createElement(y.default,{route:f.default.EDIT});return i.default.createElement(c.default,{left:n,center:r,right:o})}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=r(a),u=n(60),l=r(u),s=n(145),c=r(s),d=n(10),f=r(d),p=n(8),h=r(p),m=n(93),g=r(m),_=n(71),y=r(_);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.getIntlString,r=e.showControlPanel,o=e.route,a=i.default.createElement(c.default,{showControlPanel:r}),u=i.default.createElement(l.default,{routeName:g.default.EDIT,"data-aid":y.default.EDITOR_HEADER_EDIT_BUTTON,"data-traffic2":v.default.editor_preview.edit_link_on_mobile,renderAsButton:!0},n("edit"));return i.default.createElement(f.default,{left:a,right:u,route:o},i.default.createElement(h.default,{route:o}))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=r(a),u=n(60),l=r(u),s=n(242),c=r(s),d=n(145),f=r(d),p=n(1144),h=r(p),m=n(10),g=r(m),_=n(8),y=r(_),b=n(9),v=r(b);o.contextTypes={getIntlString:a.PropTypes.func.isRequired},t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(5),f=r(d),p=n(6),h=n(3),m=r(h),g=n(10),_=r(g),y=n(1137),b=r(y),v=n(1141),E=r(v),T=n(1139),O=r(T),P=n(1138),w=r(P),I=n(1140),S=r(I),C=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=f.default.shouldComponentUpdate.bind(n),n.getNavBar=n.getNavBar.bind(n),n}return i(t,e),l(t,[{key:"getNavBar",value:function(){var e=this.props,t=e.routeName,n=e.showControlPanel,r=e.widgetType,o=e.isDeletable,a=e.editingId;switch(t){case _.default.EDIT:return c.default.createElement(b.default,{showControlPanel:n,route:t});case _.default.PREVIEW_DESKTOP:case _.default.PREVIEW_MOBILE:return c.default.createElement(E.default,{route:t,showControlPanel:n});case _.default.EDIT_STYLES:case _.default.EDIT_COLORS:case _.default.EDIT_FONTS:return c.default.createElement(b.default,{center:"styles",route:t,showControlPanel:n});case _.default.EDIT_WIDGET:return c.default.createElement(O.default,{editingId:a,widgetType:r,isDeletable:o});case _.default.EDIT_WIDGET_PROPS:return c.default.createElement(S.default,{editingId:a,widgetType:r});case _.default.EDIT_WIDGET_DATA:case _.default.EDIT_WIDGET_STOCK_PHOTOS:case _.default.EDIT_WIDGET_PROP_STOCK_PHOTOS:case _.default.EDIT_WIDGET_MY_PHOTOS:case _.default.EDIT_WIDGET_PROP_MY_PHOTOS:case _.default.EDIT_WIDGET_EDIT_BG:case _.default.EDIT_WIDGET_PROP_EDIT_BG:case _.default.EDIT_WIDGET_EDIT_IMG:case _.default.EDIT_WIDGET_PROP_EDIT_IMG:case _.default.EDIT_WIDGET_PROP:return c.default.createElement(w.default,{route:t,widgetType:r});default:return null}}},{key:"render",value:function(){return c.default.createElement("div",{className:"ux-editor"},this.getNavBar())}}]),t})(s.Component);C.contextTypes={getIntlString:s.PropTypes.func.isRequired},t.default=(0,p.subscribeToStores)(C,[m.default.WIDGET,m.default.REGISTRY],(function(e,t){var n=u(e,2),r=n[0],o=n[1],a=t.editingId,i=r.getWidgetTypeById(a)||"",l=o.isDeletable(i);return{widgetType:i,isDeletable:l}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(241),u=r(i),l=n(243),s=r(l),c=function(e){var t=e.widgetId;return a.default.createElement("div",{className:"flex--abs-center"},a.default.createElement(u.default,{modalComponent:s.default,widgetId:t}))};t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(60),u=r(i),l=n(10),s=r(l),c=n(8),d=r(c),f=n(9),p=r(f),h=[{tabRoute:s.default.PREVIEW_DESKTOP,icon:"desktop",dataAid:d.default.EDITOR_HEADER_PREVIEW_DESKTOP,trafficId:p.default.editor_preview.desktop_preview_on_mobile},{tabRoute:s.default.PREVIEW_MOBILE,icon:"mobile-phone",dataAid:d.default.EDITOR_HEADER_PREVIEW_MOBILE,trafficId:p.default.editor_preview.mobile_preview_on_mobile}],m=function(e){var t=e.navClassName,n=e.route,r=h.map((function(e,t){var r=e.dataAid,o=e.icon,i=e.tabRoute,l=e.trafficId,s=i===n?"active":"";return a.default.createElement("li",{className:s,key:t},a.default.createElement(u.default,{routeName:i,activeClass:"","data-traffic2":l},a.default.createElement("span",{className:"uxicon uxicon-"+o+" uxicon-large","data-aid":r})))}));return a.default.createElement("div",{className:"container-fluid bg-black"},a.default.createElement("ul",{className:"nav nav-tabs "+t},r))};m.defaultProps={navClassName:""},t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(1410),d=r(c),f=(function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){var e=this.context.getIntlString;return s.default.createElement("div",{className:"ux-editor rotate-device-page"},s.default.createElement("div",{className:"rotate-title text-center text-uppercase text-h3 text-primary"},e("rotateYourDevice")),s.default.createElement("div",{className:"rotate-description text-center text-muted"},e("screenBestViewed")),s.default.createElement("div",{className:"rotate-image"},s.default.createElement("img",{src:d.default})))}}]),t})(l.Component);f.contextTypes={getIntlString:l.PropTypes.func.isRequired},t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(1135),p=r(f),h=n(10),m=r(h),g=n(15),_=g.constants.renderModes,y=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n}return i(t,e),u(t,[{key:"renderEditor",value:function(){var e=this.props,t=e.route,n=e.widgetId,r=this._parseRenderMode(t);return s.default.createElement(p.default,{id:"view-mobile",route:t,renderMode:r,editingId:n})}},{key:"_parseRenderMode",value:function(e){switch(e){case m.default.PREVIEW_MOBILE:case m.default.PREVIEW_DESKTOP:return _.PREVIEW;default:return _.EDIT}}},{key:"render",value:function(){var e=this.props.route;return e===m.default.LAUNCH?null:this.renderEditor()}}]),t})(l.Component);t.default=y,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(981),p=r(f),h=n(405),m=r(h),g=n(10),_=n(15),y=_.constants.renderModes.PREVIEW,b=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n}return i(t,e),u(t,[{key:"render",value:function(){var e=this.context.getIntlString;return s.default.createElement("div",{id:"mobile-content",className:"preview-container mobile-phone-preview-container"},s.default.createElement("div",{className:"device-preview-title"},e("mobilePreview")),s.default.createElement(p.default,{skin:"mobile"},s.default.createElement(m.default,{viewMode:"mobile",route:g.PREVIEW_DESKTOP,renderMode:y,type:"mobilePreviewOnDesktop"})))}}]),t})(l.Component);t.default=b,b.contextTypes={getIntlString:l.PropTypes.func.isRequired},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(5),f=r(d),p=n(6),h=n(3),m=r(h),g=n(443),_=r(g),y=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=f.default.shouldComponentUpdate.bind(n),n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.isSaving,t=this.context.getIntlString,n=void 0;return n=e?c.default.createElement("div",{className:"save-notification-saving flex flex--center"},c.default.createElement(_.default,{className:"save-notification-progress-wheel",isIndeterminate:!0,lineThickness:.2}),c.default.createElement("div",null,t("saving"))):c.default.createElement("div",{className:"save-notification-saved flex flex--center"},c.default.createElement("div",{className:"uxicon uxicon-checkmark"}),c.default.createElement("div",{className:"hidden-lg"},t("saved")),c.default.createElement("div",{className:"visible-lg"},t("allChangesSaved"))),c.default.createElement("div",null,n)}}]),t})(s.Component);y.contextTypes={getIntlString:s.PropTypes.func.isRequired},t.default=(0,p.subscribeToStores)(y,[m.default.REQUEST],(function(e){var t=u(e,1),n=t[0];return{isSaving:n.isSaving()}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(5),f=r(d),p=n(7),h=r(p),m=n(10),g=r(m),_=n(84),y=n(6),b=n(3),v=r(b),E=n(39),T=r(E),O=n(17),P=r(O),w=(n(4),n(1062)),I=r(w),S=n(1147),C=r(S),x=n(171),k=r(x),D=n(170),A=r(D),M=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={selectedWidgetId:null,renderContextForEdit:new A.default,renderHydrated:!1},n.shouldComponentUpdate=f.default.shouldComponentUpdate.bind(n),n.handleGutterClick=n.handleGutterClick.bind(n),n}return i(t,e),l(t,[{key:"renderHydratedCallback",value:function(){this.setState({renderHydrated:!0})}}]),l(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.editingId,n=e.route;this.setState({selectedWidgetId:n!==g.default.EDIT||t?t:null})}},{key:"handleGutterClick",value:function(){var e=this.props.route;e!==g.default.EDIT_WIDGET&&e!==g.default.EDIT_ADD_SECTION&&e!==g.default.EDIT_ADD_SECTION_TYPE&&e!==g.default.EDIT_WIDGET_MUTATOR&&e!==g.default.EDIT_WIDGET_PROPS&&e!==g.default.EDIT_WIDGET_DATA&&e!==g.default.EDIT_WIDGET_STOCK_PHOTOS&&e!==g.default.EDIT_WIDGET_PROP_STOCK_PHOTOS&&e!==g.default.EDIT_WIDGET_MY_PHOTOS&&e!==g.default.EDIT_WIDGET_PROP_MY_PHOTOS&&e!==g.default.EDIT_WIDGET_EDIT_BG&&e!==g.default.EDIT_WIDGET_PROP_EDIT_BG&&e!==g.default.EDIT_WIDGET_EDIT_IMG&&e!==g.default.EDIT_WIDGET_PROP_EDIT_IMG&&e!==g.default.EDIT_WIDGET_PROP||this.context.executeAction(P.default,{routeName:g.default.EDIT,preserveScrollPosition:!0})}},{key:"render",value:function(){var e=this.props,t=e.hasAddSectionWidgetId,n=e.page,r=e.pages,o=e.route,a=e.website,i=e.widgets,u=e.renderMode,l=e.layout,s=e.freeTrialBannerDisplayed,d=this.state.selectedWidgetId,f=this.context.getIntlString,p=void 0,m=void 0,y=void 0,b=void 0,v=void 0;o===g.default.PREVIEW_DESKTOP?(y=c.default.createElement(C.default,null),b=c.default.createElement("div",{className:"device-preview-title"},f("fullPreview"))):(y=c.default.createElement(I.default,{route:o,renderContext:this.state.renderContextForEdit,renderHydrated:this.state.renderHydrated}),b=null);var E=o===g.default.PREVIEW_DESKTOP,T=(0,h.default)({flex:!0,"flex--column":!0,"preview-container":!0,inverse:E}),O=(0,h.default)({inverse:E});return v=c.default.createElement(k.default,{className:"widget-selector",hasAddSectionWidgetId:t,layout:l,website:a,page:n,pages:r,widgets:i,selectedWidgetId:d,scale:_.DEFAULT_RENDERING_SCALE,autoScale:!0,
onSelect:m,scrollPadding:100,route:o,renderMode:u,renderContext:this.state.renderContextForEdit,renderHydratedCallback:this.renderHydratedCallback.bind(this)}),c.default.createElement("div",{className:"flex flex--row"},c.default.createElement("div",{id:"tablet-content",className:T,onClick:this.handleGutterClick},c.default.createElement("div",{className:p},c.default.createElement("div",{id:"render-wrapper",className:O},b,c.default.createElement("div",{id:"render-container",className:(0,h.default)({"with-banner":s})},v)))),y)}}]),t})(s.Component);M.contextTypes={getIntlString:s.PropTypes.func.isRequired,executeAction:s.PropTypes.func.isRequired},t.default=(0,y.subscribeToStores)(M,[v.default.PAGE,v.default.ROUTE,v.default.WEBSITE,v.default.WIDGET,v.default.APP,T.default.GET_WIDGET_RENDER_DATA,T.default.GET_LAYOUT_RENDER_DATA],(function(e){var t=u(e,7),n=t[0],r=t[1],o=t[2],a=t[3],i=t[4],l=t[5],s=t[6];return{hasAddSectionWidgetId:!!r.getCurrentRoute().params.addWidgetId,page:n.getCurrentPage(),pages:n.getPages(),website:o.getCurrentWebsite(),widgets:l,layout:s,headerWidget:a.getHeader(),freeTrialBannerDisplayed:i.getShowFreeTrialBanner()}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(7),f=r(d),p=n(10),h=n(1151),m=r(h),g=n(1152),_=r(g),y=n(242),b=r(y),v=n(458),E=r(v),T=n(1148),O=r(T),P=n(452),w=r(P),I=n(456),S=r(I),C=n(6),x=n(3),k=r(x),D=(function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"renderTabBar",value:function(){var e=this.props.route;return e===p.PREVIEW_DESKTOP?null:c.default.createElement(E.default,{route:e})}},{key:"renderNavBarButtons",value:function(){var e=this.props.route,t={PREVIEW_DESKTOP:_.default}[e]||m.default;return c.default.createElement(t,null)}},{key:"render",value:function(){var e=this.props,t=e.arePagesEnabled,n=e.route,r=e.showControlPanel,o=e.isShopPageLinkEnabled,a=e.shopPage,i=e.currentPageId,u=n===p.PREVIEW_DESKTOP,l=u?null:c.default.createElement(O.default,null),s=t&&!u,d=o&&a&&i!==a.get("id"),h=(0,f.default)({navbar:!0,"navbar-default":!u,"navbar-inverse":u,tablet:!0});return c.default.createElement("div",{className:"ux-editor"},c.default.createElement("nav",{className:h},c.default.createElement("div",{className:"container-fluid tablet-nav-bar flex flex--space-between flex--center"},c.default.createElement("ul",{className:"nav navbar-nav flex"},c.default.createElement("li",{className:"flex flex--center"},c.default.createElement(b.default,{inverse:u,showControlPanel:r})),s&&c.default.createElement(w.default,{hasAdjacentLink:d}),s&&d&&c.default.createElement("li",{className:"flex flex--center"},c.default.createElement(S.default,{shopPage:a}))),this.renderTabBar(),c.default.createElement("div",{className:"flex flex--center"},l,this.renderNavBarButtons()))))}}]),t})(s.Component);t.default=(0,C.subscribeToStores)(D,[k.default.CONFIG,k.default.PAGE],(function(e){var t=u(e,2),n=t[0],r=t[1];return{arePagesEnabled:n.getFeatureFlag("enablePages")&&n.getPlanFeature("multiPage"),isShopPageLinkEnabled:n.getFeatureFlag("enableShopPageLink")&&n.getPlanFeature("commerce"),shopPage:r.getPageByRoutePath("/shop"),currentPageId:r.getCurrentPageId()}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),s=n(1),c=r(s),d=n(5),f=r(d),p=n(10),h=n(6),m=n(9),g=r(m),_=n(459),y=r(_),b=n(138),v=r(b),E=n(3),T=r(E),O=n(244),P=r(O),w=[{btnRoute:p.PREVIEW_DESKTOP,name:"preview",trafficId:g.default.edit_site.preview_button_on_desktop,type:"primary dark"}],I=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=f.default.shouldComponentUpdate.bind(n),n.generateManageStoreButton=n.generateManageStoreButton.bind(n),n}return i(t,e),l(t,[{key:"generateManageStoreButton",value:function(){var e=this.props.olsAdminUrl;return{name:"manageStore",trafficId:g.default.edit_site.manage_shop_button_on_desktop,type:"default dark",actions:[{type:v.default,payload:{url:e,isResolved:!0}}]}}},{key:"render",value:function(){var e=this.props,t=e.showManageStoreButton,n=e.olsAdminUrl,r=w;return t&&n&&(r=[this.generateManageStoreButton()].concat(w)),c.default.createElement(y.default,{buttons:r})}}]),t})(s.Component);I.contextTypes={getStore:s.PropTypes.func.isRequired},t.default=(0,h.subscribeToStores)(I,[T.default.CONFIG,T.default.ADDON],(function(e){var t=u(e,2),n=t[0],r=t[1],o=r&&r.getAddonLaunchUrls()||{},a=o[P.default.OLS],i=n.getFeatureFlag("enableNavBarManageShop"),l=i&&r.getShowOlsAdminLink();return{showManageStoreButton:l,olsAdminUrl:a}})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(227),p=r(f),h=n(10),m=n(9),g=r(m),_=n(459),y=r(_),b=[{btnRoute:h.EDIT,name:"edit",trafficId:g.default.editor_preview.edit_button_on_desktop,type:"default"},{actions:[{type:p.default}],name:"publish",trafficId:g.default.editor_preview.publish_button_on_desktop}],v=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n}return i(t,e),u(t,[{key:"render",value:function(){return s.default.createElement(y.default,{buttons:b})}}]),t})(l.Component);t.default=v,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(8),p=r(f),h=n(60),m=r(h),g=n(21),_=r(g),y=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n.handleClick=n.handleClick.bind(n),n}return i(t,e),u(t,[{key:"handleClick",value:function(e){for(var t=this.props.actions,n=0;n<t.length;n++){var r=t[n],o=r.type,a=r.payload;this.context.executeAction(o,a)}e.preventDefault()}},{key:"render",value:function(){var e,t=this.props,n=t.btnRoute,r=t.name,o=t.trafficId,a=t.type,i=this.context.getIntlString,u=r.replace(/ /g,"_"),l=u.toUpperCase(),c=p.default.EDITOR_HEADER+"_"+l+"_"+p.default.BUTTON,d={minWidth:"80px",padding:"5px 20px"};return e=n?s.default.createElement(m.default,{routeName:n,style:{paddingRight:0}},s.default.createElement(_.default,{type:a,className:"btn-sm","data-aid":c,"data-traffic2":o,style:d},i(r))):s.default.createElement(_.default,{type:a,onClick:this.handleClick,className:"btn-sm","data-aid":c,"data-traffic2":o,style:d},i(r)),s.default.createElement("li",null,e)}}]),t})(l.Component);t.default=y,y.contextTypes={executeAction:l.PropTypes.func.isRequired,getIntlString:l.PropTypes.func.isRequired},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),l=n(1),s=r(l),c=n(5),d=r(c),f=n(7),p=r(f),h=n(10),m=r(h),g=n(15),_=n(1150),y=r(_),b=n(1149),v=r(b),E=n(457),T=r(E),O=n(454),P=r(O),w=n(444),I=r(w),S=n(453),C=r(S),x=n(445),k=r(x),D=g.constants.renderModes,A=(function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={fontLoaded:!1},n.shouldComponentUpdate=d.default.shouldComponentUpdate.bind(n),n}return i(t,e),u(t,[{key:"componentDidMount",value:function(){n(1379),n(1378)}},{key:"_parseRenderMode",value:function(e){switch(e){case m.default.PREVIEW_MOBILE:case m.default.PREVIEW_DESKTOP:return D.PREVIEW;default:return D.EDIT}}},{key:"render",value:function(){var e=this.props,t=e.route,n=e.showControlPanel,r=e.showNetPromoterScore,o=e.widgetId,a=e.handleOverlayClick,i=e.userVoicePromise,u=e.modalComponent,l=e.enableClickToEdit;if(t===m.default.LAUNCH)return null;var c=this._parseRenderMode(t),d=(0,p.default)("view-tablet","view-mode-"+c.toLowerCase(),{"left-drawer-expanded":n,"left-drawer-collapsed":!n,"click-editable":l});return s.default.createElement("div",{id:"view-tablet",className:d},s.default.createElement(k.default,null),s.default.createElement(y.default,{route:t,showControlPanel:n}),s.default.createElement(C.default,{show:c===D.PREVIEW&&r}),s.default.createElement(v.default,{route:t,renderMode:c,editingId:o}),s.default.createElement("div",{className:"ux-editor"},s.default.createElement(T.default,{hideFeedbackInPanel:!0,showFeedbackButton:!n,userVoicePromise:i})),u,s.default.createElement(P.default,{click:a}))}}]),t})(l.Component);A.contextTypes={executeAction:l.PropTypes.func.isRequired},t.default=(0,I.default)(A),e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={DPS_SUBDOMAIN_HOST:"dps.subdomainHost"},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={GODADDY:"godaddy",DPS_SUBDOMAIN:"dps",EXTERNAL:"external"},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={DEFAULT_DPS_SUBDOMAIN_HOST:"dev.godaddysites.com"},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=r(o);t.default=(0,a.default)({APPLY_QUEUED_ACTIONS:null,ROLLBACK_QUEUED_ACTIONS:null}),e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={CONTENT:1,WRAPPER:2,NAVBAR:10,EDITORS:10,PANEL:20,MODAL:1e3,SIDE_PANEL:1e4},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={transitionTension:150,transitionFriction:16},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={TITLE:"title",KEYWORDS:"properties.keywords",DESCRIPTION:"properties.description"},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={TRIAL:"TRIAL",PAID:"PAID"},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={YEAR:"YEAR",MONTH:"MONTH"},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=a(e,2),n=t[0],r=t[1],o=n.getThemeIdOrDefault(),i=r.getLayoutComponent(o);i||(i=r.getLayoutComponent(n.getDefaultLayout()));var u=new c.Map({id:n.getCurrentWebsiteId(),Component:i});return u}Object.defineProperty(t,"__esModule",{value:!0});var a=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),i=n(3),u=r(i),l=n(119),s=r(l),c=n(4);t.default={stores:[u.default.WEBSITE,u.default.REGISTRY],reducer:(0,s.default)(o)},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=a(e,2),n=t[0],r=t[1],o=r.getNavigation();return o.map((function(e){return n.getPage(e)})).filter((function(e){return!!e}))}Object.defineProperty(t,"__esModule",{value:!0});var a=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),i=n(119),u=r(i),l=n(3),s=r(l);t.default={stores:[s.default.PAGE,s.default.WEBSITE],reducer:(0,u.default)(o)},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=a(e,2),n=t[0],r=t[1],o=n.getRootWidgetIds(),i=r.getFooter(),u=r.getHeader(),l=o.map((function(e){return r.getWidgetById(e)})).filter((function(e){return Boolean(e)}));return l.unshift(u).push(i)}Object.defineProperty(t,"__esModule",{value:!0});var a=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),i=n(119),u=r(i),l=n(3),s=r(l);t.default={stores:[s.default.PAGE,s.default.WIDGET],reducer:(0,u.default)(o)},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=u(e,7),n=t[0],r=t[1],o=t[2],a=t[3],i=t[4],s=t[5],d=t[6],f=i.getBusinessCategory(),p=a.getPhotosByCategory(f).concat(a.getPhotosByCategory("generic")).toJS(),h=n.getAddableWidgetTypes(),m=n.getMultipleWidgetTypes();return h.filter((function(e){var t=n.getAllowedPerWebsite(e),a=o.getPagesByTag(e).size===t||r.getPageWidgetsByType(e).size===t;return!a&&(m.indexOf(e)>=0||!r.containsWidgetType(e))})).map((function(e){var t=n.generateAlternateLayouts((0,l.Map)({type:e})),r=n.getVariationManifestsByType(e);return t&&(t=t.map((function(t){var o=null;if("ABOUT"===e){var a=u(p,3),i=a[0],f=a[1],h=a[2];o={cardImage1:i,cardImage2:f,cardImage3:h}}else if("CONTENT"===e){var m=u(p,3),g=m[0],_=m[1],y=m[2];o={image1:g,image2:_,image3:y}}else if("PAYMENT"===e){var b=u(p,1),v=b[0],E=d.getCurrentRoute().params.locale,T=s.getCurrencyDefaultsByLocale(),O=T[E];o={image:v,currencyCode:O}}else if("GALLERY"===e)o={galleryImages:p.slice(0,3).map((function(e){return{image:e,rotation:0,position:"center"}}))};else if("SUBSCRIBE"===e){var P=u(p,1),w=P[0];o={subscribeBackgroundImage:w}}var I=r.get(t.get("id"),new l.Map).toJS(),S=n.getManifestExtensions().toJS(),C=c.default.generateWidget({widgetType:e,templateData:o,manifest:I,extensions:S});return(0,l.fromJS)(C||new l.Map).mergeDeep(t)}))),(0,l.fromJS)({label:e,presets:t})})).filter((function(e){var t=e.get("presets");return!t||t.size>0}))}function a(e,t,n,r){var o=[];return e.forEach((function(e){if(e.hasOwnProperty("group")){var i=a(e.types,t,n,r);i.isEmpty()||o.push(new l.Map({label:e.group,sectionTypes:i}))}else{var u=n&&n[e],s=t.find((function(t){return t.get("label")===e}));s?o.push(s):u&&!r.includes(e)&&o.push(new l.Map({label:e,promoTier:u}))}})),new l.List(o)}function i(e){var t=o(e),n=e[5],r=e[0],i=n.getWidgetPromoTiers(),u=n.getWidgetGroups(),l=r.getAddableWidgetTypes();return a(u,t,i,l)}Object.defineProperty(t,"__esModule",{value:!0}),t.getSectionTypeGroups=void 0;var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=n(4),s=n(1207),c=r(s),d=n(3),f=r(d),p=n(119),h=r(p),m=[f.default.REGISTRY,f.default.WIDGET,f.default.PAGE,f.default.STOCK_PHOTO,f.default.WEBSITE,f.default.CONFIG,f.default.ROUTE];t.default={stores:m,reducer:(0,h.default)(o)};var g={stores:m,reducer:(0,h.default)(i)};t.getSectionTypeGroups=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=a(e,2),n=t[0],r=t[1],o=n.getStockImages().map((function(e){return e.get("url")})),i=n.getBusinessCategory(),u=r.getPhotosByCategory(i,!1);u||(u=r.getPhotosByCategory("generic"));var l=u.filter((function(e){return!o.includes(e)})).toSet();return l.toList()}Object.defineProperty(t,"__esModule",{value:!0});var a=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),i=n(3),u=r(i),l=n(119),s=r(l);t.default={stores:[u.default.WEBSITE,u.default.STOCK_PHOTO],reducer:(0,s.default)(o)},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=a(e,2),n=t[0],r=t[1],o=n.getCurrentWidgets().toList().map((function(e){return e.merge({Component:r.getVariationComponentForWidget(e)})})).filter((function(e){return!!e.get("Component")}));return o}Object.defineProperty(t,"__esModule",{value:!0});var a=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),i=n(3),u=r(i),l=n(119),s=r(l);t.default={stores:[u.default.WIDGET,u.default.REGISTRY],reducer:(0,s.default)(o)},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=a(e,2),n=t[0],r=t[1];if(r.getCurrentRoute().params.addWidgetId){var o=n.getCurrentPage(),i=o.get("rootWidgets").toJS(),u=r.getCurrentRoute().params.addWidgetId;return i.indexOf(u)+1}}Object.defineProperty(t,"__esModule",{value:!0});var a=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),i=n(3),u=r(i);t.default={stores:[u.default.PAGE,u.default.ROUTE],reducer:o},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(2),u=n(10),l=r(u),s=n(975),c=r(s),d=n(1089),f=r(d),p=n(440),h=r(p),m=n(226),g=r(m),_=n(941),y=r(_),b=n(395),v=r(b),E=n(955),T=r(E),O=n(398),P=r(O),w=n(1206),I="[0-9a-fA-F\\-]{36}",S="[a-z]{2,3}-[A-Z]{2}",C=":locale("+S+")",x=C+"/editor",k=":websiteId("+I+")",D=":pageId("+I+")",A=":widgetId("+I+")",M=":addWidgetId("+I+")",N=(a={},o(a,l.default.REDIRECT_LOCALE,{path:"/",action:(0,w.nonBlocking)(T.default),handler:h.default}),o(a,l.default.SELECT_WEBSITE,{path:"/"+C,action:(0,w.nonBlocking)(P.default),handler:h.default}),o(a,l.default.REDIRECT,{path:"/"+C+"/redirect",handler:c.default}),o(a,l.default.LAUNCH,{path:"/"+C+"/launch",action:(0,w.nonBlocking)(y.default),handler:h.default}),o(a,l.default.WEBSITE,{path:"/"+x+"/"+k,action:(0,w.nonBlocking)(g.default),handler:h.default}),o(a,l.default.FULL_PAGE,{path:"/"+x+"/"+k+"/"+D+"/fullpage/:viewMode",action:g.default,handler:n(1088)}),o(a,l.default.PREVIEW_DESKTOP,"/"+x+"/"+k+"/"+D),o(a,l.default.PREVIEW_MOBILE,"/"+x+"/"+k+"/"+D+"/preview/mobile"),o(a,l.default.EDIT,"/"+x+"/"+k+"/"+D+"/edit"),o(a,l.default.EDIT_ADD_SECTION,"/"+x+"/"+k+"/"+D+"/edit/addSectionType/"+M+"/sectionType/:sectionType*"),o(a,l.default.EDIT_ADD_SECTION_TYPE,"/"+x+"/"+k+"/"+D+"/edit/addSectionType/"+M+"/sectionGroups/:sectionType*"),o(a,l.default.EDIT_ADD,"/"+x+"/"+k+"/"+D+"/edit/add"),o(a,l.default.EDIT_ORDER,"/"+x+"/"+k+"/"+D+"/edit/order"),o(a,l.default.EDIT_STYLES,"/"+x+"/"+k+"/"+D+"/edit/styles"),o(a,l.default.EDIT_COLORS,"/"+x+"/"+k+"/"+D+"/edit/styles/colors"),o(a,l.default.EDIT_FONTS,"/"+x+"/"+k+"/"+D+"/edit/styles/fonts"),o(a,l.default.EDIT_WIDGET,"/"+x+"/"+k+"/"+D+"/edit/"+A),o(a,l.default.EDIT_WIDGET_MUTATOR,"/"+x+"/"+k+"/"+D+"/edit/"+A+"/mutator/:mutatorPath(.+)"),o(a,l.default.EDIT_WIDGET_PROPS,"/"+x+"/"+k+"/"+D+"/edit/"+A+"/fieldset/:fieldSet"),o(a,l.default.EDIT_WIDGET_STOCK_PHOTOS,"/"+x+"/"+k+"/"+D+"/edit/"+A+"/fieldset/:fieldSet/stockphotos"),o(a,l.default.EDIT_WIDGET_MY_PHOTOS,"/"+x+"/"+k+"/"+D+"/edit/"+A+"/fieldset/:fieldSet/mylibrary"),o(a,l.default.EDIT_WIDGET_EDIT_BG,"/"+x+"/"+k+"/"+D+"/edit/"+A+"/fieldset/:fieldSet/editbg"),o(a,l.default.EDIT_WIDGET_PROP_EDIT_BG,"/"+x+"/"+k+"/"+D+"/edit/"+A+"/fieldset/:fieldSet/prop/:prop/editbg"),o(a,l.default.EDIT_WIDGET_EDIT_IMG,"/"+x+"/"+k+"/"+D+"/edit/"+A+"/fieldset/:fieldSet/editimg"),o(a,l.default.EDIT_WIDGET_PROP_EDIT_IMG,"/"+x+"/"+k+"/"+D+"/edit/"+A+"/fieldset/:fieldSet/prop/:prop/editimg"),o(a,l.default.EDIT_WIDGET_PROP,"/"+x+"/"+k+"/"+D+"/edit/"+A+"/fieldset/:fieldSet/prop/:prop"),o(a,l.default.EDIT_WIDGET_PROP_STOCK_PHOTOS,"/"+x+"/"+k+"/"+D+"/edit/"+A+"/fieldset/:fieldSet/prop/:prop/stockphotos"),o(a,l.default.EDIT_WIDGET_PROP_MY_PHOTOS,"/"+x+"/"+k+"/"+D+"/edit/"+A+"/fieldset/:fieldSet/prop/:prop/mylibrary"),o(a,l.default.EDIT_WIDGET_DATA,"/"+x+"/"+k+"/"+D+"/edit/"+A+"/fieldset/:fieldSet/dataObject/:dataObjectProperty"),o(a,l.default.STYLE_GUIDE,{path:"/styleGuide",handler:n(1078)}),a),R={method:"get",handler:f.default,action:v.default};t.default=(0,i.mapValues)(N,(function(e){return"string"==typeof e&&(e={path:e}),(0,i.defaults)(e,R)})),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.accountId;return e.executeAction(i.default,{url:l.default.ACCOUNT_WEBSITE,segments:{accountId:n},metadata:{type:c.default.GET_ACCOUNT_WEBSITE,param:n}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(22),i=r(a),u=n(24),l=r(u),s=n(16),c=r(s);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return e.executeAction(i.default,{url:l.default.CONFIG,metadata:{type:c.default.GET_CONFIG}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(22),i=r(a),u=n(24),l=r(u),s=n(16),c=r(s);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.websiteId;return e.executeAction(i.default,{url:l.default.DOCUMENTS,segments:{websiteId:n},metadata:{type:c.default.GET_DOCUMENTS,param:n}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(22),i=r(a),u=n(24),l=r(u),s=n(16),c=r(s);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.requestId,r=t.websiteId,o=t.data,a=t.filename,u=t.updateProgress,s=t.basePath,d={url:l.default.DOCUMENTS,method:"post",segments:{websiteId:r},metadata:{id:n,type:c.default.POST_DOCUMENTS,param:r},data:o,filename:a,updateProgress:u};return s&&(d.params={basePath:s}),e.executeAction(i.default,d)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(22),i=r(a),u=n(24),l=r(u),s=n(16),c=r(s);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.domain;return e.executeAction(i.default,{url:l.default.DOMAIN_WEBSITE,segments:{domain:n},metadata:{type:c.default.GET_DOMAIN_WEBSITE,param:n},enableReauth:!1,fullResponse:!0})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(22),i=r(a),u=n(24),l=r(u),s=n(16),c=r(s);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.accountId;return e.executeAction(i.default,{url:l.default.AVAILABLE_DOMAINS,segments:{accountId:n},metadata:{type:c.default.GET_DOMAINS,param:n}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(22),i=r(a),u=n(24),l=r(u),s=n(16),c=r(s);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.websiteId,r=t.pageId;return e.executeAction(i.default,{url:u.PAGE,method:"delete",segments:{websiteId:n,pageId:r},metadata:{type:l.DELETE_PAGE,param:r}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(22),i=r(a),u=n(24),l=n(16);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.websiteId,r=t.pageId;return e.executeAction(i.default,{url:l.default.PAGE,segments:{websiteId:n,pageId:r},metadata:{type:c.default.GET_PAGE,param:r}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(22),i=r(a),u=n(24),l=r(u),s=n(16),c=r(s);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.widgetId,r=t.websiteId,o=t.pageId;return e.executeAction(i.default,{url:u.PAGE_WIDGET,method:"delete",segments:{websiteId:r,pageId:o,widgetId:n},metadata:{type:s.default.DELETE_PAGE_WIDGET,param:n}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(22),i=r(a),u=n(24),l=n(16),s=r(l);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.websiteId,r=t.pageId;return e.executeAction(i.default,{url:l.default.PAGE_WIDGETS,segments:{websiteId:n,pageId:r},metadata:{type:c.default.GET_PAGE_WIDGETS,param:r}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(22),i=r(a),u=n(24),l=r(u),s=n(16),c=r(s);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.widget,r=t.position,o=n.websiteId,a=n.pageId,u={url:l.default.PAGE_WIDGETS,method:"post",segments:{websiteId:o,pageId:a},metadata:{type:c.default.POST_PAGE_WIDGET,param:a},data:n};return"undefined"!=typeof r&&(u.params={position:r}),e.executeAction(i.default,u)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(22),i=r(a),u=n(24),l=r(u),s=n(16),c=r(s);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.websiteId;return e.executeAction(i.default,{url:l.default.PAGES,segments:{websiteId:n},metadata:{type:c.default.GET_PAGES,param:n}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(22),i=r(a),u=n(24),l=r(u),s=n(16),c=r(s);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.websiteId;return e.executeAction(i.default,{url:l.default.PAGES,method:"post",segments:{websiteId:n},metadata:{type:c.default.POST_PAGE,param:n},data:t})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(22),i=r(a),u=n(24),l=r(u),s=n(16),c=r(s);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.pfid;
return e.executeAction(i.default,{url:l.default.PRICE_CATALOG,segments:{pfid:n},metadata:{param:{pfid:n},type:c.default.GET_PRICE_CATALOG}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(22),i=r(a),u=n(24),l=r(u),s=n(16),c=r(s);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.shopperId;return e.executeAction(i.default,{url:l.default.PAYMENT_METHODS,segments:{shopperId:n},timeout:2e3,metadata:{type:c.default.GET_SHOPPER_PAYMENT_METHODS,param:n}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(22),i=r(a),u=n(24),l=r(u),s=n(16),c=r(s);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.accountId;return e.executeAction(i.default,{url:l.default.SUBSCRIPTION,segments:{accountId:n},metadata:{type:c.default.GET_SHOPPER_SUBSCRIPTION,param:n}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(22),i=r(a),u=n(24),l=r(u),s=n(16),c=r(s);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.accountId;return e.executeAction(i.default,{url:l.default.AUTORENEW,method:"post",segments:{accountId:n},metadata:{type:c.default.POST_AUTO_RENEW,param:n}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(22),i=r(a),u=n(24),l=r(u),s=n(16),c=r(s);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.accountId;return e.executeAction(i.default,{url:l.default.RENEW,method:"post",segments:{accountId:n},metadata:{type:c.default.POST_RENEW,param:n}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(22),i=r(a),u=n(24),l=r(u),s=n(16),c=r(s);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={type:c.default.GET_STOCK_PHOTOS,param:JSON.stringify(t)};return e.getStore(f.default.REQUEST).isRequestPending(n)?Promise.resolve():e.executeAction(i.default,{url:l.default.STOCK_PHOTOS,params:t,metadata:n})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(22),i=r(a),u=n(24),l=r(u),s=n(16),c=r(s),d=n(3),f=r(d);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return e.executeAction(i.default,{url:l.default.USERS,metadata:{type:c.default.GET_USER}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(22),i=r(a),u=n(24),l=r(u),s=n(16),c=r(s);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.websiteId;return e.executeAction(i.default,{url:l.default.WEBSITE,segments:{websiteId:n},metadata:{type:c.default.GET_WEBSITE,param:n}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(22),i=r(a),u=n(24),l=r(u),s=n(16),c=r(s);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.website,r=n.id;return e.executeAction(i.default,{method:"patch",url:l.default.WEBSITE,segments:{websiteId:r},data:n,metadata:{type:c.default.PATCH_WEBSITE,param:r}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(22),i=r(a),u=n(24),l=r(u),s=n(16),c=r(s);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.websiteId,r=t.testWidget;return e.executeAction(i.default,{url:l.default.PUBLISH,segments:{websiteId:n},method:"post",params:{testWidget:r},metadata:{type:c.default.PUBLISH_WEBSITE,param:n}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(22),i=r(a),u=n(24),l=r(u),s=n(16),c=r(s);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.websiteId;return e.executeAction(i.default,{url:l.default.RESET,segments:{websiteId:n},method:"post",params:{},metadata:{type:c.default.RESET_WEBSITE,param:n}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(22),i=r(a),u=n(24),l=r(u),s=n(16),c=r(s);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.websiteId;return e.executeAction(i.default,{url:l.default.WEBSITE_WIDGETS,segments:{websiteId:n},metadata:{type:c.default.GET_WEBSITE_WIDGETS,param:n}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(22),i=r(a),u=n(24),l=r(u),s=n(16),c=r(s);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return e.executeAction(i.default,{url:l.default.WEBSITES,metadata:{type:c.default.GET_WEBSITES}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(22),i=r(a),u=n(24),l=r(u),s=n(16),c=r(s);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.domain,r=e.getStore(l.default.CONFIG),o=e.getStore(l.default.WEBSITE),a=e.getCookie("market")||"en-US",u=a.split("-")[1].toLowerCase(),c="us"===u?"www":u,d=(0,s.getURIPathLanguage)(a),f=r.getURL("dpp.addToCartUrl").replace("{subdomain}",c).replace("{language}",d),p=o.getCurrentWebsiteAccountId();return e.executeAction(i.default,{url:f,method:"post",data:{domain:n,domainStatus:"available",skipconfig:!0,dpp_itc:r.get("dpp.itc"),app:r.get("dpp.appName"),path:"/launch?account_uid="+p}})}Object.defineProperty(t,"__esModule",{value:!0});var a=n(252),i=r(a),u=n(3),l=r(u),s=n(497);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t.data,r=t.searchQuery,o=e.getStore(f.default.AUTH),l=e.getStore(f.default.CONFIG),d=e.getCookie("market")||"en-US",p=(0,u.getSeoSubdomain)(d),m=(0,u.getURIPathLanguage)(d),_=l.getURL("dpp.suggestionsUrl").replace("{subdomain}",p).replace("{language}",m),y=Object.assign({shopperId:o.getShopperId(),locale:d},n),b={key:l.get("dpp.key"),countryview:1};r&&(b.q=r);var v=(new Date).getTime(),E=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.data,i=n.status,u=(new Date).getTime();e.executeAction(g.default,{type:"DPP-response",error:t,meta:a({url:_,hasError:Boolean(t),hasSearchQuery:Boolean(r),status:i,time:u-v,responseBody:t?o:null},y)})},T=e.executeAction(s.default,{url:_,method:"post",data:y,fullResponse:!0,params:b,enableRetries:!1,metadata:{type:r?h.default.GET_DOMAIN_SEARCH:h.default.GET_DOMAIN_SUGGESTIONS}}).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=void 0;return(0,i.isEmpty)(e.data)?t=new Error("Empty response"):(0,i.isEmpty)(e.data.RecommendedDomains)&&!r&&(t=new Error("Empty recommendations")),t?(t.response=e,Promise.reject(t)):(E(null,e),Promise.resolve(e))})).catch((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return E(e,e.response),Promise.reject(e)})),O=l.get("dpp.timeout");return(0,c.timeoutAfter)(T,O)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(2),u=n(497),l=n(252),s=r(l),c=n(1213),d=n(3),f=r(d),p=n(16),h=r(p),m=n(251),g=r(m);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),u=n(109),l=r(u),s=(function(){function e(t){var n=t.accessToken;o(this,e),this.accessToken=n}return i(e,[{key:"geocode",value:function(e){return this.findBestMatch(e).then((function(e){var t=e&&e.center;return t&&{latitude:e.center[1],longitude:e.center[0]}}))}},{key:"reverseGeocode",value:function(e){var t=e.latitude,n=e.longitude;return this.findBestMatch(n+","+t).then((function(e){return e&&e.place_name}))}},{key:"findBestMatch",value:function(e){var t=encodeURIComponent(e);return l.default.get("https://api.mapbox.com/geocoding/v5/mapbox.places/"+t+".json?access_token="+this.accessToken).then((function(e){var t=e.data;t=void 0===t?{}:t;var n=t.features;n=void 0===n?[]:n;var r=a(n,1),o=r[0];return o||null}))}}]),e})();t.default=s,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.getStore(l.default.CONFIG),r=e.getStore(l.default.AUTH),o=n.getURL("uservoice.nps.url",r.getResellerId()),a="POST",u={"Content-Type":"application/json; charset=UTF-8"},s={method:a,url:o,headers:u,data:t,withCredentials:!0};return(0,i.default)(s).catch((function(t){t.request=s,e.executeAction(c.default,{error:t,type:"uservoice"})}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(109),i=r(a),u=n(3),l=r(u),s=n(251),c=r(s);e.exports=t.default},function(e,t){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=new Date(e);return n.setFullYear(n.getFullYear()+t),n}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=new Date(e),r=n.getMonth();return n.setMonth(n.getMonth()+t),n.getMonth()!==(r+t)%12&&n.setDate(0),n}function o(e){var t=e.getTime()-Date.now();return Math.round(t/i)}function a(e){return e*i}Object.defineProperty(t,"__esModule",{value:!0});var i=864e5;t.default={convertDaysIntoMS:a,addYearsToGivenDate:n,addMonthsToGivenDate:r,getDaysLeftBetweenGivenAndNow:o},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(50),a=n(254),i=r(a);t.default=function(e){var t={meta:o.fonts.getAllPacks().reduce((function(e,t){var n=t&&t.meta||{};return Object.keys(n).forEach((function(r){e[r+"_"+t.id]=n[r]})),e}),{})};return e?void(0,i.default)(t,e):(0,i.default)(t)},e.exports=t.default},function(e,t){"use strict";function n(){if(Event.prototype.initEvent){var e=window.document.createEvent("UIEvents");e.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(e)}else window.dispatchEvent(new window.Event("resize"))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){"use strict";function r(e,t,n){var r=n[e];if(r||r===!1)return r;var o=t.get(e),a=o&&o.get("defaultValue");return r||a||""}function o(e,t,n){var r=t.get(e),o=t.get(e+"FromProp"),a=n[o];return{widgetPropertyVal:a,defaultVal:r}}function a(e,t){var n="header",r=o(n,e,t),a=r.widgetPropertyVal,i=r.defaultVal;return a||i||""}function i(e,t){var n="icon",r=o(n,e,t),a=r.widgetPropertyVal,i=r.defaultVal;return{isFromUrl:!!a,value:a||i||""}}function u(e,t,n,o){var a=void 0,i=void 0,u=e.get("property"),c=e.get("websitePropertyName");if(e.get("isWebsiteProperty")===!0){var d=o.getCurrentWebsite();if(d){var f=c||u,p=t.get(u,new l.Map).get("type");if("object"===p){var h=d.get("data");a=h?h.toJS()[f]:null}else i=d.get("properties").toJS(),a=i[f]}}else a=r(u,t,n),i=n;var m=e.get("additionalPropMapping");return m&&i?(0,s.merge)({value:a},(0,s.reduce)(m.toJSON(),(function(e,t,n){return e[n]=i[t],e}),{})):{value:a}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(4),s=n(2),c=n(208);t.default={getFinalizedFieldsSets:function(e){var t=e.componentContext,n=e.editingPreset,r=e.widget,o=e.component,s=e.websiteStore,d=r&&(0,c.getFinalDefaultProps)(o,t,{data:r})||{},f=(n&&n.get("fieldSets")||new l.List).filter((function(e){return e.get("hiddenFromMutator")!==!0})),p=n&&n.get("properties")||new l.Map;return f.map((function(e){var t=e.get("fields");return e.merge({header:a(e,d),icon:i(e,d),fields:t.map((function(e){var n=u(e,p,d,s);return e.merge(n,{widgetType:r.get("type"),hasSiblings:t.size>1})}))})}))}},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nonBlocking=function(e){return function(t,n){return t.executeAction(e,n),Promise.resolve()}},t.sequence=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){return t.reduce((function(t,r){return t.then((function(){return e.executeAction(r,n)}))}),Promise.resolve())}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if("string"==typeof e){var n=G.exec(e);return n?t[n[1]]:e.replace(B,(function(e,n){return t[n]||""}))}var r=null;return e instanceof Array?r=c.map:e&&"object"===("undefined"==typeof e?"undefined":s(e))&&(r=c.mapValues),r?r(e,(function(e){return a(e,t)})):e}function i(e){var t=e.widgetType,n=e.templateData,r=e.manifest,o=e.extensions,i=(0,c.merge)({},U[t],u(r,o)),l=(0,c.assign)({},W,p.default,n);return a(i,l)}function u(e,t){if(!e||!e.defaultState||(0,c.isEqual)(e.defaultState,{}))return{};var n=e.defaultState;t&&!(0,c.isEqual)(t,{})&&(n=(0,d.applyExtensionDefaults)(n,t));var r={properties:{},options:{},data:{}};return Object.keys(n).forEach((function(e){var t=n[e];"undefined"!=typeof t&&null!==t&&("string"==typeof t?r.properties[e]=t:"boolean"==typeof t?r.options[e]=t:r.data[e]=t)})),r}Object.defineProperty(t,"__esModule",{value:!0});var l,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=n(2),d=n(107),f=n(494),p=r(f),h=n(1451),m=r(h),g=n(1453),_=r(g),y=n(1454),b=r(y),v=n(1458),E=r(v),T=n(1459),O=r(T),P=n(1461),w=r(P),I=n(1460),S=r(I),C=n(1455),x=r(C),k=n(1456),D=r(k),A=n(1462),M=r(A),N=n(1452),R=r(N),j=n(1457),L=r(j),U=(l={},o(l,m.default.type,m.default),o(l,_.default.type,_.default),o(l,b.default.type,b.default),o(l,E.default.type,E.default),o(l,O.default.type,O.default),o(l,w.default.type,w.default),o(l,S.default.type,S.default),o(l,x.default.type,x.default),o(l,D.default.type,D.default),o(l,M.default.type,M.default),o(l,R.default.type,R.default),o(l,L.default.type,L.default),l),G=/^\{(.*?)}$/g,B=/\{(.*?)}/g,W={aboutSectionTitle:"About Us",contactSectionTitle:"Contact Us",contentSectionTitle:"Site Content",paymentSectiontitle:"Payment",shopSectionTitle:"Products",shopProductGroupSectionTitle:"Featured Products",socialSectionTitle:"Social",subscribeSectionTitle:"Subscribe",contentSectionDescription:"Enter a description for your content section here.",tagline:"Add a short, memorable business slogan",headline1:"Grab interest",headline2:"Generate excitement",headline3:"Close the deal",description1:"Say something interesting about your business here.",description2:"What’s something exciting your business offers? Say it here.",description3:"Give customers a reason to do business with you.",formTitle:"Drop us a line!",infoTitle:"Better yet, see us in person!",info:"We love our customers, so feel free to visit during normal business hours.",hours:"Monday - Friday: 9am - 5pm\nSaturday: By appointment\nSunday: Closed",hoursTitle:"Hours",formSuccessMessage:"Thank you for your inquiry! We will get back to you within 48 hours.",description:"Sign up to hear from us about specials, sales, and events. ",subscribeButtonLabel:"Sign up",confirmationMessage:"Excellent! We're excited to send you our next update."};t.default={generateWidget:i},e.exports=t.default},function(e,t,n){"use strict";function r(e,t){var n=o(e,t),r=n.get("pages",new s.Map),i=n.get("widgets",new s.Map),u=a(e,n);if(!u)return[];var l=u.get("websites",new s.Map),c=u.get("pages",new s.Map),d=u.get("widgets",new s.Map),f=function(e,t,n){var r=i.get(n),o=[r.get("websiteId"),"pages",r.get("pageId"),"widgets",n];return e.setIn(o,t)},p=function(e,t,n){var o=r.get(n),a=[o.get("websiteId"),"pages",n];return e.setIn(a,t)},h=d.reduce(f,c.reduce(p,l)),m=h.map((function(e,t){return e.merge({id:t,pages:e.get("pages",new s.Map).map((function(e,n){return e.merge({id:n,websiteId:t,widgets:e.get("widgets",new s.Map).map((function(e,r){return e.merge({id:r,pageId:n,websiteId:t})})).toList()})})).toList()})})).toList().toJS();return m}function o(e,t){var n=function(e,t){var n=(e||new s.Map).keySeq();return(t||new s.Map).filter((function(e){return n.contains(e.get("id"))}))};return t.set("pages",n(e.get("pages"),t.get("pages"))).set("widgets",n(e.get("widgets"),t.get("widgets")))}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(t!==e){if(u(e)&&u(t)&&n<4){var r=t.reduce((function(t,r,o){var i=e.has(o)?a(e.get(o),r,n+1):r;return void 0===i?t:t.set(o,i)}),new s.Map);return r.isEmpty()?void 0:r}return i(t)&&t.equals&&t.equals(e)?void 0:t}}function i(e){return"object"===("undefined"==typeof e?"undefined":l(e))}function u(e){return e instanceof s.Map}Object.defineProperty(t,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=n(4);t.default=r,e.exports=t.default},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),n=window.performance.timing,r=n.connectStart,i=n.connectEnd,u=n.requestStart,l=n.responseStart,s=n.responseEnd,c=n.domLoading,d=n.navigationStart,f=n.fetchStart,p=n.domainLookupStart,h=n.domainLookupEnd,m=n.domInteractive,g=n.domContentLoadedEventEnd,_=n.domComplete;(0,o.logVirtualPagePerf)({page:window.location.href.replace(a,"")+"/beacon/"+e,navigationStart:d,fetchStart:f,domainLookupStart:p,domainLookupEnd:h,connectStart:r,connectEnd:i,requestStart:u,responseStart:l,responseEnd:s,domLoading:c,domInteractive:m,domContentLoaded:g,domComplete:_,loadEventStart:t,loadEventEnd:t})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),a=/^https?:\/\/[^\/:]+/i;t.default=r,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1484),a=r(o),i=n(4),u=(0,i.Record)({address:"",city:"",addressState:"",zip:"",country:""}),l=function(e){var t=e&&a.default.parseLocation(e);if(!t)return new u;var n=t.number,r=t.prefix,o=t.street,i=t.sec_unit_type,l=t.sec_unit_num,s=t.type,c=t.suffix,d=t.city,f=t.state,p=t.zip;if(!f)return new u({address:e.trim()});var h=[n,r,o,s,c,i,l].filter(Boolean).join(" ");return new u({address:h,city:d||"",addressState:f,zip:p||"",country:"United States"})};t.default=l,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return encodeURIComponent(JSON.stringify(e,null,2)).replace(/'/g,"%27").replace(/"/g,"%22")};t.default=n,e.exports=t.default},function(e,t){"use strict";function n(e,t,n){n="post";var r=document.createElement("form");r.setAttribute("method",n),r.setAttribute("action",e);for(var o in t)if(t.hasOwnProperty(o)){var a=document.createElement("input");a.setAttribute("type","hidden"),a.setAttribute("name",o),a.setAttribute("value",t[o]),r.appendChild(a)}document.body.appendChild(r),r.submit()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t){"use strict";function n(e,t){return new Promise(function(n,r){var o=window.setTimeout((function(){r(new Error("timeout of "+t+"ms exceeded"))}),t);e.then(n,r).then((function(){return window.clearTimeout(o)}))})}Object.defineProperty(t,"__esModule",{value:!0}),t.default={timeoutAfter:n},e.exports=t.default},function(e,t){"use strict";function n(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(t)}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t,n,r){var u=!1,c=(function(c){function d(){return o(this,d),a(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return i(d,c),s(d,[{key:"componentDidMount",value:function(){u||(u=!0,(0,b.loadLayout)({context:e,registry:t,type:n,preset:r,env:e.getStore(h.default.CONFIG).get("env"),locale:e.getStore(h.default.ROUTE).getCurrentRoute().params.locale||"en-US",getIntlString:this.context.getIntlString},(function(){})))}},{key:"render",value:function(){var e=n===v.LAYOUT?g.default:y.default,t=n===v.HEADER||n===v.FOOTER;return f.default.createElement(e,l({},this.props,{slim:t}))}}]),d})(d.Component);return c.contextTypes={getStore:d.PropTypes.func.isRequired,getIntlString:d.PropTypes.func.isRequired},c}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})();t.default=u;var c=n(15),d=n(1),f=r(d),p=n(3),h=r(p),m=n(1071),g=r(m),_=n(441),y=r(_),b=n(1216),v=c.constants.widgetTypes;e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=e.context,r=e.registry,o=e.type;r.loadWidgetManifest=function(e,t){var n=T[o];n||(n=e.toLowerCase()+"1");try{r.loadWidgetLayout(e,n,t)}catch(r){return void t(new Error('Error loading widget type "'+e+'", preset "'+n+'", error: '+r.stack))}},r.loadWidgetManifest(o,(function(e,r){if(e||!r||!r.guacRepo)return void t(e);var a=l({context:n,type:o,manifest:r.guacRepo});a&&n.executeAction(b.default,{type:o,manifest:(0,d.fromJS)(a)}),t(null,a)}))}function a(e,t){var n=e.context,r=e.registry,o=e.type,a=e.preset,s=e.env,c=e.locale,f=e.getIntlString;r.loadWidgetLayout(o,a,(function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e||!r.Component)return console.error("could not load",o,a,e||"Missing data.Component"),void t(e);var p=r.guacRepo,h=i(n,o)||l({type:o,locale:c,getIntlString:f,manifest:p}),m="widgetContent."+o+".staticContent",g=f(m,!0),y=u({type:o,preset:a,env:s,data:r,typeManifest:h,presetManifest:p,staticProps:{staticContent:g},context:n});n.executeAction(_.default,{type:o,preset:a,data:r,manifest:y&&(0,d.fromJS)(y)||null}),t(null,{manifest:y,Component:r.Component})}))}function i(e,t){var n=e.getStore(m.default.REGISTRY).getWidgetManifest(t);return d.Map.isMap(n)?n.toJS():n}function u(e){var t=e.type,n=e.preset,r=e.env,o=e.data,a=e.staticProps,i=e.typeManifest,u=e.presetManifest,l=e.context,d=null;try{if(d=s({type:t,preset:n,env:r,typeManifest:i,presetManifest:u,WidgetComponent:o.Component})){var p=function(e){if(e.data||e.options||e.properties){var t=(0,c.merge)({},e.data,e.options,e.properties);delete t.preset;var n={widgetId:e.id,ignoreHistory:!0,overwrite:!0,params:t};l.executeAction(E.default,n)}};o.Component=(0,f.connectPropsToManifest)(o.Component,a,d,p)}}catch(e){console.error('Error loading manifest for type "'+t+'", preset "'+n+'": '+e.stack)}return d}function l(e){var t=e.type,n=e.locale,r=e.manifest,o=e.getIntlString;if(!r||!r.widgets)return null;var a=(0,c.cloneDeep)(r),i="widgetContent."+t+".manifestContent",u=o(i);u?!(function(){var e=t+"_WidgetTranslations";a.widgets.forEach((function(t){t.translationPack=t.translationPack||e})),a.layoutPacks=[],a.translations=a.translations||[],a.translations.push({name:e,locale:n,translations:u||{}})})():console.log("Warning: Translations not found for key: "+i);var l=(0,p.normalizeDefaults)(a);if(!a.translations)return l;var s=(0,p.mergeTranslationPacks)(a.translations),d=(0,p.resolveTranslations)(l,s,n);return d}function s(e){var t=e.type,n=e.preset,r=e.env,o=e.typeManifest,a=e.presetManifest,i=e.WidgetComponent;if(!(o&&a&&o.widgets&&a.layoutPacks))return null;var u=(0,c.cloneDeep)(o);u.layoutPacks=(0,c.cloneDeep)(a.layoutPacks),u.layoutPacks[0].layouts[0].component=i;var l=(0,p.mergePlugins)([u],f.extensions);"production"!==r&&l.runValidations();var s=l.getLayoutIdsForWidget(t).filter((function(e){return e.endsWith("-"+n)}))[0],d=(0,p.produceTypeTree)(l,s);return d}Object.defineProperty(t,"__esModule",{value:!0}),t.loadManifest=o,t.loadLayout=a;var c=n(2),d=n(4),f=n(107),p=n(221),h=n(3),m=r(h),g=n(394),_=r(g),y=n(948),b=r(y),v=n(169),E=r(v),T={TEST:"test",SHOP_PRODUCT_GROUP:"productGroup1"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){return e.merge({Component:a.default,wrapperContext:t,wrapperInfo:{WidgetComponent:e.get("Component"),route:n,viewDevice:r}})};var o=n(1007),a=r(o);e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={addable:!0,allowMultiple:!1,deletable:!0,movable:!0},e.exports=t.default},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t,n=(t={},r(t,i.LAYOUT,{addable:!1,deletable:!1,movable:!1}),r(t,i.HEADER,{addable:!1,deletable:!1,movable:!1}),r(t,i.SHOP,{addable:!0}),r(t,i.SHOP_PRODUCT_GROUP,{addable:!0}),r(t,i.FOOTER,{addable:!1,deletable:!1,movable:!1}),r(t,i.ABOUT,{allowMultiple:!0,deletable:!0}),r(t,i.SOCIAL,{addable:e.getFeatureFlag("enableSocialAccountsWidget")||!1,deletable:!0}),r(t,i.CONTACT,{deletable:!0}),r(t,i.CONTENT,{allowMultiple:!0,addable:!0}),r(t,i.CALENDAR,{allowMultiple:!0,addable:!0}),r(t,i.GALLERY,{allowMultiple:!0,addable:!0}),r(t,i.MENU,{allowMultiple:!0,addable:!0}),r(t,i.SUBSCRIBE,{allowMultiple:!1,addable:e.getFeatureFlag("enableGem")||!1}),r(t,i.VIDEO,{allowMultiple:!0,addable:!0}),r(t,"TEST",{addable:!1}),t);return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(15),i=a.constants.widgetTypes;e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.keys(e),r=Object.keys(t),o=(0,a.union)(l,n,r)||[],i={};return o.forEach((function(n){var r=e[n],o=t[n],l=u.default[n];i[n]=l,(0,a.isUndefined)(o)?(0,a.isUndefined)(r)||(i[n]=r):i[n]=o})),i}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),i=n(1218),u=r(i),l=Object.keys(u.default);t.default=o,e.exports=t.default},function(e,t,n){e.exports={default:n(1233),__esModule:!0}},function(e,t,n){e.exports={default:n(1234),__esModule:!0}},function(e,t,n){e.exports={default:n(1235),__esModule:!0}},function(e,t,n){e.exports={default:n(1238),__esModule:!0}},function(e,t,n){e.exports={default:n(1239),__esModule:!0}},function(e,t,n){e.exports={default:n(1240),__esModule:!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(1221),a=r(o);t.default=a.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){e.exports=n(1577)},,function(e,t){e.exports=function(e,t,n){return 2===arguments.length&&(n=t,t=new RegExp(Object.keys(n).join("|"),"ig")),e.replace(t,(function(e){return e in n?n[e]:e}))}},function(e,t,n){e.exports=function(e){n.e(1,(function(t){e(n(1072))}))}},function(e,t,n){n(519),n(518),e.exports=n(1260)},function(e,t,n){n(1262),e.exports=n(54).Object.assign},function(e,t,n){n(1263);var r=n(54).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){n(1264);var r=n(54).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){n(1265),e.exports=n(54).Object.getPrototypeOf},function(e,t,n){n(1266),e.exports=n(54).Object.keys},function(e,t,n){n(1267),e.exports=n(54).Object.setPrototypeOf},function(e,t,n){n(1269),n(1268),n(1270),n(1271),e.exports=n(54).Symbol},function(e,t,n){n(518),n(519),e.exports=n(270).f("iterator")},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(){}},function(e,t,n){var r=n(101),o=n(1258),a=n(1257);e.exports=function(e){return function(t,n,i){var u,l=r(t),s=o(l.length),c=a(i,s);if(e&&n!=n){for(;s>c;)if(u=l[c++],u!=u)return!0}else for(;s>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){var r=n(258),o=n(87)("toStringTag"),a="Arguments"==r(function(){return arguments}()),i=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,u;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=i(t=Object(e),o))?n:a?r(t):"Object"==(u=r(t))&&"function"==typeof t.callee?"Arguments":u}},function(e,t,n){var r=n(123),o=n(263),a=n(182);e.exports=function(e){var t=r(e),n=o.f;if(n)for(var i,u=n(e),l=a.f,s=0;u.length>s;)l.call(e,i=u[s++])&&t.push(i);return t}},function(e,t,n){e.exports=n(86).document&&document.documentElement},function(e,t,n){var r=n(258);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){"use strict";var r=n(262),o=n(183),a=n(264),i={};n(122)(i,n(87)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(i,{next:o(1,n)}),a(e,t+" Iterator")}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var r=n(123),o=n(101);e.exports=function(e,t){for(var n,a=o(e),i=r(a),u=i.length,l=0;u>l;)if(a[n=i[l++]]===t)return n}},function(e,t,n){var r=n(185)("meta"),o=n(148),a=n(99),i=n(100).f,u=0,l=Object.isExtensible||function(){return!0},s=!n(121)((function(){return l(Object.preventExtensions({}))})),c=function(e){i(e,r,{value:{i:"O"+ ++u,w:{}}})},d=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,r)){if(!l(e))return"F";if(!t)return"E";c(e)}return e[r].i},f=function(e,t){if(!a(e,r)){if(!l(e))return!0;if(!t)return!1;c(e)}return e[r].w},p=function(e){return s&&h.NEED&&l(e)&&!a(e,r)&&c(e),e},h=e.exports={KEY:r,NEED:!1,fastKey:d,getWeak:f,onFreeze:p}},function(e,t,n){"use strict";var r=n(123),o=n(263),a=n(182),i=n(184),u=n(510),l=Object.assign;e.exports=!l||n(121)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r}))?function(e,t){for(var n=i(e),l=arguments.length,s=1,c=o.f,d=a.f;l>s;)for(var f,p=u(arguments[s++]),h=c?r(p).concat(c(p)):r(p),m=h.length,g=0;m>g;)d.call(p,f=h[g++])&&(n[f]=p[f]);return n}:l},function(e,t,n){var r=n(100),o=n(120),a=n(123);e.exports=n(97)?Object.defineProperties:function(e,t){o(e);for(var n,i=a(t),u=i.length,l=0;u>l;)r.f(e,n=i[l++],t[n]);return e}},function(e,t,n){
var r=n(101),o=n(513).f,a={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(e){try{return o(e)}catch(e){return i.slice()}};e.exports.f=function(e){return i&&"[object Window]"==a.call(e)?u(e):o(r(e))}},function(e,t,n){var r=n(148),o=n(120),a=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?(function(e,t,r){try{r=n(507)(Function.call,n(512).f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return a(e,n),t?e.__proto__=n:r(e,n),e}})({},!1):void 0),check:a}},function(e,t,n){var r=n(267),o=n(259);e.exports=function(e){return function(t,n){var a,i,u=String(o(t)),l=r(n),s=u.length;return l<0||l>=s?e?"":void 0:(a=u.charCodeAt(l),a<55296||a>56319||l+1===s||(i=u.charCodeAt(l+1))<56320||i>57343?e?u.charAt(l):a:e?u.slice(l,l+2):(a-55296<<10)+(i-56320)+65536)}}},function(e,t,n){var r=n(267),o=Math.max,a=Math.min;e.exports=function(e,t){return e=r(e),e<0?o(e+t,0):a(e,t)}},function(e,t,n){var r=n(267),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(1244),o=n(87)("iterator"),a=n(181);e.exports=n(54).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||a[r(e)]}},function(e,t,n){var r=n(120),o=n(1259);e.exports=n(54).getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t,n){"use strict";var r=n(1242),o=n(1249),a=n(181),i=n(101);e.exports=n(511)(Array,"Array",(function(e,t){this._t=i(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,n):"values"==t?o(0,e[n]):o(0,[n,e[n]])}),"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var r=n(98);r(r.S+r.F,"Object",{assign:n(1252)})},function(e,t,n){var r=n(98);r(r.S,"Object",{create:n(262)})},function(e,t,n){var r=n(98);r(r.S+r.F*!n(97),"Object",{defineProperty:n(100).f})},function(e,t,n){var r=n(184),o=n(514);n(516)("getPrototypeOf",(function(){return function(e){return o(r(e))}}))},function(e,t,n){var r=n(184),o=n(123);n(516)("keys",(function(){return function(e){return o(r(e))}}))},function(e,t,n){var r=n(98);r(r.S,"Object",{setPrototypeOf:n(1255).set})},function(e,t){},function(e,t,n){"use strict";var r=n(86),o=n(99),a=n(97),i=n(98),u=n(517),l=n(1251).KEY,s=n(121),c=n(266),d=n(264),f=n(185),p=n(87),h=n(270),m=n(269),g=n(1250),_=n(1245),y=n(1247),b=n(120),v=n(101),E=n(268),T=n(183),O=n(262),P=n(1254),w=n(512),I=n(100),S=n(123),C=w.f,x=I.f,k=P.f,D=r.Symbol,A=r.JSON,M=A&&A.stringify,N="prototype",R=p("_hidden"),j=p("toPrimitive"),L={}.propertyIsEnumerable,U=c("symbol-registry"),G=c("symbols"),B=c("op-symbols"),W=Object[N],F="function"==typeof D,H=r.QObject,V=!H||!H[N]||!H[N].findChild,q=a&&s((function(){return 7!=O(x({},"a",{get:function(){return x(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=C(W,t);r&&delete W[t],x(e,t,n),r&&e!==W&&x(W,t,r)}:x,Y=function(e){var t=G[e]=O(D[N]);return t._k=e,t},z=F&&"symbol"==typeof D.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof D},K=function(e,t,n){return e===W&&K(B,t,n),b(e),t=E(t,!0),b(n),o(G,t)?(n.enumerable?(o(e,R)&&e[R][t]&&(e[R][t]=!1),n=O(n,{enumerable:T(0,!1)})):(o(e,R)||x(e,R,T(1,{})),e[R][t]=!0),q(e,t,n)):x(e,t,n)},X=function(e,t){b(e);for(var n,r=_(t=v(t)),o=0,a=r.length;a>o;)K(e,n=r[o++],t[n]);return e},J=function(e,t){return void 0===t?O(e):X(O(e),t)},Z=function(e){var t=L.call(this,e=E(e,!0));return!(this===W&&o(G,e)&&!o(B,e))&&(!(t||!o(this,e)||!o(G,e)||o(this,R)&&this[R][e])||t)},Q=function(e,t){if(e=v(e),t=E(t,!0),e!==W||!o(G,t)||o(B,t)){var n=C(e,t);return!n||!o(G,t)||o(e,R)&&e[R][t]||(n.enumerable=!0),n}},$=function(e){for(var t,n=k(v(e)),r=[],a=0;n.length>a;)o(G,t=n[a++])||t==R||t==l||r.push(t);return r},ee=function(e){for(var t,n=e===W,r=k(n?B:v(e)),a=[],i=0;r.length>i;)!o(G,t=r[i++])||n&&!o(W,t)||a.push(G[t]);return a};F||(D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(n){this===W&&t.call(B,n),o(this,R)&&o(this[R],e)&&(this[R][e]=!1),q(this,e,T(1,n))};return a&&V&&q(W,e,{configurable:!0,set:t}),Y(e)},u(D[N],"toString",(function(){return this._k})),w.f=Q,I.f=K,n(513).f=P.f=$,n(182).f=Z,n(263).f=ee,a&&!n(261)&&u(W,"propertyIsEnumerable",Z,!0),h.f=function(e){return Y(p(e))}),i(i.G+i.W+i.F*!F,{Symbol:D});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)p(te[ne++]);for(var te=S(p.store),ne=0;te.length>ne;)m(te[ne++]);i(i.S+i.F*!F,"Symbol",{for:function(e){return o(U,e+="")?U[e]:U[e]=D(e)},keyFor:function(e){if(z(e))return g(U,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){V=!0},useSimple:function(){V=!1}}),i(i.S+i.F*!F,"Object",{create:J,defineProperty:K,defineProperties:X,getOwnPropertyDescriptor:Q,getOwnPropertyNames:$,getOwnPropertySymbols:ee}),A&&i(i.S+i.F*(!F||s((function(){var e=D();return"[null]"!=M([e])||"{}"!=M({a:e})||"{}"!=M(Object(e))}))),"JSON",{stringify:function(e){if(void 0!==e&&!z(e)){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);return t=r[1],"function"==typeof t&&(n=t),!n&&y(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!z(t))return t}),r[1]=t,M.apply(A,r)}}}),D[N][j]||n(122)(D[N],j,D[N].valueOf),d(D,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},function(e,t,n){n(269)("asyncIterator")},function(e,t,n){n(269)("observable")},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,540,540,540,540,540,540,540,,,,,,540,540,540,540,540,540,540,540,540,function(e,t,n){"use strict";function r(e,t){for(var n=e;n.parentNode;)n=n.parentNode;var r=n.querySelectorAll(t);return Array.prototype.indexOf.call(r,e)!==-1}var o=n(12),a={addClass:function(e,t){return/\s/.test(t)?o(!1):void 0,t&&(e.classList?e.classList.add(t):a.hasClass(e,t)||(e.className=e.className+" "+t)),e},removeClass:function(e,t){return/\s/.test(t)?o(!1):void 0,t&&(e.classList?e.classList.remove(t):a.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),e},conditionClass:function(e,t,n){return(n?a.addClass:a.removeClass)(e,t)},hasClass:function(e,t){return/\s/.test(t)?o(!1):void 0,e.classList?!!t&&e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1},matchesSelector:function(e,t){var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||function(t){return r(e,t)};return n.call(e,t)}};e.exports=a},,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"favicon.4a016a6a93a6486350ae490252c96845.ico"},function(e,t,n){e.exports=n.p+"accept-payment.9866200c2a51dffd8dcf1eb2b12869bd.svg"},function(e,t,n){e.exports=n.p+"calendar-check.017e640448ee1a8f1b1c534a8db35f27.svg"},function(e,t,n){e.exports=n.p+"calendar-sync.98f2bc4b6033a7603be5b51f9eafe18e.svg"},function(e,t,n){e.exports=n.p+"drive-traffic.eeff277948b9739d0167b766e45801bd.svg"},function(e,t,n){e.exports=n.p+"mountain.19b727cb87f5042185b157cf26b539d1.svg"},function(e,t,n){e.exports=n.p+"offline-cloud.8fac40f56f3618cbb4093142a9143ddd.svg"},function(e,t,n){e.exports=n.p+"ols-upgrade.b706d493487fd3c97b2ad71195c0231b.png"},function(e,t,n){e.exports=n.p+"previewDesktopShell.03f4e4a984f0649ba9c88724df994505.svg"},function(e,t,n){e.exports=n.p+"previewMobileShell.3caa741a73753825afa714d694820383.svg"},function(e,t,n){e.exports=n.p+"rotate-your-device.b0903981a846ab95ed57a499d8ff49f8.svg"},function(e,t,n){e.exports=n.p+"section.e5a3fbb2036601bd75d850528c2a0fc4.svg"},function(e,t,n){e.exports=n.p+"secure-checkout.fe9b61b8f8b01a01e7425534ee5b2718.svg"},function(e,t,n){e.exports=n.p+"secure-site.1820489854d8dc13f3a13294f097a0ba.svg"},function(e,t,n){e.exports=n.p+"sev-upgrade.7112dce7578e01e0c7e76aa3fa9ab8cc.png"},function(e,t,n){e.exports=n.p+"ship-anywhere.8b9df06266e1a918aee195717bb4c798.svg"},function(e,t,n){e.exports=n.p+"unlimited-products.fc6b5fce2cfe3b13fa9b444e0230156f.svg"},function(e,t,n){e.exports=n.p+"style-1.6aabf42e96789cd686fa6f8122e7ee5e.png"},function(e,t,n){e.exports=n.p+"style-2.8bdaa8b090b1e589cccccab0c5a4e56b.png"},function(e,t,n){e.exports=n.p+"style-3.558b5b9ff90b80e5651e1819e8a8cce7.png"},function(e,t,n){e.exports=n.p+"style-4.603d04e373fcbc54f14bc9a19623f351.png"},function(e,t,n){e.exports=n.p+"style-5.53f4b9c5059c22519681479e1cbfd205.png"},function(e,t,n){e.exports=n.p+"style-6.5d76f0a4c377b27bfbff206fbe115e05.png"},,,,,,,,,,,,,function(e,t,n){"use strict";function r(){return{name:"CookiePlugin",plugContext:function(e){var t=e.req,n=e.res,r=t?t.cookies:o.parse(document.cookie);return{plugActionContext:function(e){e.setCookie=function(e,t,a){var i=o.serialize(e,t,a);n?n.setHeader("Set-Cookie",i):document.cookie=i,r[e]=t},e.getCookie=function(e){return r[e]}}}}}}var o=n(1436);e.exports=r},function(e,t){function n(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");var n={},r=t||{},i=e.split(/; */),u=r.decode||a;return i.forEach((function(e){var t=e.indexOf("=");if(!(t<0)){var r=e.substr(0,t).trim(),a=e.substr(++t,e.length).trim();'"'==a[0]&&(a=a.slice(1,-1)),void 0==n[r]&&(n[r]=o(a,u))}})),n}function r(e,t,n){var r=n||{},o=r.encode||i;if(!u.test(e))throw new TypeError("argument name is invalid");var a=o(t);if(a&&!u.test(a))throw new TypeError("argument val is invalid");var l=[e+"="+a];if(null!=r.maxAge){var s=r.maxAge-0;if(isNaN(s))throw new Error("maxAge should be a Number");l.push("Max-Age="+s)}if(r.domain){if(!u.test(r.domain))throw new TypeError("option domain is invalid");l.push("Domain="+r.domain)}if(r.path){if(!u.test(r.path))throw new TypeError("option path is invalid");l.push("Path="+r.path)}return r.expires&&l.push("Expires="+r.expires.toUTCString()),r.httpOnly&&l.push("HttpOnly"),r.secure&&l.push("Secure"),l.join("; ")}function o(e,t){try{return t(e)}catch(t){return e}}/*!
	 * cookie
	 * Copyright(c) 2012-2014 Roman Shtylman
	 * Copyright(c) 2015 Douglas Christopher Wilson
	 * MIT Licensed
	 */
t.parse=n,t.serialize=r;var a=decodeURIComponent,i=encodeURIComponent,u=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/},,,,,,,,function(e,t,n){"use strict";var r=n(1230),o={"あ":"A","い":"I","う":"U","え":"E","お":"O","か":"KA","き":"KI","く":"KU","け":"KE","こ":"KO","さ":"SA","し":"SHI","す":"SU","せ":"SE","そ":"SO","た":"TA","ち":"CHI","つ":"TSU","て":"TE","と":"TO","な":"NA","に":"NI","ぬ":"NU","ね":"NE","の":"NO","は":"HA","ひ":"HI","ふ":"FU","へ":"HE","ほ":"HO","ま":"MA","み":"MI","む":"MU","め":"ME","も":"MO","や":"YA","ゆ":"YU","よ":"YO","ら":"RA","り":"RI","る":"RU","れ":"RE","ろ":"RO","わ":"WA","ゐ":"WI","ゑ":"WE","を":"WO","ん":"N'","が":"GA","ぎ":"GI","ぐ":"GU","げ":"GE","ご":"GO","ざ":"ZA","じ":"JI","ず":"ZU","ぜ":"ZE","ぞ":"ZO","だ":"DA","ぢ":"DJI","づ":"DZU","で":"DE","ど":"DO","ば":"BA","び":"BI","ぶ":"BU","べ":"BE","ぼ":"BO","ぱ":"PA","ぴ":"PI","ぷ":"PU","ぺ":"PE","ぽ":"PO"},a={"きゃ":"KYA","きゅ":"KYU","きょ":"KYO","しゃ":"SHA","しゅ":"SHU","しょ":"SHO","ちゃ":"CHA","ちゅ":"CHU","ちょ":"CHO","にゃ":"NYA","にゅ":"NYU","にょ":"NYO","ひゃ":"HYA","ひゅ":"HYU","ひょ":"HYO","みゃ":"MYA","みゅ":"MYU","みょ":"MYO","りゃ":"RYA","りゅ":"RYU","りょ":"RYO","ぎゃ":"GYA","ぎゅ":"GYU","ぎょ":"GYO","じゃ":"JA","じゅ":"JU","じょ":"JO","びゃ":"BYA","びゅ":"BYU","びょ":"BYO","ぴゃ":"PYA","ぴゅ":"PYU","ぴょ":"PYO"},i={"ア":"A","イ":"I","ウ":"U","エ":"E","オ":"O","カ":"KA","キ":"KI","ク":"KU","ケ":"KE","コ":"KO","サ":"SA","シ":"SHI","ス":"SU","セ":"SE","ソ":"SO","タ":"TA","チ":"CHI","ツ":"TSU","テ":"TE","ト":"TO","ナ":"NA","ニ":"NI","ヌ":"NU","ネ":"NE","ノ":"NO","ハ":"HA","ヒ":"HI","フ":"FU","ヘ":"HE","ホ":"HO","マ":"MA","ミ":"MI","ム":"MU","メ":"ME","モ":"MO","ヤ":"YA","ユ":"YU","ヨ":"YO","ラ":"RA","リ":"RI","ル":"RU","レ":"RE","ロ":"RO","ワ":"WA","ヰ":"WI","ヱ":"WE","ヲ":"WO","ン":"N","ガ":"GA","ギ":"GI","グ":"GU","ゲ":"GE","ゴ":"GO","ザ":"ZA","ジ":"JI","ズ":"ZU","ゼ":"ZE","ゾ":"ZO","ダ":"DA","ヂ":"DJI","ヅ":"DZU","デ":"DE","ド":"DO","バ":"BA","ビ":"BI","ブ":"BU","ベ":"BE","ボ":"BO","パ":"PA","ピ":"PI","プ":"PU","ペ":"PE","ポ":"PO"},u={"アー":"Ā","イー":"Ī","ウー":"Ū","エー":"Ē","オー":"Ō","カー":"KĀ","キー":"KĪ","クー":"KŪ","ケー":"KĒ","コー":"KŌ","サー":"SĀ","シー":"SHĪ","スー":"SŪ","セー":"SĒ","ソー":"SŌ","ター":"TĀ","チー":"CHĪ","ツー":"TSŪ","テー":"TĒ","トー":"TŌ","ナー":"NĀ","ニー":"NĪ","ヌー":"NŪ","ネー":"NĒ","ノー":"NŌ","ハー":"HĀ","ヒー":"HĪ","フー":"FŪ","ヘー":"HĒ","ホー":"HŌ","マー":"MĀ","ミー":"MĪ","ムー":"MŪ","メー":"MĒ","モー":"MŌ","ヤー":"YĀ","ユー":"YŪ","ヨー":"YŌ","ラー":"RĀ","リー":"RĪ","ルー":"RŪ","レー":"RĒ","ロー":"RŌ","ワー":"WĀ","ヰー":"WĪ","ヱー":"WĒ","ヲー":"WŌ","ンー":"N","ガー":"GĀ","ギー":"GĪ","グー":"GŪ","ゲー":"GĒ","ゴー":"GŌ","ザー":"ZĀ","ジー":"JĪ","ズー":"ZŪ","ゼー":"ZĒ","ゾー":"ZŌ","ダー":"DĀ","ヂー":"DJĪ","ヅー":"DZŪ","デー":"DĒ","ドー":"DŌ","バー":"BĀ","ビー":"BĪ","ブー":"BŪ","ベー":"BĒ","ボー":"BŌ","パー":"PĀ","ピー":"PĪ","プー":"PŪ","ペー":"PĒ","ポー":"PŌ","キャ":"KYA","キュ":"KYU","キョ":"KYO","シャ":"SHA","シュ":"SHU","ショ":"SHO","チャ":"CHA","チュ":"CHU","チョ":"CHO","ニャ":"NYA","ニュ":"NYU","ニョ":"NYO","ヒャ":"HYA","ヒュ":"HYU","ヒョ":"HYO","ミャ":"MYA","ミュ":"MYU","ミョ":"MYO","リャ":"RYA","リュ":"RYU","リョ":"RYO","ギャ":"GYA","ギュ":"GYU","ギョ":"GYO","ジャ":"JA","ジュ":"JU","ジョ":"JO","ビャ":"BYA","ビュ":"BYU","ビョ":"BYO","ピャ":"PYA","ピュ":"PYU","ピョ":"PYO"},l={"キャー":"KYĀ","キュー":"KYŪ","キョー":"KYŌ","シャー":"SHĀ","シュー":"SHŪ","ショー":"SHŌ","チャー":"CHĀ","チュー":"CHŪ","チョー":"CHŌ","ニャー":"NYĀ","ニュー":"NYŪ","ニョー":"NYŌ","ヒャー":"HYĀ","ヒュー":"HYŪ","ヒョー":"HYŌ","ミャー":"MYĀ","ミュー":"MYŪ","ミョー":"MYŌ","リャー":"RYĀ","リュー":"RYŪ","リョー":"RYŌ","ギャー":"GYĀ","ギュー":"GYŪ","ギョー":"GYŌ","ジャー":"JĀ","ジュー":"JŪ","ジョー":"JŌ","ビャー":"BYĀ","ビュー":"BYŪ","ビョー":"BYŌ","ピャー":"PYĀ","ピュー":"PYŪ","ピョー":"PYŌ"},s={SI:"SHI",ZI:"JI",TI:"CHI",DI:"JI",TU:"TSU",DU:"ZU",SHU:"SHU",CHU:"CHU",HU:"FU",CYA:"CHA",CYO:"CHO",CYU:"CHU",SYA:"SHA",SYU:"SHU",SYO:"SHO",ZYA:"JA",ZYU:"JU",ZYO:"JO",TYA:"CHA",TYU:"CHU",TYO:"CHO",DYA:"JA",DYU:"JU",DYO:"JO"},c={};Object.keys(o).forEach((function(e){var t=o[e];t in c||(c[t]=e)})),Object.keys(a).forEach((function(e){var t=a[e];t in c||(c[t]=e)}));var d=new RegExp(Object.keys(c).sort((function(e,t){return t.length-e.length})).join("|"),"g"),f={};Object.keys(i).forEach((function(e){var t=i[e];t in f||(f[t]=e)})),Object.keys(u).forEach((function(e){var t=u[e];t in f||(f[t]=e)})),Object.keys(l).forEach((function(e){var t=l[e];t in f||(f[t]=e)}));var p=new RegExp(Object.keys(f).sort((function(e,t){return t.length-e.length})).join("|"),"g");t.fromKana=function(e){return e=r(e,a),e=r(e,u),e=r(e,o),e=r(e,i),e=e.replace(/っC/g,"TC").replace(/っ(.)/g,"$1$1"),e=e.replace(/ッC/g,"TC").replace(/ッ(.)/g,"$1$1"),e=e.replace(/[NM]'([^YAEIOU]|$)/g,"N$1"),e=e.replace(/Aー/g,"Ā"),e=e.replace(/Iー/g,"Ī"),e=e.replace(/Uー/g,"Ū"),e=e.replace(/Eー/g,"Ē"),e=e.replace(/Oー/g,"Ō")},t.toHiragana=function(e){return e=e.toUpperCase(),e=e.replace(/TC/g,"っC"),e=e.replace(/([^AEIOUN])\1/g,"っ$1"),e=r(e,d,c),e=e.replace(/N|M/g,"ん")},t.toKatakana=function(e){return e=e.toUpperCase(),e=e.replace(/TC/g,"ッC"),e=e.replace(/([^AEIOUN])\1/g,"ッ$1"),e=r(e,p,f),e=e.replace(/N|M/g,"ン")},t.cleanRomaji=function(e){return e=e.toUpperCase(),e=e.replace(/(\w)M([^AEIOUY]|$)/g,"$1N$2"),e=e.replace(/NN/g,"N'"),e=e.replace(/OU/g,"OO"),e=e.replace(/OH([^AIEO]|$)/g,"OO$1"),e=r(e,s)},t.containsHiragana=function(e){return new RegExp(Object.keys(o).join("|")).test(e)},t.containsKatakana=function(e){return new RegExp(Object.keys(i).join("|")).test(e)},t.containsKana=function(e){return t.containsHiragana(e)||t.containsKatakana(e)}},,,,,,,function(e,t){e.exports={type:"ABOUT",properties:{preset:"about1",sectionTitle:"{aboutSectionTitle}",cardImage1:"{cardImage1}",cardImage2:"{cardImage2}",cardImage3:"{cardImage3}",headline1:"{headline1}",headline2:"{headline2}",headline3:"{headline3}",description1:"{description1}",description2:"{description2}",description3:"{description3}"},options:{},childWidgets:[]}},function(e,t){e.exports={type:"CALENDAR",properties:{preset:"calendar1",sectionTitle:"Calendar",helpUrl:"https://www.godaddy.com/help/a-24592",icalURL:"https://calendar.google.com/calendar/ical/wsb.vnext%40gmail.com/public/basic.ics"},options:{},childWidgets:[]}},function(e,t){e.exports={type:"CONTACT",properties:{preset:"contact1",sectionTitle:"{contactSectionTitle}",formTitle:"{formTitle}",infoTitle:"{infoTitle}",info:"{info}",hours:"{hours}",formSuccessMessage:"{formSuccessMessage}"},options:{},childWidgets:[],data:{formFields:"{contactFormFields}"}}},function(e,t){e.exports={type:"CONTENT",properties:{preset:"content1",sectionTitle:"{contentSectionTitle}",sectionDescription:"{contentSectionDescription}",image:"{image1}",image1:"{image1}",image2:"{image2}",image3:"{image3}",headline1:"Detail your services",headline2:"Announce coming events",headline3:"Display real testimonials",headline4:"Promote current deals",headline5:"Share the big news",headline6:"Display their FAQs",description1:"If customers can’t find it, it doesn’t exist. Clearly list and describe the services you offer. Also, be sure to showcase a premium service.",description2:"Having a big sale, on-site celebrity, or other event? Be sure to announce it so everybody knows and gets excited about it.",description3:"Are your customers raving about you on social media? Share their great stories to help turn potential customers into loyal ones.",description4:"Running a holiday sale or weekly special? Definitely promote it here to get customers excited about getting a sweet deal.",description5:"Have you opened a new location, redesigned your shop, or added a new product or service? Don't keep it to yourself, let folks know.",description6:"Customers have questions, you have answers. Display the most frequently asked questions, so everybody benefits."},options:{},childWidgets:[]}},function(e,t){e.exports={type:"GALLERY",properties:{preset:"gallery1"},options:{},data:{galleryImages:"{galleryImages}"},childWidgets:[]}},function(e,t){e.exports={type:"MENU",properties:{preset:"menu1"},options:{},data:{},childWidgets:[]}},function(e,t){e.exports={type:"PAYMENT",properties:{preset:"payment1",sectionTitle:"{paymentSectionTitle}",image:"{image}",currencyCode:"{currencyCode}"},options:{},childWidgets:[]}},function(e,t){e.exports={type:"SHOP",properties:{preset:"shop1",sectionTitle:"{shopSectionTitle}"},options:{},childWidgets:[]}},function(e,t){e.exports={type:"SHOP_PRODUCT_GROUP",properties:{preset:"productGroup1",sectionTitle:"{shopProductGroupSectionTitle}"},options:{},childWidgets:[]}},function(e,t){e.exports={type:"SOCIAL",properties:{preset:"social1",sectionTitle:"{socialSectionTitle}"},options:{},childWidgets:[]}},function(e,t){e.exports={type:"SUBSCRIBE",properties:{preset:"subscribe1",sectionTitle:"{subscribeSectionTitle}",description:"{description}",subscribeButtonLabel:"{subscribeButtonLabel}",confirmationMessage:"{confirmationMessage}",backgroundImage:"{subscribeBackgroundImage}"},options:{},childWidgets:[]}},function(e,t){e.exports={type:"VIDEO",properties:{preset:"video1",sectionTitle:"Video",description:"Check out this great video"},data:{videoUrl:{rawUrl:"https://www.youtube.com/watch?v=6eXyTL8-2_A",embedUrl:"//youtube.com/embed/6eXyTL8-2_A?rel=0&showinfo=0"}},options:{},childWidgets:[]}},,,,,,,,function(e,t,n){"use strict";var r=n(1584),o=n(573),a=n(1444);e.exports=function(e,t){var n=t||{},i=!0;"string"==typeof n&&(n={separator:n}),"undefined"!=typeof n.separateNumbers&&(i=n.separateNumbers),e=e.replace(/(\S)['\u2018\u2019\u201A\u201B\u2032\u2035\u0301](\S)/g,"$1$2"),i&&(e=e.replace(/([^\d\s])([0-9]+)([^\d\s])/g,"$1 $2 $3"));var u=!1,l=n.lang;if("undefined"==typeof l)if(a.containsKana(e))e=a.fromKana(e),e=e.replace(/([^A-Za-z0-9\- ]+)/g,"");else if(/[\u4e00-\u9fa5]+/.test(e)){u=!0;var s="boolean"!=typeof n.tone||n.tone;e=o(e,{style:s?o.STYLE_TONE2:o.STYLE_NORMAL}).join(" "),e=e.replace(/([^0-9A-Za-z ]+)/g,""),e=e.replace(/([^1-4]) ([A-Za-z]) /g,"$1$2")}var c=n.replacement||n.separator;"string"!=typeof c&&(c="-");var d=r(e,{lang:l||"en",separator:c});return u&&(d=d.replace(/([^0-9])-([0-9])/g,"$1$2")),d}},,,,,,,,,,,,,,function(e,t,n){var r,o;!(function(){function a(e){return e&&e[0].toUpperCase()+e.slice(1)}function i(e){return Object.keys(e)}function u(e){var t=[];return i(e).forEach((function(n){t.push(e[n])})),t}function l(e){var t={};return i(e).forEach((function(n){t[e[n]]=n})),t}function s(e){return i(e).concat(u(e))}function c(){p=l(_),h=l(v),g={type:s(y).sort().filter((function(e,t,n){return n.indexOf(e)===t})).join("|"),fraction:"\\d+\\/\\d+",state:"\\b(?:"+i(b).concat(u(b)).map(f.escape).join("|")+")\\b",direct:u(_).sort((function(e,t){return e.length<t.length})).reduce((function(e,t){return e.concat([f.escape(t.replace(/\w/g,"$&.")),t])}),i(_)).join("|"),dircode:i(p).join("|"),zip:"\\d{5}(?:-?\\d{4})?",corner:"(?:\\band\\b|\\bat\\b|&|\\@)"},g.number="(?<number>\\d+-?\\d*)(?=\\D)",g.street="                                       \n\t      (?:                                                       \n\t        (?:(?<street_0>"+g.direct+")\\W+               \n\t           (?<type_0>"+g.type+")\\b                    \n\t        )                                                       \n\t        |                                                       \n\t        (?:(?<prefix_0>"+g.direct+")\\W+)?               \n\t        (?:                                                     \n\t          (?<street_1>[^,]*\\d)                                 \n\t          (?:[^\\w,]*(?<suffix_1>"+g.direct+")\\b)     \n\t          |                                                     \n\t          (?<street_2>[^,]+)                                    \n\t          (?:[^\\w,]+(?<type_2>"+g.type+")\\b)         \n\t          (?:[^\\w,]+(?<suffix_2>"+g.direct+")\\b)?    \n\t          |                                                     \n\t          (?<street_3>[^,]+?)                                   \n\t          (?:[^\\w,]+(?<type_3>"+g.type+")\\b)?        \n\t          (?:[^\\w,]+(?<suffix_3>"+g.direct+")\\b)?    \n\t        )                                                       \n\t      )",g.sec_unit_type_numbered="             \n\t      (?<sec_unit_type_1>su?i?te                      \n\t        |p\\W*[om]\\W*b(?:ox)?                        \n\t        |(?:ap|dep)(?:ar)?t(?:me?nt)?                 \n\t        |ro*m                                         \n\t        |flo*r?                                       \n\t        |uni?t                                        \n\t        |bu?i?ldi?n?g                                 \n\t        |ha?nga?r                                     \n\t        |lo?t                                         \n\t        |pier                                         \n\t        |slip                                         \n\t        |spa?ce?                                      \n\t        |stop                                         \n\t        |tra?i?le?r                                   \n\t        |box)(?![a-z]                                 \n\t      )                                               \n\t      ",g.sec_unit_type_unnumbered="           \n\t      (?<sec_unit_type_2>ba?se?me?n?t                 \n\t        |fro?nt                                       \n\t        |lo?bby                                       \n\t        |lowe?r                                       \n\t        |off?i?ce?                                    \n\t        |pe?n?t?ho?u?s?e?                             \n\t        |rear                                         \n\t        |side                                         \n\t        |uppe?r                                       \n\t      )\\b",g.sec_unit="                               \n\t      (?:                               #fix3             \n\t        (?:                             #fix1             \n\t          (?:                                             \n\t            (?:"+g.sec_unit_type_numbered+"\\W*) \n\t            |(?<sec_unit_type_3>\\#)\\W*                  \n\t          )                                               \n\t          (?<sec_unit_num_1>[\\w-]+)                      \n\t        )                                                 \n\t        |                                                 \n\t        "+g.sec_unit_type_unnumbered+"           \n\t      )",g.city_and_state="                       \n\t      (?:                                               \n\t        (?<city>[^\\d,]+?)\\W+                          \n\t        (?<state>"+g.state+")                  \n\t      )                                                 \n\t      ",g.place="                                \n\t      (?:"+g.city_and_state+"\\W*)?            \n\t      (?:(?<zip>"+g.zip+"))?                   \n\t      ",g.address=f("                      \n\t      ^                                                 \n\t      [^\\w\\#]*                                        \n\t      ("+g.number+")\\W*                       \n\t      (?:"+g.fraction+"\\W*)?                  \n\t         "+g.street+"\\W+                      \n\t      (?:"+g.sec_unit+")?\\W*          #fix2   \n\t         "+g.place+"                           \n\t      \\W*$","ix");var e="(?:\\W+|$)";g.informal_address=f("                   \n\t      ^                                                       \n\t      \\s*                                                    \n\t      (?:"+g.sec_unit+e+")?                        \n\t      (?:"+g.number+")?\\W*                          \n\t      (?:"+g.fraction+"\\W*)?                        \n\t         "+g.street+e+"                            \n\t      (?:"+g.sec_unit.replace(/_\d/g,"$&1")+e+")?  \n\t      (?:"+g.place+")?                               \n\t      ","ix"),g.intersection=f("                     \n\t      ^\\W*                                                 \n\t      "+g.street.replace(/_\d/g,"1$&")+"\\W*?      \n\t      \\s+"+g.corner+"\\s+                         \n\t      "+g.street.replace(/_\d/g,"2$&")+"\\W+     \n\t      "+g.place+"\\W*$","ix")}var d;d=this;var f;f=n(1601);var p,h,m={},g={},_={north:"N",northeast:"NE",east:"E",southeast:"SE",south:"S",southwest:"SW",west:"W",northwest:"NW"},y={allee:"aly",alley:"aly",ally:"aly",anex:"anx",annex:"anx",annx:"anx",arcade:"arc",av:"ave",aven:"ave",avenu:"ave",avenue:"ave",avn:"ave",avnue:"ave",bayoo:"byu",bayou:"byu",beach:"bch",bend:"bnd",bluf:"blf",bluff:"blf",bluffs:"blfs",bot:"btm",bottm:"btm",bottom:"btm",boul:"blvd",boulevard:"blvd",boulv:"blvd",branch:"br",brdge:"brg",bridge:"brg",brnch:"br",brook:"brk",brooks:"brks",burg:"bg",burgs:"bgs",bypa:"byp",bypas:"byp",bypass:"byp",byps:"byp",camp:"cp",canyn:"cyn",canyon:"cyn",cape:"cpe",causeway:"cswy",causway:"cswy",cen:"ctr",cent:"ctr",center:"ctr",centers:"ctrs",centr:"ctr",centre:"ctr",circ:"cir",circl:"cir",circle:"cir",circles:"cirs",ck:"crk",cliff:"clf",cliffs:"clfs",club:"clb",cmp:"cp",cnter:"ctr",cntr:"ctr",cnyn:"cyn",common:"cmn",corner:"cor",corners:"cors",course:"crse",court:"ct",courts:"cts",cove:"cv",coves:"cvs",cr:"crk",crcl:"cir",crcle:"cir",crecent:"cres",creek:"crk",crescent:"cres",cresent:"cres",crest:"crst",crossing:"xing",crossroad:"xrd",crscnt:"cres",crsent:"cres",crsnt:"cres",crssing:"xing",crssng:"xing",crt:"ct",curve:"curv",dale:"dl",dam:"dm",div:"dv",divide:"dv",driv:"dr",drive:"dr",drives:"drs",drv:"dr",dvd:"dv",estate:"est",estates:"ests",exp:"expy",expr:"expy",express:"expy",expressway:"expy",expw:"expy",extension:"ext",extensions:"exts",extn:"ext",extnsn:"ext",falls:"fls",ferry:"fry",field:"fld",fields:"flds",flat:"flt",flats:"flts",ford:"frd",fords:"frds",forest:"frst",forests:"frst",forg:"frg",forge:"frg",forges:"frgs",fork:"frk",forks:"frks",fort:"ft",freeway:"fwy",freewy:"fwy",frry:"fry",frt:"ft",frway:"fwy",frwy:"fwy",garden:"gdn",gardens:"gdns",gardn:"gdn",gateway:"gtwy",gatewy:"gtwy",gatway:"gtwy",glen:"gln",glens:"glns",grden:"gdn",grdn:"gdn",grdns:"gdns",green:"grn",greens:"grns",grov:"grv",grove:"grv",groves:"grvs",gtway:"gtwy",harb:"hbr",harbor:"hbr",harbors:"hbrs",harbr:"hbr",haven:"hvn",havn:"hvn",height:"hts",heights:"hts",hgts:"hts",highway:"hwy",highwy:"hwy",hill:"hl",hills:"hls",hiway:"hwy",hiwy:"hwy",hllw:"holw",hollow:"holw",hollows:"holw",holws:"holw",hrbor:"hbr",ht:"hts",hway:"hwy",inlet:"inlt",island:"is",islands:"iss",isles:"isle",islnd:"is",islnds:"iss",jction:"jct",jctn:"jct",jctns:"jcts",junction:"jct",junctions:"jcts",junctn:"jct",juncton:"jct",key:"ky",keys:"kys",knol:"knl",knoll:"knl",knolls:"knls",la:"ln",lake:"lk",lakes:"lks",landing:"lndg",lane:"ln",lanes:"ln",ldge:"ldg",light:"lgt",lights:"lgts",lndng:"lndg",loaf:"lf",lock:"lck",locks:"lcks",lodg:"ldg",lodge:"ldg",loops:"loop",manor:"mnr",manors:"mnrs",meadow:"mdw",meadows:"mdws",medows:"mdws",mill:"ml",mills:"mls",mission:"msn",missn:"msn",mnt:"mt",mntain:"mtn",mntn:"mtn",mntns:"mtns",motorway:"mtwy",mount:"mt",mountain:"mtn",mountains:"mtns",mountin:"mtn",mssn:"msn",mtin:"mtn",neck:"nck",orchard:"orch",orchrd:"orch",overpass:"opas",ovl:"oval",parks:"park",parkway:"pkwy",parkways:"pkwy",parkwy:"pkwy",passage:"psge",paths:"path",pikes:"pike",pine:"pne",pines:"pnes",pk:"park",pkway:"pkwy",pkwys:"pkwy",pky:"pkwy",place:"pl",plain:"pln",plaines:"plns",plains:"plns",plaza:"plz",plza:"plz",point:"pt",points:"pts",port:"prt",ports:"prts",prairie:"pr",prarie:"pr",prk:"park",prr:"pr",rad:"radl",radial:"radl",radiel:"radl",ranch:"rnch",ranches:"rnch",rapid:"rpd",rapids:"rpds",rdge:"rdg",rest:"rst",ridge:"rdg",ridges:"rdgs",river:"riv",rivr:"riv",rnchs:"rnch",road:"rd",roads:"rds",route:"rte",rvr:"riv",shoal:"shl",shoals:"shls",shoar:"shr",shoars:"shrs",shore:"shr",shores:"shrs",skyway:"skwy",spng:"spg",spngs:"spgs",spring:"spg",springs:"spgs",sprng:"spg",sprngs:"spgs",spurs:"spur",sqr:"sq",sqre:"sq",sqrs:"sqs",squ:"sq",square:"sq",squares:"sqs",station:"sta",statn:"sta",stn:"sta",str:"st",strav:"stra",strave:"stra",straven:"stra",stravenue:"stra",stravn:"stra",stream:"strm",street:"st",streets:"sts",streme:"strm",strt:"st",strvn:"stra",strvnue:"stra",sumit:"smt",sumitt:"smt",summit:"smt",terr:"ter",terrace:"ter",throughway:"trwy",tpk:"tpke",tr:"trl",trace:"trce",traces:"trce",track:"trak",tracks:"trak",trafficway:"trfy",trail:"trl",trails:"trl",trk:"trak",trks:"trak",trls:"trl",trnpk:"tpke",trpk:"tpke",tunel:"tunl",tunls:"tunl",tunnel:"tunl",tunnels:"tunl",tunnl:"tunl",turnpike:"tpke",turnpk:"tpke",underpass:"upas",union:"un",unions:"uns",valley:"vly",valleys:"vlys",vally:"vly",vdct:"via",viadct:"via",viaduct:"via",view:"vw",views:"vws",vill:"vlg",villag:"vlg",village:"vlg",villages:"vlgs",ville:"vl",villg:"vlg",villiage:"vlg",vist:"vis",vista:"vis",vlly:"vly",vst:"vis",vsta:"vis",walks:"walk",well:"wl",wells:"wls",wy:"way"},b={alabama:"AL",alaska:"AK","american samoa":"AS",arizona:"AZ",arkansas:"AR",california:"CA",colorado:"CO",connecticut:"CT",delaware:"DE","district of columbia":"DC","federated states of micronesia":"FM",florida:"FL",georgia:"GA",guam:"GU",hawaii:"HI",idaho:"ID",illinois:"IL",indiana:"IN",iowa:"IA",kansas:"KS",kentucky:"KY",louisiana:"LA",maine:"ME","marshall islands":"MH",maryland:"MD",massachusetts:"MA",michigan:"MI",minnesota:"MN",mississippi:"MS",missouri:"MO",montana:"MT",nebraska:"NE",nevada:"NV","new hampshire":"NH","new jersey":"NJ","new mexico":"NM","new york":"NY","north carolina":"NC","north dakota":"ND","northern mariana islands":"MP",ohio:"OH",oklahoma:"OK",oregon:"OR",palau:"PW",pennsylvania:"PA","puerto rico":"PR","rhode island":"RI","south carolina":"SC","south dakota":"SD",tennessee:"TN",texas:"TX",utah:"UT",vermont:"VT","virgin islands":"VI",virginia:"VA",washington:"WA","west virginia":"WV",wisconsin:"WI",wyoming:"WY"},v={"01":"AL","02":"AK","04":"AZ","05":"AR","06":"CA","08":"CO","09":"CT",10:"DE",11:"DC",12:"FL",13:"GA",15:"HI",16:"ID",17:"IL",18:"IN",19:"IA",20:"KS",21:"KY",22:"LA",23:"ME",24:"MD",25:"MA",26:"MI",27:"MN",28:"MS",29:"MO",30:"MT",31:"NE",32:"NV",33:"NH",34:"NJ",35:"NM",36:"NY",37:"NC",38:"ND",39:"OH",40:"OK",41:"OR",42:"PA",44:"RI",45:"SC",46:"SD",47:"TN",48:"TX",49:"UT",50:"VT",51:"VA",53:"WA",54:"WV",55:"WI",56:"WY",72:"PR",78:"VI"};c(),m.normalize_address=function(e){if(!e)return null;var t={};return Object.keys(e).forEach((function(n){if(["input","index"].indexOf(n)===-1&&!isFinite(n)){var r=isFinite(n.split("_").pop())?n.split("_").slice(0,-1).join("_"):n;e[n]&&(t[r]=e[n].trim().replace(/[^\w\s\-\#\&]/,""))}})),t.city&&(t.city=f.replace(t.city,f("^(?<dircode>"+g.dircode+")\\s+(?=\\S)","ix"),(function(e){return a(p[e.dircode.toUpperCase()])+" "}))),t.zip&&(t.zip=f.replace(t.zip,/^(.{5}).*/,"$1")),t},m.parseAddress=function(e){var t=f.exec(e,g.address);return m.normalize_address(t)},m.parseInformalAddress=function(e){var t=f.exec(e,g.informal_address);return m.normalize_address(t)},m.parseLocation=function(e){return f(g.corner,"xi").test(e)?m.parseIntersection(e):m.parseAddress(e)||m.parseInformalAddress(e)},m.parseIntersection=function(e){var t=f.exec(e,g.intersection);if(t=m.normalize_address(t),t&&(t.type2=t.type2||"",t.type1=t.type1||"",t.type2&&!t.type1||t.type1===t.type2)){var n=t.type2;n=f.replace(n,/s\W*$/,""),f("^"+g.type+"$","ix").test(n)&&(t.type1=t.type2=n)}return t},r=[],o=function(){return m}.apply(t,r),!(void 0!==o&&(e.exports=o))})()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to ReactCSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}}}var o=n(14),a=n(200),i=n(1555),u=n(1521),l=a.createClass({displayName:"ReactCSSTransitionGroup",propTypes:{transitionName:u.propTypes.name,transitionAppear:a.PropTypes.bool,transitionEnter:a.PropTypes.bool,transitionLeave:a.PropTypes.bool,transitionAppearTimeout:r("Appear"),transitionEnterTimeout:r("Enter"),transitionLeaveTimeout:r("Leave")},getDefaultProps:function(){return{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(e){return a.createElement(u,{name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave,appearTimeout:this.props.transitionAppearTimeout,enterTimeout:this.props.transitionEnterTimeout,leaveTimeout:this.props.transitionLeaveTimeout},e)},render:function(){return a.createElement(i,o({},this.props,{childFactory:this._wrapChild}))}});e.exports=l},function(e,t,n){"use strict";var r=n(200),o=n(584),a=n(1380),i=n(1554),u=n(609),l=17,s=r.createClass({displayName:"ReactCSSTransitionGroupChild",propTypes:{name:r.PropTypes.oneOfType([r.PropTypes.string,r.PropTypes.shape({enter:r.PropTypes.string,leave:r.PropTypes.string,active:r.PropTypes.string}),r.PropTypes.shape({enter:r.PropTypes.string,enterActive:r.PropTypes.string,leave:r.PropTypes.string,leaveActive:r.PropTypes.string,appear:r.PropTypes.string,appearActive:r.PropTypes.string})]).isRequired,appear:r.PropTypes.bool,enter:r.PropTypes.bool,leave:r.PropTypes.bool,appearTimeout:r.PropTypes.number,enterTimeout:r.PropTypes.number,leaveTimeout:r.PropTypes.number},transition:function(e,t,n){var r=o.findDOMNode(this);if(!r)return void(t&&t());var u=this.props.name[e]||this.props.name+"-"+e,l=this.props.name[e+"Active"]||u+"-active",s=null,c=function(e){e&&e.target!==r||(clearTimeout(s),a.removeClass(r,u),a.removeClass(r,l),i.removeEndEventListener(r,c),t&&t())};a.addClass(r,u),this.queueClass(l),n?(s=setTimeout(c,n),this.transitionTimeouts.push(s)):i.addEndEventListener(r,c)},queueClass:function(e){this.classNameQueue.push(e),this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,l))},flushClassNameQueue:function(){this.isMounted()&&this.classNameQueue.forEach(a.addClass.bind(a,o.findDOMNode(this))),this.classNameQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameQueue=[],this.transitionTimeouts=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach((function(e){clearTimeout(e)}))},componentWillAppear:function(e){this.props.appear?this.transition("appear",e,this.props.appearTimeout):e()},componentWillEnter:function(e){this.props.enter?this.transition("enter",e,this.props.enterTimeout):e()},componentWillLeave:function(e){this.props.leave?this.transition("leave",e,this.props.leaveTimeout):e()},render:function(){return u(this.props.children)}});e.exports=s},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(602),o={getChildMapping:function(e){return e?r(e):e},mergeChildMappings:function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},o=[];for(var a in e)t.hasOwnProperty(a)?o.length&&(r[a]=o,o=[]):o.push(a);var i,u={};for(var l in t){if(r.hasOwnProperty(l))for(i=0;i<r[l].length;i++){var s=r[l][i];u[r[l][i]]=n(s)}u[l]=n(l)}for(i=0;i<o.length;i++)u[o[i]]=n(o[i]);return u}};e.exports=o},function(e,t,n){"use strict";function r(){var e=u("animationend"),t=u("transitionend");e&&l.push(e),t&&l.push(t)}function o(e,t,n){e.addEventListener(t,n,!1)}function a(e,t,n){e.removeEventListener(t,n,!1)}var i=n(34),u=n(606),l=[];i.canUseDOM&&r();var s={addEndEventListener:function(e,t){return 0===l.length?void window.setTimeout(t,0):void l.forEach((function(n){o(e,n,t)}))},removeEndEventListener:function(e,t){0!==l.length&&l.forEach((function(n){a(e,n,t)}))}};e.exports=s},function(e,t,n){"use strict";var r=n(14),o=n(200),a=n(1553),i=n(40),u=o.createClass({displayName:"ReactTransitionGroup",propTypes:{component:o.PropTypes.any,childFactory:o.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:i.thatReturnsArgument}},getInitialState:function(){return{children:a.getChildMapping(this.props.children)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidMount:function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t)},componentWillReceiveProps:function(e){var t=a.getChildMapping(e.children),n=this.state.children;this.setState({children:a.mergeChildMappings(n,t)});var r;for(r in t){var o=n&&n.hasOwnProperty(r);!t[r]||o||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(r in n){var i=t&&t.hasOwnProperty(r);!n[r]||i||this.currentlyTransitioningKeys[r]||this.keysToLeave.push(r)}},componentDidUpdate:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)},performAppear:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillAppear?t.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)},_handleDoneAppearing:function(e){var t=this.refs[e];t.componentDidAppear&&t.componentDidAppear(),delete this.currentlyTransitioningKeys[e];var n=a.getChildMapping(this.props.children);n&&n.hasOwnProperty(e)||this.performLeave(e)},performEnter:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)},_handleDoneEntering:function(e){var t=this.refs[e];t.componentDidEnter&&t.componentDidEnter(),delete this.currentlyTransitioningKeys[e];var n=a.getChildMapping(this.props.children);n&&n.hasOwnProperty(e)||this.performLeave(e)},performLeave:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillLeave?t.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)},_handleDoneLeaving:function(e){var t=this.refs[e];t.componentDidLeave&&t.componentDidLeave(),delete this.currentlyTransitioningKeys[e];var n=a.getChildMapping(this.props.children);n&&n.hasOwnProperty(e)?this.performEnter(e):this.setState((function(t){var n=r({},t.children);return delete n[e],{children:n}}))},render:function(){var e=[];for(var t in this.state.children){var n=this.state.children[t];n&&e.push(o.cloneElement(this.props.childFactory(n),{ref:t,key:t}))}return o.createElement(this.props.component,this.props,e)}});e.exports=u},,,,,,,,,,,,,,,,,,,,,,function(e,t,n){(function(t){var r="object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this,o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,a=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(1578),o)r.regeneratorRuntime=a;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}}).call(t,(function(){return this})())},function(e,t,n){(function(t,n){!(function(t){"use strict";function r(e,t,n,r){var o=t&&t.prototype instanceof a?t:a,i=Object.create(o.prototype),u=new h(r||[]);return i._invoke=d(e,n,u),i}function o(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function a(){}function i(){}function u(){}function l(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function s(e){this.arg=e}function c(e){function t(n,r,a,i){var u=o(e[n],e,r);if("throw"!==u.type){var l=u.arg,c=l.value;return c instanceof s?Promise.resolve(c.arg).then((function(e){t("next",e,a,i)}),(function(e){t("throw",e,a,i)})):Promise.resolve(c).then((function(e){l.value=e,a(l)}),i)}i(u.arg)}function r(e,n){function r(){return new Promise(function(r,o){t(e,n,r,o)})}return a=a?a.then(r,r):r()}"object"==typeof n&&n.domain&&(t=n.domain.bind(t));var a;this._invoke=r}function d(e,t,n){var r=P;return function(a,i){if(r===I)throw new Error("Generator is already running");if(r===S){if("throw"===a)throw i;return g()}for(;;){var u=n.delegate;if(u){if("return"===a||"throw"===a&&u.iterator[a]===_){n.delegate=null;var l=u.iterator.return;if(l){var s=o(l,u.iterator,i);if("throw"===s.type){a="throw",i=s.arg;continue}}if("return"===a)continue}var s=o(u.iterator[a],u.iterator,i);if("throw"===s.type){n.delegate=null,a="throw",i=s.arg;continue}a="next",i=_;var c=s.arg;if(!c.done)return r=w,c;n[u.resultName]=c.value,n.next=u.nextLoc,n.delegate=null}if("next"===a)n.sent=n._sent=i;else if("throw"===a){if(r===P)throw r=S,i;n.dispatchException(i)&&(a="next",i=_)}else"return"===a&&n.abrupt("return",i);r=I;var s=o(e,t,n);if("normal"===s.type){r=n.done?S:w;var c={value:s.arg,done:n.done};if(s.arg!==C)return c;n.delegate&&"next"===a&&(i=_)}else"throw"===s.type&&(r=S,
a="throw",i=s.arg)}}}function f(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function p(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function h(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(f,this),this.reset(!0)}function m(e){if(e){var t=e[v];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(y.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=_,t.done=!0,t};return r.next=r}}return{next:g}}function g(){return{value:_,done:!0}}var _,y=Object.prototype.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},v=b.iterator||"@@iterator",E=b.toStringTag||"@@toStringTag",T="object"==typeof e,O=t.regeneratorRuntime;if(O)return void(T&&(e.exports=O));O=t.regeneratorRuntime=T?e.exports:{},O.wrap=r;var P="suspendedStart",w="suspendedYield",I="executing",S="completed",C={},x=u.prototype=a.prototype;i.prototype=x.constructor=u,u.constructor=i,u[E]=i.displayName="GeneratorFunction",O.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===i||"GeneratorFunction"===(t.displayName||t.name))},O.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,E in e||(e[E]="GeneratorFunction")),e.prototype=Object.create(x),e},O.awrap=function(e){return new s(e)},l(c.prototype),O.async=function(e,t,n,o){var a=new c(r(e,t,n,o));return O.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},l(x),x[v]=function(){return this},x[E]="Generator",x.toString=function(){return"[object Generator]"},O.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},O.values=m,h.prototype={constructor:h,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=_,this.done=!1,this.delegate=null,this.tryEntries.forEach(p),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=_)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return a.type="throw",a.arg=e,n.next=t,!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var i=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(i&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&y.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?this.next=o.finallyLoc:this.complete(a),C},complete:function(e,t){if("throw"===e.type)throw e.arg;"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=e.arg,this.next="end"):"normal"===e.type&&t&&(this.next=t)},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),p(n),C}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;p(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:m(e),resultName:t,nextLoc:n},C}}})("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(t,(function(){return this})(),n(18))},,,,,,function(e,t,n){var r,o;/**
	 * speakingurl
	 * @version v10.0.0
	 * @link http://pid.github.io/speakingurl/
	 * @license BSD
	 * @author Sascha Droste
	 */
!(function(n,a){"use strict";var i=function(e,t){var n,r,o,a,i,u,c,d,f,p,h,m,g,_,y,b="-",v=[";","?",":","@","&","=","+","$",",","/"],E=[";","?",":","@","&","=","+","$",","],T=[".","!","~","*","'","(",")"],O="",P="",w=!0,I={},S={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"Ae","Å":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"Oe","Ő":"O","Ø":"O","Ù":"U","Ú":"U","Û":"U","Ü":"Ue","Ű":"U","Ý":"Y","Þ":"TH","ß":"ss","à":"a","á":"a","â":"a","ã":"a","ä":"ae","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"oe","ő":"o","ø":"o","ù":"u","ú":"u","û":"u","ü":"ue","ű":"u","ý":"y","þ":"th","ÿ":"y","ẞ":"SS","ا":"a","أ":"a","إ":"i","آ":"aa","ؤ":"u","ئ":"e","ء":"a","ب":"b","ت":"t","ث":"th","ج":"j","ح":"h","خ":"kh","د":"d","ذ":"th","ر":"r","ز":"z","س":"s","ش":"sh","ص":"s","ض":"dh","ط":"t","ظ":"z","ع":"a","غ":"gh","ف":"f","ق":"q","ك":"k","ل":"l","م":"m","ن":"n","ه":"h","و":"w","ي":"y","ى":"a","ة":"h","ﻻ":"la","ﻷ":"laa","ﻹ":"lai","ﻵ":"laa","گ":"g","چ":"ch","پ":"p","ژ":"zh","ک":"k","ی":"y","َ":"a","ً":"an","ِ":"e","ٍ":"en","ُ":"u","ٌ":"on","ْ":"","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","က":"k","ခ":"kh","ဂ":"g","ဃ":"ga","င":"ng","စ":"s","ဆ":"sa","ဇ":"z","စျ":"za","ည":"ny","ဋ":"t","ဌ":"ta","ဍ":"d","ဎ":"da","ဏ":"na","တ":"t","ထ":"ta","ဒ":"d","ဓ":"da","န":"n","ပ":"p","ဖ":"pa","ဗ":"b","ဘ":"ba","မ":"m","ယ":"y","ရ":"ya","လ":"l","ဝ":"w","သ":"th","ဟ":"h","ဠ":"la","အ":"a","ြ":"y","ျ":"ya","ွ":"w","ြွ":"yw","ျွ":"ywa","ှ":"h","ဧ":"e","၏":"-e","ဣ":"i","ဤ":"-i","ဉ":"u","ဦ":"-u","ဩ":"aw","သြော":"aw","ဪ":"aw","၀":"0","၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","္":"","့":"","း":"","č":"c","ď":"d","ě":"e","ň":"n","ř":"r","š":"s","ť":"t","ů":"u","ž":"z","Č":"C","Ď":"D","Ě":"E","Ň":"N","Ř":"R","Š":"S","Ť":"T","Ů":"U","Ž":"Z","ހ":"h","ށ":"sh","ނ":"n","ރ":"r","ބ":"b","ޅ":"lh","ކ":"k","އ":"a","ވ":"v","މ":"m","ފ":"f","ދ":"dh","ތ":"th","ލ":"l","ގ":"g","ޏ":"gn","ސ":"s","ޑ":"d","ޒ":"z","ޓ":"t","ޔ":"y","ޕ":"p","ޖ":"j","ޗ":"ch","ޘ":"tt","ޙ":"hh","ޚ":"kh","ޛ":"th","ޜ":"z","ޝ":"sh","ޞ":"s","ޟ":"d","ޠ":"t","ޡ":"z","ޢ":"a","ޣ":"gh","ޤ":"q","ޥ":"w","ަ":"a","ާ":"aa","ި":"i","ީ":"ee","ު":"u","ޫ":"oo","ެ":"e","ޭ":"ey","ޮ":"o","ޯ":"oa","ް":"","α":"a","β":"v","γ":"g","δ":"d","ε":"e","ζ":"z","η":"i","θ":"th","ι":"i","κ":"k","λ":"l","μ":"m","ν":"n","ξ":"ks","ο":"o","π":"p","ρ":"r","σ":"s","τ":"t","υ":"y","φ":"f","χ":"x","ψ":"ps","ω":"o","ά":"a","έ":"e","ί":"i","ό":"o","ύ":"y","ή":"i","ώ":"o","ς":"s","ϊ":"i","ΰ":"y","ϋ":"y","ΐ":"i","Α":"A","Β":"B","Γ":"G","Δ":"D","Ε":"E","Ζ":"Z","Η":"I","Θ":"TH","Ι":"I","Κ":"K","Λ":"L","Μ":"M","Ν":"N","Ξ":"KS","Ο":"O","Π":"P","Ρ":"R","Σ":"S","Τ":"T","Υ":"Y","Φ":"F","Χ":"X","Ψ":"PS","Ω":"W","Ά":"A","Έ":"E","Ί":"I","Ό":"O","Ύ":"Y","Ή":"I","Ώ":"O","Ϊ":"I","Ϋ":"Y","ā":"a","ē":"e","ģ":"g","ī":"i","ķ":"k","ļ":"l","ņ":"n","ū":"u","Ā":"A","Ē":"E","Ģ":"G","Ī":"I","Ķ":"k","Ļ":"L","Ņ":"N","Ū":"U","Ќ":"Kj","ќ":"kj","Љ":"Lj","љ":"lj","Њ":"Nj","њ":"nj","Тс":"Ts","тс":"ts","ą":"a","ć":"c","ę":"e","ł":"l","ń":"n","ś":"s","ź":"z","ż":"z","Ą":"A","Ć":"C","Ę":"E","Ł":"L","Ń":"N","Ś":"S","Ź":"Z","Ż":"Z","Є":"Ye","І":"I","Ї":"Yi","Ґ":"G","є":"ye","і":"i","ї":"yi","ґ":"g","ă":"a","Ă":"A","ș":"s","Ș":"S","ț":"t","Ț":"T","ţ":"t","Ţ":"T","а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ё":"yo","ж":"zh","з":"z","и":"i","й":"i","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"kh","ц":"c","ч":"ch","ш":"sh","щ":"sh","ъ":"","ы":"y","ь":"","э":"e","ю":"yu","я":"ya","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Е":"E","Ё":"Yo","Ж":"Zh","З":"Z","И":"I","Й":"I","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","Ф":"F","Х":"Kh","Ц":"C","Ч":"Ch","Ш":"Sh","Щ":"Sh","Ъ":"","Ы":"Y","Ь":"","Э":"E","Ю":"Yu","Я":"Ya","ђ":"dj","ј":"j","ћ":"c","џ":"dz","Ђ":"Dj","Ј":"j","Ћ":"C","Џ":"Dz","ľ":"l","ĺ":"l","ŕ":"r","Ľ":"L","Ĺ":"L","Ŕ":"R","ş":"s","Ş":"S","ı":"i","İ":"I","ğ":"g","Ğ":"G","ả":"a","Ả":"A","ẳ":"a","Ẳ":"A","ẩ":"a","Ẩ":"A","đ":"d","Đ":"D","ẹ":"e","Ẹ":"E","ẽ":"e","Ẽ":"E","ẻ":"e","Ẻ":"E","ế":"e","Ế":"E","ề":"e","Ề":"E","ệ":"e","Ệ":"E","ễ":"e","Ễ":"E","ể":"e","Ể":"E","ọ":"o","Ọ":"o","ố":"o","Ố":"O","ồ":"o","Ồ":"O","ổ":"o","Ổ":"O","ộ":"o","Ộ":"O","ỗ":"o","Ỗ":"O","ơ":"o","Ơ":"O","ớ":"o","Ớ":"O","ờ":"o","Ờ":"O","ợ":"o","Ợ":"O","ỡ":"o","Ỡ":"O","Ở":"o","ở":"o","ị":"i","Ị":"I","ĩ":"i","Ĩ":"I","ỉ":"i","Ỉ":"i","ủ":"u","Ủ":"U","ụ":"u","Ụ":"U","ũ":"u","Ũ":"U","ư":"u","Ư":"U","ứ":"u","Ứ":"U","ừ":"u","Ừ":"U","ự":"u","Ự":"U","ữ":"u","Ữ":"U","ử":"u","Ử":"ư","ỷ":"y","Ỷ":"y","ỳ":"y","Ỳ":"Y","ỵ":"y","Ỵ":"Y","ỹ":"y","Ỹ":"Y","ạ":"a","Ạ":"A","ấ":"a","Ấ":"A","ầ":"a","Ầ":"A","ậ":"a","Ậ":"A","ẫ":"a","Ẫ":"A","ắ":"a","Ắ":"A","ằ":"a","Ằ":"A","ặ":"a","Ặ":"A","ẵ":"a","Ẵ":"A","“":'"',"”":'"',"‘":"'","’":"'","∂":"d","ƒ":"f","™":"(TM)","©":"(C)","œ":"oe","Œ":"OE","®":"(R)","†":"+","℠":"(SM)","…":"...","˚":"o","º":"o","ª":"a","•":"*","၊":",","။":".",$:"USD","€":"EUR","₢":"BRN","₣":"FRF","£":"GBP","₤":"ITL","₦":"NGN","₧":"ESP","₩":"KRW","₪":"ILS","₫":"VND","₭":"LAK","₮":"MNT","₯":"GRD","₱":"ARS","₲":"PYG","₳":"ARA","₴":"UAH","₵":"GHS","¢":"cent","¥":"CNY","元":"CNY","円":"YEN","﷼":"IRR","₠":"EWE","฿":"THB","₨":"INR","₹":"INR","₰":"PF"},C=["်","ް"],x={"ာ":"a","ါ":"a","ေ":"e","ဲ":"e","ိ":"i","ီ":"i","ို":"o","ု":"u","ူ":"u","ေါင်":"aung","ော":"aw","ော်":"aw","ေါ":"aw","ေါ်":"aw","်":"်","က်":"et","ိုက်":"aik","ောက်":"auk","င်":"in","ိုင်":"aing","ောင်":"aung","စ်":"it","ည်":"i","တ်":"at","ိတ်":"eik","ုတ်":"ok","ွတ်":"ut","ေတ်":"it","ဒ်":"d","ိုဒ်":"ok","ုဒ်":"ait","န်":"an","ာန်":"an","ိန်":"ein","ုန်":"on","ွန်":"un","ပ်":"at","ိပ်":"eik","ုပ်":"ok","ွပ်":"ut","န်ုပ်":"nub","မ်":"an","ိမ်":"ein","ုမ်":"on","ွမ်":"un","ယ်":"e","ိုလ်":"ol","ဉ်":"in","ံ":"an","ိံ":"ein","ုံ":"on","ައް":"ah","ަށް":"ah"},k={en:{},az:{"ç":"c","ə":"e","ğ":"g","ı":"i","ö":"o","ş":"s","ü":"u","Ç":"C","Ə":"E","Ğ":"G","İ":"I","Ö":"O","Ş":"S","Ü":"U"},cs:{"č":"c","ď":"d","ě":"e","ň":"n","ř":"r","š":"s","ť":"t","ů":"u","ž":"z","Č":"C","Ď":"D","Ě":"E","Ň":"N","Ř":"R","Š":"S","Ť":"T","Ů":"U","Ž":"Z"},fi:{"ä":"a","Ä":"A","ö":"o","Ö":"O"},hu:{"ä":"a","Ä":"A","ö":"o","Ö":"O","ü":"u","Ü":"U","ű":"u","Ű":"U"},lt:{"ą":"a","č":"c","ę":"e","ė":"e","į":"i","š":"s","ų":"u","ū":"u","ž":"z","Ą":"A","Č":"C","Ę":"E","Ė":"E","Į":"I","Š":"S","Ų":"U","Ū":"U"},lv:{"ā":"a","č":"c","ē":"e","ģ":"g","ī":"i","ķ":"k","ļ":"l","ņ":"n","š":"s","ū":"u","ž":"z","Ā":"A","Č":"C","Ē":"E","Ģ":"G","Ī":"i","Ķ":"k","Ļ":"L","Ņ":"N","Š":"S","Ū":"u","Ž":"Z"},pl:{"ą":"a","ć":"c","ę":"e","ł":"l","ń":"n","ó":"o","ś":"s","ź":"z","ż":"z","Ą":"A","Ć":"C","Ę":"e","Ł":"L","Ń":"N","Ó":"O","Ś":"S","Ź":"Z","Ż":"Z"},sk:{"ä":"a","Ä":"A"},sr:{"љ":"lj","њ":"nj","Љ":"Lj","Њ":"Nj","đ":"dj","Đ":"Dj"},tr:{"Ü":"U","Ö":"O","ü":"u","ö":"o"}},D={ar:{"∆":"delta","∞":"la-nihaya","♥":"hob","&":"wa","|":"aw","<":"aqal-men",">":"akbar-men","∑":"majmou","¤":"omla"},az:{},ca:{"∆":"delta","∞":"infinit","♥":"amor","&":"i","|":"o","<":"menys que",">":"mes que","∑":"suma dels","¤":"moneda"},cz:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"nebo","<":"mene jako",">":"vice jako","∑":"soucet","¤":"mena"},de:{"∆":"delta","∞":"unendlich","♥":"Liebe","&":"und","|":"oder","<":"kleiner als",">":"groesser als","∑":"Summe von","¤":"Waehrung"},dv:{"∆":"delta","∞":"kolunulaa","♥":"loabi","&":"aai","|":"noonee","<":"ah vure kuda",">":"ah vure bodu","∑":"jumula","¤":"faisaa"},en:{"∆":"delta","∞":"infinity","♥":"love","&":"and","|":"or","<":"less than",">":"greater than","∑":"sum","¤":"currency"},es:{"∆":"delta","∞":"infinito","♥":"amor","&":"y","|":"u","<":"menos que",">":"mas que","∑":"suma de los","¤":"moneda"},fa:{"∆":"delta","∞":"bi-nahayat","♥":"eshgh","&":"va","|":"ya","<":"kamtar-az",">":"bishtar-az","∑":"majmooe","¤":"vahed"},fr:{"∆":"delta","∞":"infiniment","♥":"Amour","&":"et","|":"ou","<":"moins que",">":"superieure a","∑":"somme des","¤":"monnaie"},gr:{},hu:{"∆":"delta","∞":"vegtelen","♥":"szerelem","&":"es","|":"vagy","<":"kisebb mint",">":"nagyobb mint","∑":"szumma","¤":"penznem"},it:{"∆":"delta","∞":"infinito","♥":"amore","&":"e","|":"o","<":"minore di",">":"maggiore di","∑":"somma","¤":"moneta"},lt:{},lv:{"∆":"delta","∞":"bezgaliba","♥":"milestiba","&":"un","|":"vai","<":"mazak neka",">":"lielaks neka","∑":"summa","¤":"valuta"},my:{"∆":"kwahkhyaet","∞":"asaonasme","♥":"akhyait","&":"nhin","|":"tho","<":"ngethaw",">":"kyithaw","∑":"paungld","¤":"ngwekye"},mk:{},nl:{"∆":"delta","∞":"oneindig","♥":"liefde","&":"en","|":"of","<":"kleiner dan",">":"groter dan","∑":"som","¤":"valuta"},pl:{"∆":"delta","∞":"nieskonczonosc","♥":"milosc","&":"i","|":"lub","<":"mniejsze niz",">":"wieksze niz","∑":"suma","¤":"waluta"},pt:{"∆":"delta","∞":"infinito","♥":"amor","&":"e","|":"ou","<":"menor que",">":"maior que","∑":"soma","¤":"moeda"},ro:{"∆":"delta","∞":"infinit","♥":"dragoste","&":"si","|":"sau","<":"mai mic ca",">":"mai mare ca","∑":"suma","¤":"valuta"},ru:{"∆":"delta","∞":"beskonechno","♥":"lubov","&":"i","|":"ili","<":"menshe",">":"bolshe","∑":"summa","¤":"valjuta"},sk:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"alebo","<":"menej ako",">":"viac ako","∑":"sucet","¤":"mena"},sr:{},tr:{"∆":"delta","∞":"sonsuzluk","♥":"ask","&":"ve","|":"veya","<":"kucuktur",">":"buyuktur","∑":"toplam","¤":"para birimi"},uk:{"∆":"delta","∞":"bezkinechnist","♥":"lubov","&":"i","|":"abo","<":"menshe",">":"bilshe","∑":"suma","¤":"valjuta"},vn:{"∆":"delta","∞":"vo cuc","♥":"yeu","&":"va","|":"hoac","<":"nho hon",">":"lon hon","∑":"tong","¤":"tien te"}};if("string"!=typeof e)return"";if("string"==typeof t&&(b=t),c=D.en,d=k.en,"object"==typeof t){n=t.maintainCase||!1,I=t.custom&&"object"==typeof t.custom?t.custom:I,o=+t.truncate>1&&t.truncate||!1,a=t.uric||!1,i=t.uricNoSlash||!1,u=t.mark||!1,w=t.symbols!==!1&&t.lang!==!1,b=t.separator||b,a&&(y+=v.join("")),i&&(y+=E.join("")),u&&(y+=T.join("")),c=t.lang&&D[t.lang]&&w?D[t.lang]:w?D.en:{},d=t.lang&&k[t.lang]?k[t.lang]:t.lang===!1||t.lang===!0?{}:k.en,t.titleCase&&"number"==typeof t.titleCase.length&&Array.prototype.toString.call(t.titleCase)?(t.titleCase.forEach((function(e){I[e+""]=e+""})),r=!0):r=!!t.titleCase,t.custom&&"number"==typeof t.custom.length&&Array.prototype.toString.call(t.custom)&&t.custom.forEach((function(e){I[e+""]=e+""})),Object.keys(I).forEach((function(t){var n;n=t.length>1?new RegExp("\\b"+l(t)+"\\b","gi"):new RegExp(l(t),"gi"),e=e.replace(n,I[t])}));for(h in I)y+=h}for(y+=b,y=l(y),e=e.replace(/(^\s+|\s+$)/g,""),g=!1,_=!1,p=0,m=e.length;p<m;p++)h=e[p],s(h,I)?g=!1:d[h]?(h=g&&d[h].match(/[A-Za-z0-9]/)?" "+d[h]:d[h],g=!1):h in S?(p+1<m&&C.indexOf(e[p+1])>=0?(P+=h,h=""):_===!0?(h=x[P]+S[h],P=""):h=g&&S[h].match(/[A-Za-z0-9]/)?" "+S[h]:S[h],g=!1,_=!1):h in x?(P+=h,h="",p===m-1&&(h=x[P]),_=!0):!c[h]||a&&v.join("").indexOf(h)!==-1||i&&E.join("").indexOf(h)!==-1?(_===!0?(h=x[P]+h,P="",_=!1):g&&(/[A-Za-z0-9]/.test(h)||O.substr(-1).match(/A-Za-z0-9]/))&&(h=" "+h),g=!1):(h=g||O.substr(-1).match(/[A-Za-z0-9]/)?b+c[h]:c[h],h+=void 0!==e[p+1]&&e[p+1].match(/[A-Za-z0-9]/)?b:"",g=!0),O+=h.replace(new RegExp("[^\\w\\s"+y+"_-]","g"),b);return r&&(O=O.replace(/(\w)(\S*)/g,(function(e,t,n){var r=t.toUpperCase()+(null!==n?n:"");return Object.keys(I).indexOf(r.toLowerCase())<0?r:r.toLowerCase()}))),O=O.replace(/\s+/g,b).replace(new RegExp("\\"+b+"+","g"),b).replace(new RegExp("(^\\"+b+"+|\\"+b+"+$)","g"),""),o&&O.length>o&&(f=O.charAt(o)===b,O=O.slice(0,o),f||(O=O.slice(0,O.lastIndexOf(b)))),n||r||(O=O.toLowerCase()),O},u=function(e){return function(t){return i(t,e)}},l=function(e){return e.replace(/[-\\^$*+?.()|[\]{}\/]/g,"\\$&")},s=function(e,t){for(var n in t)if(t[n]===e)return!0};"undefined"!=typeof e&&e.exports?(e.exports=i,e.exports.createSlug=u):(r=[],o=function(){return i}.apply(t,r),!(void 0!==o&&(e.exports=o)))})(this)},,,,,,,,,,,,,,,,,function(e,t){/*!
	 * XRegExp 3.1.1
	 * <xregexp.com>
	 * Steven Levithan (c) 2007-2016 MIT License
	 */
"use strict";function n(e){var t=!0;try{new RegExp("",e)}catch(e){t=!1}return t&&"y"===e?new RegExp("aa|.","y").test("b"):t}function r(e,t,n,r,o){var a;if(e[T]={captureNames:t},o)return e;if(e.__proto__)e.__proto__=E.prototype;else for(a in E.prototype)e[a]=E.prototype[a];return e[T].source=n,e[T].flags=r?r.split("").sort().join(""):r,e}function o(e){return P.replace.call(e,/([\s\S])(?=[\s\S]*\1)/g,"")}function a(e,t){if(!E.isRegExp(e))throw new TypeError("Type RegExp expected");var n=e[T]||{},a=u(e),i="",s="",c=null,d=null;return t=t||{},t.removeG&&(s+="g"),t.removeY&&(s+="y"),s&&(a=P.replace.call(a,new RegExp("["+s+"]+","g"),"")),t.addG&&(i+="g"),t.addY&&(i+="y"),i&&(a=o(a+i)),t.isInternalOnly||(void 0!==n.source&&(c=n.source),null!=n.flags&&(d=i?o(n.flags+i):n.flags)),e=r(new RegExp(e.source,a),l(e)?n.captureNames.slice(0):null,c,d,t.isInternalOnly)}function i(e){return parseInt(e,16)}function u(e){return N?e.flags:P.exec.call(/\/([a-z]*)$/i,RegExp.prototype.toString.call(e))[1]}function l(e){return!(!e[T]||!e[T].captureNames)}function s(e){return parseInt(e,10).toString(16)}function c(e,t){var n,r=e.length;for(n=0;n<r;++n)if(e[n]===t)return n;return-1}function d(e,t){return R.call(e)==="[object "+t+"]"}function f(e,t,n){return P.test.call(n.indexOf("x")>-1?/^(?:\s|#[^#\n]*|\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/:/^(?:\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/,e.slice(t))}function p(e){for(;e.length<4;)e="0"+e;return e}function h(e,t){var n;if(o(t)!==t)throw new SyntaxError("Invalid duplicate regex flag "+t);for(e=P.replace.call(e,/^\(\?([\w$]+)\)/,(function(e,n){if(P.test.call(/[gy]/,n))throw new SyntaxError("Cannot use flag g or y in mode modifier "+e);return t=o(t+n),""})),n=0;n<t.length;++n)if(!U[t.charAt(n)])throw new SyntaxError("Unknown regex flag "+t.charAt(n));return{pattern:e,flags:t}}function m(e){var t={};return d(e,"String")?(E.forEach(e,/[^\s,]+/,(function(e){t[e]=!0})),t):e}function g(e){if(!/^[\w$]$/.test(e))throw new Error("Flag must be a single character A-Za-z0-9_$");U[e]=!0}function _(e,t,n,r,o){for(var a,i,u=C.length,l=e.charAt(n),s=null;u--;)if(i=C[u],!(i.leadChar&&i.leadChar!==l||i.scope!==r&&"all"!==i.scope||i.flag&&t.indexOf(i.flag)===-1)&&(a=E.exec(e,i.regex,n,"sticky"))){s={matchLength:a[0].length,output:i.handler.call(o,a,r,t),reparse:i.reparse};break}return s}function y(e){O.astral=e}function b(e){RegExp.prototype.exec=(e?w:P).exec,RegExp.prototype.test=(e?w:P).test,String.prototype.match=(e?w:P).match,String.prototype.replace=(e?w:P).replace,String.prototype.split=(e?w:P).split,O.natives=e}function v(e){if(null==e)throw new TypeError("Cannot convert null or undefined to object");return e}function E(e,t){if(E.isRegExp(e)){if(void 0!==t)throw new TypeError("Cannot supply flags when copying a RegExp");return a(e)}if(e=void 0===e?"":String(e),t=void 0===t?"":String(t),E.isInstalled("astral")&&t.indexOf("A")===-1&&(t+="A"),S[e]||(S[e]={}),!S[e][t]){for(var n,o={hasNamedCapture:!1,captureNames:[]},i=x,u="",l=0,s=h(e,t),c=s.pattern,d=s.flags;l<c.length;){do n=_(c,d,l,i,o),n&&n.reparse&&(c=c.slice(0,l)+n.output+c.slice(l+n.matchLength));while(n&&n.reparse);if(n)u+=n.output,l+=n.matchLength||1;else{var f=E.exec(c,D[i],l,"sticky")[0];u+=f,l+=f.length,"["===f&&i===x?i=k:"]"===f&&i===k&&(i=x)}}S[e][t]={pattern:P.replace.call(u,/(?:\(\?:\))+/g,"(?:)"),flags:P.replace.call(d,/[^gimuy]+/g,""),captures:o.hasNamedCapture?o.captureNames:null}}var p=S[e][t];return r(new RegExp(p.pattern,p.flags),p.captures,e,t)}var T="xregexp",O={astral:!1,natives:!1},P={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},w={},I={},S={},C=[],x="default",k="class",D={default:/\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|\(\?(?:[:=!]|<[=!])|[?*+]\?|{\d+(?:,\d*)?}\??|[\s\S]/,class:/\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|[\s\S]/},A=/\$(?:{([\w$]+)}|(\d\d?|[\s\S]))/g,M=void 0===P.exec.call(/()??/,"")[1],N=void 0!==/x/.flags,R={}.toString,j=n("u"),L=n("y"),U={g:!0,i:!0,m:!0,u:j,y:L};E.prototype=new RegExp,E.version="3.1.1",E._hasNativeFlag=n,E._dec=i,E._hex=s,E._pad4=p,E.addToken=function(e,t,n){n=n||{};var r,o=n.optionalFlags;if(n.flag&&g(n.flag),o)for(o=P.split.call(o,""),r=0;r<o.length;++r)g(o[r]);C.push({regex:a(e,{addG:!0,addY:L,isInternalOnly:!0}),handler:t,scope:n.scope||x,flag:n.flag,reparse:n.reparse,leadChar:n.leadChar}),E.cache.flush("patterns")},E.cache=function(e,t){return I[e]||(I[e]={}),I[e][t]||(I[e][t]=E(e,t))},E.cache.flush=function(e){"patterns"===e?S={}:I={}},E.escape=function(e){return P.replace.call(v(e),/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},E.exec=function(e,t,n,r){var o,i,u="g",l=!1;return l=L&&!!(r||t.sticky&&r!==!1),l&&(u+="y"),t[T]=t[T]||{},i=t[T][u]||(t[T][u]=a(t,{addG:!0,addY:l,removeY:r===!1,isInternalOnly:!0})),i.lastIndex=n=n||0,o=w.exec.call(i,e),r&&o&&o.index!==n&&(o=null),t.global&&(t.lastIndex=o?i.lastIndex:0),o},E.forEach=function(e,t,n){for(var r,o=0,a=-1;r=E.exec(e,t,o);)n(r,++a,e,t),o=r.index+(r[0].length||1)},E.globalize=function(e){return a(e,{addG:!0})},E.install=function(e){e=m(e),!O.astral&&e.astral&&y(!0),!O.natives&&e.natives&&b(!0)},E.isInstalled=function(e){return!!O[e]},E.isRegExp=function(e){return"[object RegExp]"===R.call(e)},E.match=function(e,t,n){var r,o,i=t.global&&"one"!==n||"all"===n,u=(i?"g":"")+(t.sticky?"y":"")||"noGY";return t[T]=t[T]||{},o=t[T][u]||(t[T][u]=a(t,{addG:!!i,removeG:"one"===n,isInternalOnly:!0})),r=P.match.call(v(e),o),t.global&&(t.lastIndex="one"===n&&r?r.index+r[0].length:0),i?r||[]:r&&r[0]},E.matchChain=function(e,t){return (function e(n,r){function o(e){if(a.backref){if(!(e.hasOwnProperty(a.backref)||+a.backref<e.length))throw new ReferenceError("Backreference to undefined group: "+a.backref);i.push(e[a.backref]||"")}else i.push(e[0])}for(var a=t[r].regex?t[r]:{regex:t[r]},i=[],u=0;u<n.length;++u)E.forEach(n[u],a.regex,o);return r!==t.length-1&&i.length?e(i,r+1):i})([e],0)},E.replace=function(e,t,n,r){var o,i=E.isRegExp(t),u=t.global&&"one"!==r||"all"===r,l=(u?"g":"")+(t.sticky?"y":"")||"noGY",s=t;return i?(t[T]=t[T]||{},s=t[T][l]||(t[T][l]=a(t,{addG:!!u,removeG:"one"===r,isInternalOnly:!0}))):u&&(s=new RegExp(E.escape(String(t)),"g")),o=w.replace.call(v(e),s,n),i&&t.global&&(t.lastIndex=0),o},E.replaceEach=function(e,t){var n,r;for(n=0;n<t.length;++n)r=t[n],e=E.replace(e,r[0],r[1],r[2]);return e},E.split=function(e,t,n){return w.split.call(v(e),t,n)},E.test=function(e,t,n,r){return!!E.exec(e,t,n,r)},E.uninstall=function(e){e=m(e),O.astral&&e.astral&&y(!1),O.natives&&e.natives&&b(!1)},E.union=function(e,t){function n(e,t,n){var i=o[a-r];if(t){if(++a,i)return"(?<"+i+">"}else if(n)return"\\"+(+n+r);return e}var r,o,a=0;if(!d(e,"Array")||!e.length)throw new TypeError("Must provide a nonempty array of patterns to merge");for(var i,u=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*]/g,l=[],s=0;s<e.length;++s)i=e[s],E.isRegExp(i)?(r=a,o=i[T]&&i[T].captureNames||[],l.push(P.replace.call(E(i.source).source,u,n))):l.push(E.escape(i));return E(l.join("|"),t)},w.exec=function(e){var t,n,r,o=this.lastIndex,i=P.exec.apply(this,arguments);if(i){if(!M&&i.length>1&&c(i,"")>-1&&(n=a(this,{removeG:!0,isInternalOnly:!0}),P.replace.call(String(e).slice(i.index),n,(function(){var e,t=arguments.length;for(e=1;e<t-2;++e)void 0===arguments[e]&&(i[e]=void 0)}))),this[T]&&this[T].captureNames)for(r=1;r<i.length;++r)t=this[T].captureNames[r-1],t&&(i[t]=i[r]);this.global&&!i[0].length&&this.lastIndex>i.index&&(this.lastIndex=i.index)}return this.global||(this.lastIndex=o),i},w.test=function(e){return!!w.exec.call(this,e)},w.match=function(e){var t;if(E.isRegExp(e)){if(e.global)return t=P.match.apply(this,arguments),e.lastIndex=0,t}else e=new RegExp(e);return w.exec.call(e,v(this))},w.replace=function(e,t){var n,r,o,a=E.isRegExp(e);return a?(e[T]&&(r=e[T].captureNames),n=e.lastIndex):e+="",o=d(t,"Function")?P.replace.call(String(this),e,(function(){var n,o=arguments;if(r)for(o[0]=new String(o[0]),n=0;n<r.length;++n)r[n]&&(o[0][r[n]]=o[n+1]);return a&&e.global&&(e.lastIndex=o[o.length-2]+o[0].length),t.apply(void 0,o)})):P.replace.call(null==this?this:String(this),e,(function(){var e=arguments;return P.replace.call(String(t),A,(function(t,n,o){var a;if(n){if(a=+n,a<=e.length-3)return e[a]||"";if(a=r?c(r,n):-1,a<0)throw new SyntaxError("Backreference to undefined group "+t);return e[a+1]||""}if("$"===o)return"$";if("&"===o||0===+o)return e[0];if("`"===o)return e[e.length-1].slice(0,e[e.length-2]);if("'"===o)return e[e.length-1].slice(e[e.length-2]+e[0].length);if(o=+o,!isNaN(o)){if(o>e.length-3)throw new SyntaxError("Backreference to undefined group "+t);return e[o]||""}throw new SyntaxError("Invalid token "+t)}))})),a&&(e.global?e.lastIndex=0:e.lastIndex=n),o},w.split=function(e,t){if(!E.isRegExp(e))return P.split.apply(this,arguments);var n,r=String(this),o=[],a=e.lastIndex,i=0;return t=(void 0===t?-1:t)>>>0,E.forEach(r,e,(function(e){e.index+e[0].length>i&&(o.push(r.slice(i,e.index)),e.length>1&&e.index<r.length&&Array.prototype.push.apply(o,e.slice(1)),n=e[0].length,i=e.index+n)})),i===r.length?P.test.call(e,"")&&!n||o.push(""):o.push(r.slice(i)),e.lastIndex=a,o.length>t?o.slice(0,t):o},E.addToken(/\\([ABCE-RTUVXYZaeg-mopqyz]|c(?![A-Za-z])|u(?![\dA-Fa-f]{4}|{[\dA-Fa-f]+})|x(?![\dA-Fa-f]{2}))/,(function(e,t){if("B"===e[1]&&t===x)return e[0];throw new SyntaxError("Invalid escape "+e[0])}),{scope:"all",leadChar:"\\"}),E.addToken(/\\u{([\dA-Fa-f]+)}/,(function(e,t,n){var r=i(e[1]);if(r>1114111)throw new SyntaxError("Invalid Unicode code point "+e[0]);if(r<=65535)return"\\u"+p(s(r));if(j&&n.indexOf("u")>-1)return e[0];throw new SyntaxError("Cannot use Unicode code point above \\u{FFFF} without flag u")}),{scope:"all",leadChar:"\\"}),E.addToken(/\[(\^?)]/,(function(e){return e[1]?"[\\s\\S]":"\\b\\B"}),{leadChar:"["}),E.addToken(/\(\?#[^)]*\)/,(function(e,t,n){return f(e.input,e.index+e[0].length,n)?"":"(?:)"}),{leadChar:"("}),E.addToken(/\s+|#[^\n]*\n?/,(function(e,t,n){return f(e.input,e.index+e[0].length,n)?"":"(?:)"}),{flag:"x"}),E.addToken(/\./,(function(){return"[\\s\\S]"}),{flag:"s",leadChar:"."}),E.addToken(/\\k<([\w$]+)>/,(function(e){var t=isNaN(e[1])?c(this.captureNames,e[1])+1:+e[1],n=e.index+e[0].length;if(!t||t>this.captureNames.length)throw new SyntaxError("Backreference to undefined group "+e[0]);return"\\"+t+(n===e.input.length||isNaN(e.input.charAt(n))?"":"(?:)")}),{leadChar:"\\"}),E.addToken(/\\(\d+)/,(function(e,t){if(!(t===x&&/^[1-9]/.test(e[1])&&+e[1]<=this.captureNames.length)&&"0"!==e[1])throw new SyntaxError("Cannot use octal escape or backreference to undefined group "+e[0]);return e[0]}),{scope:"all",leadChar:"\\"}),E.addToken(/\(\?P?<([\w$]+)>/,(function(e){if(!isNaN(e[1]))throw new SyntaxError("Cannot use integer as capture name "+e[0]);if("length"===e[1]||"__proto__"===e[1])throw new SyntaxError("Cannot use reserved word as capture name "+e[0]);if(c(this.captureNames,e[1])>-1)throw new SyntaxError("Cannot use same name for multiple groups "+e[0]);return this.captureNames.push(e[1]),this.hasNamedCapture=!0,"("}),{leadChar:"("}),E.addToken(/\((?!\?)/,(function(e,t,n){return n.indexOf("n")>-1?"(?:":(this.captureNames.push(null),"(")}),{optionalFlags:"n",leadChar:"("}),e.exports=E},,function(e,t,n,r){"use strict";var o=n(r);e.exports=function(e){if(!e||!e.client)throw new Error("Missing required client property in options");return new o(e)}},,function(e,t,n,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e){var t=e.enableRichText,n=a(e,["enableRichText"]),r=t?"richtext":"textarea";return c.default.createElement(f.default,l({},n,{fieldType:r}))}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(1),c=o(s),d=n(r),f=o(d),p=n(6),h=n(3),m=o(h);t.default=(0,p.subscribeToStores)(i,[m.default.CONFIG],(function(e){var t=u(e,1),n=t[0];return{enableRichText:n.getFeatureFlag("enableRichText")}})),e.exports=t.default}]);